var Jce=Object.defineProperty,eue=(fe,ve,N)=>ve in fe?Jce(fe,ve,{enumerable:!0,configurable:!0,writable:!0,value:N}):fe[ve]=N,Bt=(fe,ve,N)=>(eue(fe,"symbol"!=typeof ve?ve+"":ve,N),N);(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{5985:(fe,ve,N)=>{"use strict";function j(n){return"function"==typeof n}function ee(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const se=ee(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ie(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ne{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(j(i))try{i()}catch(s){t=s instanceof se?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ge(s)}catch(a){t=t??[],a instanceof se?t=[...t,...a.errors]:t.push(a)}}if(t)throw new se(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ge(t);else{if(t instanceof ne){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ie(e,t)}remove(t){const{_finalizers:e}=this;e&&ie(e,t),t instanceof ne&&t._removeParent(this)}}ne.EMPTY=(()=>{const n=new ne;return n.closed=!0,n})();const re=ne.EMPTY;function ue(n){return n instanceof ne||n&&"closed"in n&&j(n.remove)&&j(n.add)&&j(n.unsubscribe)}function ge(n){j(n)?n():n.unsubscribe()}const Ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Be={setTimeout(n,t,...e){const{delegate:i}=Be;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Be;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rt(n){Be.setTimeout(()=>{const{onUnhandledError:t}=Ce;if(!t)throw n;t(n)})}function st(){}const et=Qe("C",void 0,void 0);function Qe(n,t,e){return{kind:n,value:t,error:e}}let xt=null;function xe(n){if(Ce.useDeprecatedSynchronousErrorHandling){const t=!xt;if(t&&(xt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=xt;if(xt=null,e)throw i}}else n()}class ct extends ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ue(t)&&t.add(this)):this.destination=_t}static create(t,e,i){return new Ot(t,e,i)}next(t){this.isStopped?dt(function we(n){return Qe("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?dt(function Ve(n){return Qe("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?dt(et,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function zt(n,t){return yt.call(n,t)}class At{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ln(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ln(i)}else ln(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ln(e)}}}class Ot extends ct{constructor(t,e,i){let r;if(super(),j(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Ce.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&zt(t.next,s),error:t.error&&zt(t.error,s),complete:t.complete&&zt(t.complete,s)}):r=t}this.destination=new At(r)}}function ln(n){Ce.useDeprecatedSynchronousErrorHandling?function ot(n){Ce.useDeprecatedSynchronousErrorHandling&&xt&&(xt.errorThrown=!0,xt.error=n)}(n):rt(n)}function dt(n,t){const{onStoppedNotification:e}=Ce;e&&Be.setTimeout(()=>e(n,t))}const _t={closed:!0,next:st,error:function En(n){throw n},complete:st},$e="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ae(n){return n}function Mt(n){return 0===n.length?Ae:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let tt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function mn(n){return n&&n instanceof ct||function Le(n){return n&&j(n.next)&&j(n.error)&&j(n.complete)}(n)&&ue(n)}(e)?e:new Ot(e,i,r);return xe(()=>{const{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Jt(i))((r,s)=>{const a=new Ot({next:l=>{try{e(l)}catch(h){s(h),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[$e](){return this}pipe(...e){return Mt(e)(this)}toPromise(e){return new(e=Jt(e))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=t=>new n(t),n})();function Jt(n){var t;return null!==(t=n??Ce.Promise)&&void 0!==t?t:Promise}const Jn=ee(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ge=(()=>{class n extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Ai(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Jn}next(e){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?re:(this.currentObservers=null,s.push(e),new ne(()=>{this.currentObservers=null,ie(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new tt;return e.source=this,e}}return n.create=(t,e)=>new Ai(t,e),n})();class Ai extends Ge{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:re}}function Oi(n){return j(n?.lift)}function vn(n){return t=>{if(Oi(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function On(n,t,e,i,r){return new dr(n,t,e,i,r)}class dr extends ct{constructor(t,e,i,r,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(l){try{e(l)}catch(h){t.error(h)}}:super._next,this._error=r?function(l){try{r(l)}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function vt(n,t){return vn((e,i)=>{let r=0;e.subscribe(On(i,s=>{i.next(n.call(t,s,r++))}))})}function co(n){return this instanceof co?(this.v=n,this):new co(n)}function jp(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(D){i[D]&&(r[D]=function(T){return new Promise(function(k,O){s.push([D,T,k,O])>1||l(D,T)})})}function l(D,T){try{!function h(D){D.value instanceof co?Promise.resolve(D.value.v).then(m,v):C(s[0][2],D)}(i[D](T))}catch(k){C(s[0][3],k)}}function m(D){l("next",D)}function v(D){l("throw",D)}function C(D,T){D(T),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Up(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Co(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(a){return new Promise(function(l,h){!function r(s,a,l,h){Promise.resolve(h).then(function(m){s({value:m,done:l})},a)}(l,h,(a=n[s](a)).done,a.value)})}}}const tl=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Hc(n){return j(n?.then)}function zc(n){return j(n[$e])}function nl(n){return Symbol.asyncIterator&&j(n?.[Symbol.asyncIterator])}function $s(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $c=function ba(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jc(n){return j(n?.[$c])}function Wp(n){return jp(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield co(e.read());if(r)return yield co(void 0);yield yield co(i)}}finally{e.releaseLock()}})}function Uc(n){return j(n?.getReader)}function wr(n){if(n instanceof tt)return n;if(null!=n){if(zc(n))return function Zw(n){return new tt(t=>{const e=n[$e]();if(j(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(tl(n))return function il(n){return new tt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Hc(n))return function Ih(n){return new tt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,rt)})}(n);if(nl(n))return rl(n);if(jc(n))return function Xw(n){return new tt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Uc(n))return function ty(n){return rl(Wp(n))}(n)}throw $s(n)}function rl(n){return new tt(t=>{(function Qw(n,t){var e,i,r,s;return function gs(n,t,e,i){return new(e||(e=Promise))(function(s,a){function l(v){try{m(i.next(v))}catch(C){a(C)}}function h(v){try{m(i.throw(v))}catch(C){a(C)}}function m(v){v.done?s(v.value):function r(s){return s instanceof e?s:new e(function(a){a(s)})}(v.value).then(l,h)}m((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Up(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Go(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Or(n,t,e=1/0){return j(t)?Or((i,r)=>vt((s,a)=>t(i,s,r,a))(wr(n(i,r))),e):("number"==typeof t&&(e=t),vn((i,r)=>function Jw(n,t,e,i,r,s,a,l){const h=[];let m=0,v=0,C=!1;const D=()=>{C&&!h.length&&!m&&t.complete()},T=O=>m<i?k(O):h.push(O),k=O=>{s&&t.next(O),m++;let B=!1;wr(e(O,v++)).subscribe(On(t,V=>{r?.(V),s?T(V):t.next(V)},()=>{B=!0},void 0,()=>{if(B)try{for(m--;h.length&&m<i;){const V=h.shift();a?Go(t,a,()=>k(V)):k(V)}D()}catch(V){t.error(V)}}))};return n.subscribe(On(t,T,()=>{C=!0,D()})),()=>{l?.()}}(i,r,n,e)))}function sl(n=1/0){return Or(Ae,n)}const js=new tt(n=>n.complete());function Rh(n){return n&&j(n.schedule)}function Pi(n){return n[n.length-1]}function Oh(n){return j(Pi(n))?n.pop():void 0}function ti(n){return Rh(Pi(n))?n.pop():void 0}function xo(n,t=0){return vn((e,i)=>{e.subscribe(On(i,r=>Go(i,n,()=>i.next(r),t),()=>Go(i,n,()=>i.complete(),t),r=>Go(i,n,()=>i.error(r),t)))})}function iy(n,t=0){return vn((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function wa(n,t){if(!n)throw new Error("Iterable cannot be null");return new tt(e=>{Go(e,t,()=>{const i=n[Symbol.asyncIterator]();Go(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function ai(n,t){return t?function nC(n,t){if(null!=n){if(zc(n))return function ry(n,t){return wr(n).pipe(iy(t),xo(t))}(n,t);if(tl(n))return function sy(n,t){return new tt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Hc(n))return function tC(n,t){return wr(n).pipe(iy(t),xo(t))}(n,t);if(nl(n))return wa(n,t);if(jc(n))return function Gr(n,t){return new tt(e=>{let i;return Go(e,t,()=>{i=n[$c](),Go(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void e.error(a)}s?e.complete():e.next(r)},0,!0)}),()=>j(i?.return)&&i.return()})}(n,t);if(Uc(n))return function Kp(n,t){return wa(Wp(n),t)}(n,t)}throw $s(n)}(n,t):wr(n)}function rr(...n){const t=ti(n),e=function eC(n,t){return"number"==typeof Pi(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?wr(i[0]):sl(e)(ai(i,t)):js}function oy(n={}){const{connector:t=(()=>new Ge),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,l,h,m=0,v=!1,C=!1;const D=()=>{l?.unsubscribe(),l=void 0},T=()=>{D(),a=h=void 0,v=C=!1},k=()=>{const O=a;T(),O?.unsubscribe()};return vn((O,B)=>{m++,!C&&!v&&D();const V=h=h??t();B.add(()=>{m--,0===m&&!C&&!v&&(l=uo(k,r))}),V.subscribe(B),!a&&m>0&&(a=new Ot({next:q=>V.next(q),error:q=>{C=!0,D(),l=uo(T,e,q),V.error(q)},complete:()=>{v=!0,D(),l=uo(T,i),V.complete()}}),wr(O).subscribe(a))})(s)}}function uo(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ot({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function Ei(n){for(let t in n)if(n[t]===Ei)return t;throw Error("Could not find renamed property on target object.")}function Yp(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function si(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(si).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Gc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const ay=Ei({__forward_ref__:Ei});function ni(n){return n.__forward_ref__=ni,n.toString=function(){return si(this())},n}function cn(n){return Zp(n)?n():n}function Zp(n){return"function"==typeof n&&n.hasOwnProperty(ay)&&n.__forward_ref__===ni}class Ze extends Error{constructor(t,e){super(function Ph(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function wn(n){return"string"==typeof n?n:null==n?"":String(n)}function Fh(n,t){throw new Ze(-201,!1)}function ks(n,t){null==n&&function Kn(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function qr(n){return cy(n,qc)||cy(n,Bh)}function cy(n,t){return n.hasOwnProperty(t)?n[t]:null}function ad(n){return n&&(n.hasOwnProperty(Nh)||n.hasOwnProperty(Kc))?n[Nh]:null}const qc=Ei({\u0275prov:Ei}),Nh=Ei({\u0275inj:Ei}),Bh=Ei({ngInjectableDef:Ei}),Kc=Ei({ngInjectorDef:Ei});var en=(()=>((en=en||{})[en.Default=0]="Default",en[en.Host=1]="Host",en[en.Self=2]="Self",en[en.SkipSelf=4]="SkipSelf",en[en.Optional=8]="Optional",en))();let Vh;function ho(n){const t=Vh;return Vh=n,t}function dy(n,t,e){const i=qr(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&en.Optional?null:void 0!==t?t:void Fh(si(n))}function ol(n){return{toString:n}.toString()}var Do=(()=>((Do=Do||{})[Do.OnPush=0]="OnPush",Do[Do.Default=1]="Default",Do))(),Cr=(()=>{return(n=Cr||(Cr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Cr;var n})();const Ii=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yc={},Gn=[],al=Ei({\u0275cmp:Ei}),ld=Ei({\u0275dir:Ei}),qo=Ei({\u0275pipe:Ei}),Zc=Ei({\u0275mod:Ei}),Ca=Ei({\u0275fac:Ei}),ll=Ei({__NG_ELEMENT_ID__:Ei});let vs=0;function un(n){return ol(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Do.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Gn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Cr.Emulated,id:"c"+vs++,styles:n.styles||Gn,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,a=n.features;return r.inputs=zh(n.inputs,i),r.outputs=zh(n.outputs),a&&a.forEach(l=>l(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(Xc).filter(Hh):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(rs).filter(Hh):null,r})}function Xc(n){return mi(n)||fr(n)}function Hh(n){return null!==n}function on(n){return ol(()=>({type:n.type,bootstrap:n.bootstrap||Gn,declarations:n.declarations||Gn,imports:n.imports||Gn,exports:n.exports||Gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zh(n,t){if(null==n)return Yc;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const De=un;function ys(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function mi(n){return n[al]||null}function fr(n){return n[ld]||null}function rs(n){return n[qo]||null}function Gs(n,t){const e=n[Zc]||null;if(!e&&!0===t)throw new Error(`Type ${si(n)} does not have '\u0275mod' property.`);return e}function Rs(n){return Array.isArray(n)&&"object"==typeof n[1]}function fo(n){return Array.isArray(n)&&!0===n[1]}function Uh(n){return 0!=(8&n.flags)}function Gh(n){return 2==(2&n.flags)}function Wh(n){return 1==(1&n.flags)}function Mo(n){return null!==n.template}function gC(n){return 0!=(256&n[2])}function jl(n,t){return n.hasOwnProperty(Ca)?n[Ca]:null}class qh{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yi(){return hd}function hd(n){return n.type.prototype.ngOnChanges&&(n.setInput=fy),bC}function bC(){const n=rg(this),t=n?.current;if(t){const e=n.previous;if(e===Yc)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function fy(n,t,e,i){const r=rg(n)||function py(n,t){return n[ig]=t}(n,{previous:Yc,current:null}),s=r.current||(r.current={}),a=r.previous,l=this.declaredInputs[e],h=a[l];s[l]=new qh(h&&h.currentValue,t,a===Yc),n[i]=t}Yi.ngInherit=!0;const ig="__ngSimpleChanges__";function rg(n){return n[ig]||null}function Ri(n){for(;Array.isArray(n);)n=n[0];return n}function Yh(n,t){return Ri(t[n])}function An(n,t){return Ri(t[n.index])}function ru(n,t){return n.data[t]}function jn(n,t){return n[t]}function Ln(n,t){const e=t[n];return Rs(e)?e:e[0]}function su(n){return 64==(64&n[2])}function dl(n,t){return null==t?null:n[t]}function yy(n){n[18]=0}function hl(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Xt={lFrame:go(null),bindingsEnabled:!0};function _y(){return Xt.bindingsEnabled}function nt(){return Xt.lFrame.lView}function Yn(){return Xt.lFrame.tView}function Ks(n){return Xt.lFrame.contextLView=n,n[8]}function ii(n){return Xt.lFrame.contextLView=null,n}function Sn(){let n=wy();for(;null!==n&&64===n.type;)n=n.parent;return n}function wy(){return Xt.lFrame.currentTNode}function Ko(n,t){const e=Xt.lFrame;e.currentTNode=n,e.isParent=t}function Yo(){return Xt.lFrame.isParent}function Zo(){Xt.lFrame.isParent=!1}function os(){const n=Xt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Qo(){return Xt.lFrame.bindingIndex++}function Jo(n){const t=Xt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function og(n,t){const e=Xt.lFrame;e.bindingIndex=e.bindingRootIndex=n,Ys(t)}function Ys(n){Xt.lFrame.currentDirectiveIndex=n}function Qh(n){const t=Xt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function ag(){return Xt.lFrame.currentQueryIndex}function Jh(n){Xt.lFrame.currentQueryIndex=n}function AC(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Gl(n,t,e){if(e&en.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&en.Host||(r=AC(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Xt.lFrame=Zs();return i.currentTNode=t,i.lView=n,!0}function ea(n){const t=Zs(),e=n[1];Xt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Zs(){const n=Xt.lFrame,t=null===n?null:n.child;return null===t?go(n):t}function go(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function fl(){const n=Xt.lFrame;return Xt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const au=fl;function lu(){const n=fl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function as(){return Xt.lFrame.selectedIndex}function xa(n){Xt.lFrame.selectedIndex=n}function Li(){const n=Xt.lFrame;return ru(n.tView,n.selectedIndex)}function ta(){Xt.lFrame.currentNamespace="svg"}function ef(){!function IC(){Xt.lFrame.currentNamespace=null}()}function yd(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:h,ngAfterViewChecked:m,ngOnDestroy:v}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),l&&((n.contentHooks||(n.contentHooks=[])).push(e,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,l)),h&&(n.viewHooks||(n.viewHooks=[])).push(-e,h),m&&((n.viewHooks||(n.viewHooks=[])).push(e,m),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,m)),null!=v&&(n.destroyHooks||(n.destroyHooks=[])).push(e,v)}}function tf(n,t,e){Dy(n,t,3,e)}function nf(n,t,e,i){(3&n[2])===e&&Dy(n,t,e,i)}function cg(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Dy(n,t,e,i){const s=i??-1,a=t.length-1;let l=0;for(let h=void 0!==i?65535&n[18]:0;h<a;h++)if("number"==typeof t[h+1]){if(l=t[h],null!=i&&l>=i)break}else t[h]<0&&(n[18]+=65536),(l<s||-1==s)&&(RC(n,e,t,h),n[18]=(4294901760&n[18])+h+2),h++}function RC(n,t,e,i){const r=e[i]<0,s=e[i+1],l=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class _d{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Wl(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],a=e[i++],l=e[i++];n.setAttribute(t,a,l,s)}else{const s=r,a=e[++i];Ey(s)?n.setProperty(t,s,a):n.setAttribute(t,s,a),i++}}return i}function dg(n){return 3===n||4===n||6===n}function Ey(n){return 64===n.charCodeAt(0)}function bd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||hg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function hg(n,t,e,i,r){let s=0,a=n.length;if(-1===t)a=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,t),s=a+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Sy(n){return-1!==n}function Da(n){return 32767&n}function ql(n,t){let e=function gl(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let sf=!0;function af(n){const t=sf;return sf=n,t}let My=0;const Fn={};function uu(n,t){const e=pg(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,du(i.data,n),du(t,null),du(i.blueprint,null));const r=lf(n,t),s=n.injectorIndex;if(Sy(r)){const a=Da(r),l=ql(r,t),h=l[1].data;for(let m=0;m<8;m++)t[s+m]=l[a+m]|h[a+m]}return t[s+8]=r,s}function du(n,t){n.push(0,0,0,0,0,0,0,0,t)}function pg(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function lf(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=mg(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Kl(n,t,e){!function BC(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ll)&&(i=e[ll]),null==i&&(i=e[ll]=My++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function Cd(n,t,e){if(e&en.Optional||void 0!==n)return n;Fh()}function xd(n,t,e,i){if(e&en.Optional&&void 0===i&&(i=null),0==(e&(en.Self|en.Host))){const r=n[9],s=ho(void 0);try{return r?r.get(t,i,e&en.Optional):dy(t,i,e&en.Optional)}finally{ho(s)}}return Cd(i,0,e)}function Fr(n,t,e,i=en.Default,r){if(null!==n){if(1024&t[2]){const a=function Ry(n,t,e,i,r){let s=n,a=t;for(;null!==s&&null!==a&&1024&a[2]&&!(256&a[2]);){const l=cf(s,a,e,i|en.Self,Fn);if(l!==Fn)return l;let h=s.parent;if(!h){const m=a[21];if(m){const v=m.get(e,Fn,i);if(v!==Fn)return v}h=mg(a),a=a[15]}s=h}return r}(n,t,e,i,Fn);if(a!==Fn)return a}const s=cf(n,t,e,i,Fn);if(s!==Fn)return s}return xd(t,e,i,r)}function cf(n,t,e,i,r){const s=function VC(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ll)?n[ll]:void 0;return"number"==typeof t?t>=0?255&t:Iy:t}(e);if("function"==typeof s){if(!Gl(t,n,i))return i&en.Host?Cd(r,0,i):xd(t,e,i,r);try{const a=s(i);if(null!=a||i&en.Optional)return a;Fh()}finally{au()}}else if("number"==typeof s){let a=null,l=pg(n,t),h=-1,m=i&en.Host?t[16][6]:null;for((-1===l||i&en.SkipSelf)&&(h=-1===l?lf(n,t):t[l+8],-1!==h&&ky(i,!1)?(a=t[1],l=Da(h),t=ql(h,t)):l=-1);-1!==l;){const v=t[1];if(Ay(s,l,v.data)){const C=gg(l,t,e,a,i,m);if(C!==Fn)return C}h=t[l+8],-1!==h&&ky(i,t[1].data[l+8]===m)&&Ay(s,l,t)?(a=v,l=Da(h),t=ql(h,t)):l=-1}}return r}function gg(n,t,e,i,r,s){const a=t[1],l=a.data[n+8],v=Ea(l,a,e,null==i?Gh(l)&&sf:i!=a&&0!=(3&l.type),r&en.Host&&s===l);return null!==v?Dd(t,a,v,l):Fn}function Ea(n,t,e,i,r){const s=n.providerIndexes,a=t.data,l=1048575&s,h=n.directiveStart,v=s>>20,D=r?l+v:n.directiveEnd;for(let T=i?l:l+v;T<D;T++){const k=a[T];if(T<h&&e===k||T>=h&&k.type===e)return T}if(r){const T=a[h];if(T&&Mo(T)&&T.type===e)return h}return null}function Dd(n,t,e,i){let r=n[e];const s=t.data;if(function OC(n){return n instanceof _d}(r)){const a=r;a.resolving&&function iC(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${e}`)}(function li(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():wn(n)}(s[e]));const l=af(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?ho(a.injectImpl):null;Gl(n,i,en.Default);try{r=n[e]=a.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function vd(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=hd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==h&&ho(h),af(l),a.resolving=!1,au()}}return r}function Ay(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function ky(n,t){return!(n&en.Self||n&en.Host&&t)}class Xs{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Fr(this._tNode,this._lView,t,i,e)}}function Iy(){return new Xs(Sn(),nt())}function bt(n){return ol(()=>{const t=n.prototype.constructor,e=t[Ca]||Lr(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Ca]||Lr(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Lr(n){return Zp(n)?()=>{const t=Lr(cn(n));return t&&t()}:jl(n)}function mg(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function _s(n){return function Ty(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(dg(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Sn(),n)}const Zl="__parameters__";function hu(n,t,e){return ol(()=>{const i=function Di(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return l.annotation=a,l;function l(h,m,v){const C=h.hasOwnProperty(Zl)?h[Zl]:Object.defineProperty(h,Zl,{value:[]})[Zl];for(;C.length<=v;)C.push(null);return(C[v]=C[v]||[]).push(a),h}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Ie{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qs(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Qs(i,t)):t!==n&&t.push(i)}return t}function Ao(n,t){n.forEach(e=>Array.isArray(e)?Ao(e,t):t(e))}function Sd(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function xr(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Sa(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function wi(n,t,e){let i=sr(n,t);return i>=0?n[1|i]=e:(i=~i,function _g(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function pu(n,t){const e=sr(n,t);if(e>=0)return n[1|e]}function sr(n,t){return function Py(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<e];if(t===a)return s<<e;a>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Id={},pf="__NG_DI_FLAG__",gf="ngTempTokenPath",wg=/\n/gm,Rd="__source";let Od;function gu(n){const t=Od;return Od=n,t}function KC(n,t=en.Default){if(void 0===Od)throw new Ze(-203,!1);return null===Od?dy(n,void 0,t):Od.get(n,t&en.Optional?null:void 0,t)}function le(n,t=en.Default){return(function uy(){return Vh}()||KC)(cn(n),t)}function Ci(n,t=en.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),le(n,t)}function Cg(n){const t=[];for(let e=0;e<n.length;e++){const i=cn(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Ze(900,!1);let r,s=en.Default;for(let a=0;a<i.length;a++){const l=i[a],h=YC(l);"number"==typeof h?-1===h?r=l.token:s|=h:r=l}t.push(le(r,s))}else t.push(le(i))}return t}function Pd(n,t){return n[pf]=t,n.prototype[pf]=t,n}function YC(n){return n[pf]}const Js=Pd(hu("Optional"),8),vl=Pd(hu("SkipSelf"),4);var ws=(()=>((ws=ws||{})[ws.Important=1]="Important",ws[ws.DashCase=2]="DashCase",ws))();const bf=new Map;let wf=0;const Ig="__ngContext__";function cs(n,t){Rs(t)?(n[Ig]=t[20],function Ag(n){bf.set(n[20],n)}(t)):n[Ig]=t}function Cu(n,t){return undefined(n,t)}function Nd(n){const t=n[3];return fo(t)?t[3]:t}function Rg(n){return Pg(n[13])}function Og(n){return Pg(n[4])}function Pg(n){for(;null!==n&&!fo(n);)n=n[4];return n}function xu(n,t,e,i,r){if(null!=i){let s,a=!1;fo(i)?s=i:Rs(i)&&(a=!0,i=i[0]);const l=Ri(i);0===n&&null!==e?null==r?Ng(t,e,l):xs(t,e,l,r||null,!0):1===n&&null!==e?xs(t,e,l,r||null,!0):2===n?function sc(n,t,e){const i=Ta(n,t);i&&function rc(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,l,a):3===n&&t.destroyNode(l),null!=s&&function xx(n,t,e,i,r){const s=e[7];s!==Ri(e)&&xu(t,n,i,s,r);for(let l=10;l<e.length;l++){const h=e[l];Su(h[1],h,n,t,i,s)}}(t,n,s,e,r)}}function Fg(n,t,e){return n.createElement(t,e)}function o_(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,hl(r,-1)),e.splice(i,1)}function mo(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&o_(r,i),t>0&&(n[e-1][4]=i[4]);const s=xr(n,10+t);!function i_(n,t){Su(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function a_(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Su(n,t,e,3,null,null),function _x(n){let t=n[13];if(!t)return Lg(n[1],n);for(;t;){let e=null;if(Rs(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Rs(t)&&Lg(t[1],t),t=t[3];null===t&&(t=n),Rs(t)&&Lg(t[1],t),e=t&&t[4]}t=e}}(t)}}function Lg(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Cx(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof _d)){const s=e[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const l=r[s[a]],h=s[a+1];try{h.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function wx(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],l="function"==typeof a?a(t):Ri(t[a]),h=i[r=e[s+2]],m=e[s+3];"boolean"==typeof m?l.removeEventListener(e[s],h,m):m>=0?i[r=m]():i[r=-m].unsubscribe(),s+=2}else{const a=i[r=e[s+1]];e[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&fo(t[3])){e!==t[3]&&o_(e,t);const i=t[19];null!==i&&i.detachView(n)}!function ax(n){bf.delete(n[20])}(t)}}function l_(n,t,e){return function Df(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Cr.None||r===Cr.Emulated)return null}return An(i,e)}(n,t.parent,e)}function xs(n,t,e,i,r){n.insertBefore(t,e,i,r)}function Ng(n,t,e){n.appendChild(t,e)}function Ef(n,t,e,i,r){null!==i?xs(n,t,e,i,r):Ng(n,t,e)}function Ta(n,t){return n.parentNode(t)}function Os(n,t,e){return Aa(n,t,e)}let Mf,Gg,Aa=function u_(n,t,e){return 40&n.type?An(n,e):null};function Du(n,t,e,i){const r=l_(n,i,t),s=t[11],l=Os(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let h=0;h<e.length;h++)Ef(s,r,e[h],l,!1);else Ef(s,r,e,l,!1)}function Eu(n,t){if(null!==t){const e=t.type;if(3&e)return An(t,n);if(4&e)return _l(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Eu(n,i);{const r=n[t.index];return fo(r)?_l(-1,r):Ri(r)}}if(32&e)return Cu(t,n)()||Ri(n[t.index]);{const i=Vg(n,t);return null!==i?Array.isArray(i)?i[0]:Eu(Nd(n[16]),i):Eu(n,t.next)}}return null}function Vg(n,t){return null!==t?n[16][6].projection[t.projection]:null}function _l(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Eu(i,r)}return t[7]}function Hg(n,t,e,i,r,s,a){for(;null!=e;){const l=i[e.index],h=e.type;if(a&&0===t&&(l&&cs(Ri(l),i),e.flags|=4),64!=(64&e.flags))if(8&h)Hg(n,t,e.child,i,r,s,!1),xu(t,n,r,l,s);else if(32&h){const m=Cu(e,i);let v;for(;v=m();)xu(t,n,r,v,s);xu(t,n,r,l,s)}else 16&h?zg(n,t,i,e,r,s):xu(t,n,r,l,s);e=a?e.projectionNext:e.next}}function Su(n,t,e,i,r,s){Hg(e,i,n.firstChild,t,r,s,!1)}function zg(n,t,e,i,r,s){const a=e[16],h=a[6].projection[i.projection];if(Array.isArray(h))for(let m=0;m<h.length;m++)xu(t,n,r,h[m],s);else Hg(n,t,h,a[3],r,s,!0)}function $g(n,t,e){n.setAttribute(t,"style",e)}function jg(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function bl(n){return function Ug(){if(void 0===Mf&&(Mf=null,Ii.trustedTypes))try{Mf=Ii.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Mf}()?.createHTML(n)||n}class c{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class d extends c{getTypeName(){return"HTML"}}class f extends c{getTypeName(){return"Style"}}class p extends c{getTypeName(){return"Script"}}class g extends c{getTypeName(){return"URL"}}class y extends c{getTypeName(){return"ResourceURL"}}function b(n){return n instanceof c?n.changingThisBreaksApplicationSecurity:n}function _(n,t){const e=function w(n){return n instanceof c&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class R{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(bl(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class F{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=bl(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=bl(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const z=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function K(n){return(n=String(n)).match(z)?n:"unsafe:"+n}function Y(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function H(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Z=Y("area,br,col,hr,img,wbr"),U=Y("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Q=Y("rp,rt"),X=H(Z,H(U,Y("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),H(Q,Y("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),H(Q,U)),me=Y("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),be=H(me,Y("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Y("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Se=Y("script,style,template");class Fe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!X.hasOwnProperty(e))return this.sanitizedSomething=!0,!Se.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,l=a.toLowerCase();if(!be.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let h=s.value;me[l]&&(h=K(h)),this.buf.push(" ",a,'="',Ye(h),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();X.hasOwnProperty(e)&&!Z.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ye(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Re=/([^\#-~ |!])/g;function Ye(n){return n.replace(/&/g,"&amp;").replace(Ee,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Re,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qe;function We(n,t){let e=null;try{qe=qe||function I(n){const t=new F(n);return function L(){try{return!!(new window.DOMParser).parseFromString(bl(""),"text/html")}catch{return!1}}()?new R(t):t}(n);let i=t?String(t):"";e=qe.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=qe.getInertBodyElement(i)}while(i!==s);return bl((new Fe).sanitizeChildren(He(e)||e))}finally{if(e){const i=He(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function He(n){return"content"in n&&function ye(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Me=(()=>((Me=Me||{})[Me.NONE=0]="NONE",Me[Me.HTML=1]="HTML",Me[Me.STYLE=2]="STYLE",Me[Me.SCRIPT=3]="SCRIPT",Me[Me.URL=4]="URL",Me[Me.RESOURCE_URL=5]="RESOURCE_URL",Me))();function mt(n){const t=function kn(){const n=nt();return n&&n[12]}();return t?t.sanitize(Me.URL,n)||"":_(n,"URL")?b(n):K(wn(n))}const yn=new Ie("ENVIRONMENT_INITIALIZER"),Qt=new Ie("INJECTOR",-1),at=new Ie("INJECTOR_DEF_TYPES");class G{get(t,e=Id){if(e===Id){const i=new Error(`NullInjectorError: No provider for ${si(t)}!`);throw i.name="NullInjectorError",i}return e}}function Te(...n){return{\u0275providers:it(0,n)}}function it(n,...t){const e=[],i=new Set;let r;return Ao(t,s=>{const a=s;ze(a,e,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&je(r,e),e}function je(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];Ao(r,s=>{t.push(s)})}}function ze(n,t,e,i){if(!(n=cn(n)))return!1;let r=null,s=ad(n);const a=!s&&mi(n);if(s||a){if(a&&!a.standalone)return!1;r=n}else{const h=n.ngModule;if(s=ad(h),!s)return!1;r=h}const l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){const h="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const m of h)ze(m,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let m;i.add(r);try{Ao(s.imports,v=>{ze(v,t,e,i)&&(m||(m=[]),m.push(v))})}finally{}void 0!==m&&je(m,t)}if(!l){const m=jl(r)||(()=>new r);t.push({provide:r,useFactory:m,deps:Gn},{provide:at,useValue:r,multi:!0},{provide:yn,useValue:()=>le(r),multi:!0})}const h=s.providers;null==h||l||Ao(h,v=>{t.push(v)})}}return r!==n&&void 0!==n.providers}const lt=Ei({provide:String,useValue:Ei});function Nt(n){return null!==n&&"object"==typeof n&&lt in n}function pn(n){return"function"==typeof n}const _n=new Ie("Set Injector scope."),Mn={},Xi={};let Er;function Ps(){return void 0===Er&&(Er=new G),Er}class Vr{}class Hr extends Vr{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,us(t,a=>this.processProvider(a)),this.records.set(Qt,Io(void 0,this)),r.has("environment")&&this.records.set(Vr,Io(void 0,this));const s=this.records.get(_n);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(at.multi,Gn,en.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=gu(this),i=ho(void 0);try{return t()}finally{gu(e),ho(i)}}get(t,e=Id,i=en.Default){this.assertNotDestroyed();const r=gu(this),s=ho(void 0);try{if(!(i&en.SkipSelf)){let l=this.records.get(t);if(void 0===l){const h=function Tf(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ie}(t)&&qr(t);l=h&&this.injectableDefInScope(h)?Io(Fs(t),Mn):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&en.Self?Ps():this.parent).get(t,e=i&en.Optional&&e===Id?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[gf]=a[gf]||[]).unshift(si(t)),r)throw a;return function Ny(n,t,e,i){const r=n[gf];throw t[Rd]&&r.unshift(t[Rd]),n.message=function ZC(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=si(t);if(Array.isArray(t))r=t.map(si).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];s.push(a+":"+("string"==typeof l?JSON.stringify(l):si(l)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(wg,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[gf]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{ho(s),gu(r)}}resolveInjectorInitializers(){const t=gu(this),e=ho(void 0);try{const i=this.get(yn.multi,Gn,en.Self);for(const r of i)r()}finally{gu(t),ho(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(si(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(t){let e=pn(t=cn(t))?t:cn(t&&t.provide);const i=function ka(n){return Nt(n)?Io(void 0,n.useValue):Io(Ia(n),Mn)}(t);if(pn(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Io(void 0,Mn,!0),r.factory=()=>Cg(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Mn&&(e.value=Xi,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Mu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=cn(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Fs(n){const t=qr(n),e=null!==t?t.factory:jl(n);if(null!==e)return e;if(n instanceof Ie)throw new Ze(204,!1);if(n instanceof Function)return function Ds(n){const t=n.length;if(t>0)throw Sa(t,"?"),new Ze(204,!1);const e=function lC(n){const t=n&&(n[qc]||n[Bh]);if(t){const e=function cC(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Ze(204,!1)}function Ia(n,t,e){let i;if(pn(n)){const r=cn(n);return jl(r)||Fs(r)}if(Nt(n))i=()=>cn(n.useValue);else if(function vi(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Cg(n.deps||[]));else if(function Zn(n){return!(!n||!n.useExisting)}(n))i=()=>le(cn(n.useExisting));else{const r=cn(n&&(n.useClass||n.provide));if(!function oc(n){return!!n.deps}(n))return jl(r)||Fs(r);i=()=>new r(...Cg(n.deps))}return i}function Io(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function ac(n){return!!n.\u0275providers}function us(n,t){for(const e of n)Array.isArray(e)?us(e,t):ac(e)?us(e.\u0275providers,t):t(e)}class Es{}class Mx{resolveComponentFactory(t){throw function Af(n){const t=Error(`No component factory found for ${si(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let lc=(()=>{class n{}return n.NULL=new Mx,n})();function Tx(){return Tu(Sn(),nt())}function Tu(n,t){return new Et(An(n,t))}let Et=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Tx,n})();function Ax(n){return n instanceof Et?n.nativeElement:n}class Ra{}let eo=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function kf(){const n=nt(),e=Ln(Sn().index,n);return(Rs(e)?e:n)[11]}(),n})(),p_=(()=>{class n{}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>null}),n})();class Oa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const kx=new Oa("14.2.12"),to={};function cc(n){return n.ngOriginalError}class Sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&cc(t);for(;e&&cc(e);)e=cc(e);return e||null}}function uc(n){return n instanceof Function?n():n}function BA(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const VA="ng-template";function Hz(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==BA(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function HA(n){return 4===n.type&&n.value!==VA}function zz(n,t,e){return t===(4!==n.type||e?n.value:VA)}function $z(n,t,e){let i=4;const r=n.attrs||[],s=function Gz(n){for(let t=0;t<n.length;t++)if(dg(n[t]))return t;return n.length}(r);let a=!1;for(let l=0;l<t.length;l++){const h=t[l];if("number"!=typeof h){if(!a)if(4&i){if(i=2|1&i,""!==h&&!zz(n,h,e)||""===h&&1===t.length){if(Pa(i))return!1;a=!0}}else{const m=8&i?h:t[++l];if(8&i&&null!==n.attrs){if(!Hz(n.attrs,m,e)){if(Pa(i))return!1;a=!0}continue}const C=jz(8&i?"class":h,r,HA(n),e);if(-1===C){if(Pa(i))return!1;a=!0;continue}if(""!==m){let D;D=C>s?"":r[C+1].toLowerCase();const T=8&i?D:null;if(T&&-1!==BA(T,m,0)||2&i&&m!==D){if(Pa(i))return!1;a=!0}}}}else{if(!a&&!Pa(i)&&!Pa(h))return!1;if(a&&Pa(h))continue;a=!1,i=h|1&i}}return Pa(i)||a}function Pa(n){return 0==(1&n)}function jz(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let l=t[++r];for(;"string"==typeof l;)l=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function Wz(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function zA(n,t,e=!1){for(let i=0;i<t.length;i++)if($z(n,t[i],e))return!0;return!1}function qz(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function $A(n,t){return n?":not("+t.trim()+")":t}function Kz(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const l=n[++e];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!Pa(a)&&(t+=$A(s,r),r=""),i=a,s=s||!Pa(i);e++}return""!==r&&(t+=$A(s,r)),t}const Rn={};function ke(n){jA(Yn(),nt(),as()+n,!1)}function jA(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&tf(t,s,e)}else{const s=n.preOrderHooks;null!==s&&nf(t,s,0,e)}xa(e)}function qA(n,t=null,e=null,i){const r=KA(n,t,e,i);return r.resolveInjectorInitializers(),r}function KA(n,t=null,e=null,i,r=new Set){const s=[e||Gn,Te(n)];return i=i||("object"==typeof n?void 0:si(n)),new Hr(s,t||Ps(),i||null,r)}let or=(()=>{class n{static create(e,i){if(Array.isArray(e))return qA({name:""},i,e,"");{const r=e.name??"";return qA({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Id,n.NULL=new G,n.\u0275prov=Pe({token:n,providedIn:"any",factory:()=>le(Qt)}),n.__NG_ELEMENT_ID__=-1,n})();function P(n,t=en.Default){const e=nt();return null===e?le(n,t):Fr(Sn(),e,cn(n),t)}function Au(){throw new Error("invalid")}function v_(n,t){return n<<17|t<<2}function Fa(n){return n>>17&32767}function Lx(n){return 2|n}function dc(n){return(131068&n)>>2}function Nx(n,t){return-131069&n|t<<2}function Bx(n){return 1|n}function h1(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const a=n.data[s];Jh(r),a.contentQueries(2,t[s],s)}}}function b_(n,t,e,i,r,s,a,l,h,m,v){const C=t.blueprint.slice();return C[0]=r,C[2]=76|i,(null!==v||n&&1024&n[2])&&(C[2]|=1024),yy(C),C[3]=C[15]=n,C[8]=e,C[10]=a||n&&n[10],C[11]=l||n&&n[11],C[12]=h||n&&n[12]||null,C[9]=m||n&&n[9]||null,C[6]=s,C[20]=function Cf(){return wf++}(),C[21]=v,C[16]=2==t.type?n[16]:C,C}function Of(n,t,e,i,r){let s=n.data[t];if(null===s)s=function Wx(n,t,e,i,r){const s=wy(),a=Yo(),h=n.data[t]=function I5(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=h),null!==s&&(a?null==s.child&&null!==h.parent&&(s.child=h):null===s.next&&(s.next=h)),h}(n,t,e,i,r),function TC(){return Xt.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const a=function fd(){const n=Xt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Ko(s,!0),s}function Pf(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function qx(n,t,e){ea(t);try{const i=n.viewQuery;null!==i&&tD(1,i,e);const r=n.template;null!==r&&f1(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&h1(n,t),n.staticViewQueries&&tD(2,n.viewQuery,e);const s=n.components;null!==s&&function T5(n,t){for(let e=0;e<t.length;e++)q5(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,lu()}}function w_(n,t,e,i){const r=t[2];if(128!=(128&r)){ea(t);try{yy(t),function Cy(n){return Xt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&f1(n,t,e,2,i);const a=3==(3&r);if(a){const m=n.preOrderCheckHooks;null!==m&&tf(t,m,null)}else{const m=n.preOrderHooks;null!==m&&nf(t,m,0,null),cg(t,0)}if(function G5(n){for(let t=Rg(n);null!==t;t=Og(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&hl(s,1),r[2]|=512}}}(t),function U5(n){for(let t=Rg(n);null!==t;t=Og(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];su(i)&&w_(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&h1(n,t),a){const m=n.contentCheckHooks;null!==m&&tf(t,m)}else{const m=n.contentHooks;null!==m&&nf(t,m,1),cg(t,1)}!function S5(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)xa(~r);else{const s=r,a=e[++i],l=e[++i];og(a,s),l(2,t[s])}}}finally{xa(-1)}}(n,t);const l=n.components;null!==l&&function M5(n,t){for(let e=0;e<t.length;e++)W5(n,t[e])}(t,l);const h=n.viewQuery;if(null!==h&&tD(2,h,i),a){const m=n.viewCheckHooks;null!==m&&tf(t,m)}else{const m=n.viewHooks;null!==m&&nf(t,m,2),cg(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,hl(t[3],-1))}finally{lu()}}}function f1(n,t,e,i,r){const s=as(),a=2&i;try{xa(-1),a&&t.length>22&&jA(n,t,22,!1),e(i,r)}finally{xa(s)}}function p1(n,t,e){if(Uh(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}function Kx(n,t,e){!_y()||(function L5(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||uu(e,t),cs(i,t);const a=e.initialInputs;for(let l=r;l<s;l++){const h=n.data[l],m=Mo(h);m&&z5(t,e,h);const v=Dd(t,n,l,e);cs(v,t),null!==a&&$5(0,l-r,v,h,0,a),m&&(Ln(e.index,t)[8]=v)}}(n,t,e,An(e,t)),128==(128&e.flags)&&function N5(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function ou(){return Xt.lFrame.currentDirectiveIndex}();try{xa(s);for(let l=i;l<r;l++){const h=n.data[l],m=t[l];Ys(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&w1(h,m)}}finally{xa(-1),Ys(a)}}(n,t,e))}function Yx(n,t,e=An){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],l=-1===a?e(t,n):n[a];n[r++]=l}}}function g1(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Zx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Zx(n,t,e,i,r,s,a,l,h,m){const v=22+i,C=v+r,D=function A5(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Rn);return e}(v,C),T="function"==typeof m?m():m;return D[1]={type:n,blueprint:D,template:e,queries:null,viewQuery:l,declTNode:t,data:D.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:h,consts:T,incompleteFirstPass:!1}}function m1(n,t,e,i){const r=S1(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&M1(n).push(i,r.length-1))}function v1(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function y1(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,a=[];let l=null,h=null;for(let m=t.directiveStart;m<i;m++){const v=r[m],C=v.inputs,D=null===s||HA(t)?null:j5(C,s);a.push(D),l=v1(C,m,l),h=v1(v.outputs,m,h)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=16),l.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=l,t.outputs=h}function Oo(n,t,e,i,r,s,a,l){const h=An(t,e);let v,m=t.inputs;!l&&null!=m&&(v=m[i])?(nD(n,e,v,i,r),Gh(t)&&_1(e,t.index)):3&t.type&&(i=function R5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,s.setProperty(h,i,r))}function _1(n,t){const e=Ln(t,n);16&e[2]||(e[2]|=32)}function Xx(n,t,e,i){let r=!1;if(_y()){const s=function B5(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];zA(e,a.selectors,!1)&&(r||(r=[]),Kl(uu(e,t),n,a.type),Mo(a)?(C1(n,e),r.unshift(a)):r.push(a))}return r}(n,t,e),a=null===i?null:{"":-1};if(null!==s){r=!0,x1(e,n.data.length,s.length);for(let v=0;v<s.length;v++){const C=s[v];C.providersResolver&&C.providersResolver(C)}let l=!1,h=!1,m=Pf(n,t,s.length,null);for(let v=0;v<s.length;v++){const C=s[v];e.mergedAttrs=bd(e.mergedAttrs,C.hostAttrs),D1(n,e,t,m,C),H5(m,C,a),null!==C.contentQueries&&(e.flags|=8),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(e.flags|=128);const D=C.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),h=!0),m++}y1(n,e)}a&&function V5(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new Ze(-301,!1);i.push(t[r],s)}}}(e,i,a)}return e.mergedAttrs=bd(e.mergedAttrs,e.attrs),r}function b1(n,t,e,i,r,s){const a=s.hostBindings;if(a){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const h=~t.index;(function F5(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=h&&l.push(h),l.push(i,r,a)}}function w1(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function C1(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function H5(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Mo(t)&&(e[""]=n)}}function x1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function D1(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=jl(r.type)),a=new _d(s,Mo(r),P);n.blueprint[i]=a,e[i]=a,b1(n,t,0,i,Pf(n,e,r.hostVars,Rn),r)}function z5(n,t,e){const i=An(t,n),r=g1(e),s=n[10],a=C_(n,b_(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=a}function Cl(n,t,e,i,r,s){const a=An(n,t);!function Qx(n,t,e,i,r,s,a){if(null==s)n.removeAttribute(t,r,e);else{const l=null==a?wn(s):a(s,i||"",r);n.setAttribute(t,r,l,e)}}(t[11],a,s,n.value,e,i,r)}function $5(n,t,e,i,r,s){const a=s[t];if(null!==a){const l=i.setInput;for(let h=0;h<a.length;){const m=a[h++],v=a[h++],C=a[h++];null!==l?i.setInput(e,C,m,v):e[v]=C}}}function j5(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function E1(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function W5(n,t){const e=Ln(t,n);if(su(e)){const i=e[1];48&e[2]?w_(i,e,i.template,e[8]):e[5]>0&&Jx(e)}}function Jx(n){for(let i=Rg(n);null!==i;i=Og(i))for(let r=10;r<i.length;r++){const s=i[r];if(su(s))if(512&s[2]){const a=s[1];w_(a,s,a.template,s[8])}else s[5]>0&&Jx(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Ln(e[i],n);su(r)&&r[5]>0&&Jx(r)}}function q5(n,t){const e=Ln(t,n),i=e[1];(function K5(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),qx(i,e,e[8])}function C_(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function eD(n){for(;n;){n[2]|=32;const t=Nd(n);if(gC(n)&&!t)return n;n=t}return null}function x_(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{w_(n,t,n.template,e)}catch(a){throw i&&A1(t,a),a}finally{r.end&&r.end()}}function tD(n,t,e){Jh(0),t(n,e)}function S1(n){return n[7]||(n[7]=[])}function M1(n){return n.cleanup||(n.cleanup=[])}function T1(n,t,e){return(null===n||Mo(n))&&(e=function wC(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function A1(n,t){const e=n[9],i=e?e.get(Sr,null):null;i&&i.handleError(t)}function nD(n,t,e,i,r){for(let s=0;s<e.length;){const a=e[s++],l=e[s++],h=t[a],m=n.data[a];null!==m.setInput?m.setInput(h,r,i,l):h[l]=r}}function hc(n,t,e){const i=Yh(t,n);!function Br(n,t,e){n.setValue(t,e)}(n[11],i,e)}function D_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:1==s?r=Gc(r,l):2==s&&(i=Gc(i,l+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function E_(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(Ri(s)),fo(s))for(let l=10;l<s.length;l++){const h=s[l],m=h[1].firstChild;null!==m&&E_(h[1],h,m,i)}const a=e.type;if(8&a)E_(n,t,e.child,i);else if(32&a){const l=Cu(e,t);let h;for(;h=l();)i.push(h)}else if(16&a){const l=Vg(t,e);if(Array.isArray(l))i.push(...l);else{const h=Nd(t[16]);E_(h[1],h,l,i,!0)}}e=r?e.projectionNext:e.next}return i}class Yg{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return E_(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(fo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(mo(t,i),xr(e,i))}this._attachedToViewContainer=!1}a_(this._lView[1],this._lView)}onDestroy(t){m1(this._lView[1],this._lView,null,t)}markForCheck(){eD(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){x_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yx(n,t){Su(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=t}}class Y5 extends Yg{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;x_(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class iD extends lc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=mi(t);return new Zg(e,this.ngModule)}}function k1(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class X5{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,to,i);return r!==to||e===to?r:this.parentInjector.get(t,e,i)}}class Zg extends Es{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Yz(n){return n.map(Kz).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return k1(this.componentDef.inputs)}get outputs(){return k1(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof Vr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new X5(t,s):t,l=a.get(Ra,null);if(null===l)throw new Ze(407,!1);const h=a.get(p_,null),m=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=i?function k5(n,t,e){return n.selectRootElement(t,e===Cr.ShadowDom)}(m,i,this.componentDef.encapsulation):Fg(m,v,function Z5(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(v)),D=this.componentDef.onPush?288:272,T=Zx(0,null,null,1,0,null,null,null,null,null),k=b_(null,T,null,D,null,null,l,m,h,a,null);let O,B;ea(k);try{const V=function e$(n,t,e,i,r,s){const a=e[1];e[22]=n;const h=Of(a,22,2,"#host",null),m=h.mergedAttrs=t.hostAttrs;null!==m&&(D_(h,m,!0),null!==n&&(Wl(r,n,m),null!==h.classes&&jg(r,n,h.classes),null!==h.styles&&$g(r,n,h.styles)));const v=i.createRenderer(n,t),C=b_(e,g1(t),null,t.onPush?32:16,e[22],h,i,v,s||null,null,null);return a.firstCreatePass&&(Kl(uu(h,e),a,t.type),C1(a,h),x1(h,e.length,1)),C_(e,C),e[22]=C}(C,this.componentDef,k,l,m);if(C)if(i)Wl(m,C,["ng-version",kx.full]);else{const{attrs:q,classes:te}=function Zz(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Pa(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);q&&Wl(m,C,q),te&&te.length>0&&jg(m,C,te.join(" "))}if(B=ru(T,22),void 0!==e){const q=B.projection=[];for(let te=0;te<this.ngContentSelectors.length;te++){const $=e[te];q.push(null!=$?Array.from($):null)}}O=function t$(n,t,e,i){const r=e[1],s=function P5(n,t,e){const i=Sn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),D1(n,i,t,Pf(n,t,1,null),e),y1(n,i));const r=Dd(t,n,i.directiveStart,i);cs(r,t);const s=An(i,t);return s&&cs(s,t),r}(r,e,t);if(n[8]=e[8]=s,null!==i)for(const l of i)l(s,t);if(t.contentQueries){const l=Sn();t.contentQueries(1,s,l.directiveStart)}const a=Sn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(xa(a.index),b1(e[1],a,0,a.directiveStart,a.directiveEnd,t),w1(t,s)),s}(V,this.componentDef,k,[n$]),qx(T,k,null)}finally{lu()}return new J5(this.componentType,O,Tu(B,k),k,B)}}class J5 extends class ds{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new Y5(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;nD(s[1],s,r,t,e),_1(s,this._tNode.index)}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function n$(){const n=Sn();yd(nt()[1],n)}function Ne(n){let t=function I1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Mo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ze(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=rD(n.inputs),a.declaredInputs=rD(n.declaredInputs),a.outputs=rD(n.outputs);const l=r.hostBindings;l&&o$(n,l);const h=r.viewQuery,m=r.contentQueries;if(h&&r$(n,h),m&&s$(n,m),Yp(n.inputs,r.inputs),Yp(n.declaredInputs,r.declaredInputs),Yp(n.outputs,r.outputs),Mo(r)&&r.data.animation){const v=n.data;v.animation=(v.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const l=s[a];l&&l.ngInherit&&l(n),l===Ne&&(e=!1)}}t=Object.getPrototypeOf(t)}!function i$(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=bd(r.hostAttrs,e=bd(e,r.hostAttrs))}}(i)}function rD(n){return n===Yc?{}:n===Gn?[]:n}function r$(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function s$(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function o$(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let S_=null;function Vd(){if(!S_){const n=Ii.Symbol;if(n&&n.iterator)S_=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(S_=i)}}}return S_}function Xg(n){return!!sD(n)&&(Array.isArray(n)||!(n instanceof Map)&&Vd()in n)}function sD(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xl(n,t,e){return n[t]=e}function Ls(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Wn(n,t,e,i){const r=nt();return Ls(r,Qo(),t)&&(Yn(),Cl(Li(),r,n,t,e,i)),Wn}function Lf(n,t,e,i){return Ls(n,Qo(),e)?t+wn(e)+i:Rn}function Nf(n,t,e,i,r,s){const l=function Hd(n,t,e,i){const r=Ls(n,t,e);return Ls(n,t+1,i)||r}(n,function Xo(){return Xt.lFrame.bindingIndex}(),e,r);return Jo(2),l?t+wn(e)+i+wn(r)+s:Rn}function St(n,t,e,i,r,s,a,l){const h=nt(),m=Yn(),v=n+22,C=m.firstCreatePass?function p$(n,t,e,i,r,s,a,l,h){const m=t.consts,v=Of(t,n,4,a||null,dl(m,l));Xx(t,e,v,dl(m,h)),yd(t,v);const C=v.tViews=Zx(2,v,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m);return null!==t.queries&&(t.queries.template(t,v),C.queries=t.queries.embeddedTView(v)),v}(v,m,h,t,e,i,r,s,a):m.data[v];Ko(C,!1);const D=h[11].createComment("");Du(m,h,D,C),cs(D,h),C_(h,h[v]=E1(D,h,D,C)),Wh(C)&&Kx(m,h,C),null!=a&&Yx(h,C,l)}function zd(n){return jn(function po(){return Xt.lFrame.contextLView}(),22+n)}function Ke(n,t,e){const i=nt();return Ls(i,Qo(),t)&&Oo(Yn(),Li(),i,n,t,i[11],e,!1),Ke}function oD(n,t,e,i,r){const a=r?"class":"style";nD(n,e,t.inputs[a],a,i)}function ce(n,t,e,i){const r=nt(),s=Yn(),a=22+n,l=r[11],h=r[a]=Fg(l,t,function md(){return Xt.lFrame.currentNamespace}()),m=s.firstCreatePass?function m$(n,t,e,i,r,s,a){const l=t.consts,m=Of(t,n,2,r,dl(l,s));return Xx(t,e,m,dl(l,a)),null!==m.attrs&&D_(m,m.attrs,!1),null!==m.mergedAttrs&&D_(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(a,s,r,0,t,e,i):s.data[a];Ko(m,!0);const v=m.mergedAttrs;null!==v&&Wl(l,h,v);const C=m.classes;null!==C&&jg(l,h,C);const D=m.styles;return null!==D&&$g(l,h,D),64!=(64&m.flags)&&Du(s,r,h,m),0===function DC(){return Xt.lFrame.elementDepthCount}()&&cs(h,r),function EC(){Xt.lFrame.elementDepthCount++}(),Wh(m)&&(Kx(s,r,m),p1(s,m,r)),null!==i&&Yx(r,m),ce}function he(){let n=Sn();Yo()?Zo():(n=n.parent,Ko(n,!1));const t=n;!function SC(){Xt.lFrame.elementDepthCount--}();const e=Yn();return e.firstCreatePass&&(yd(e,n),Uh(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function FC(n){return 0!=(16&n.flags)}(t)&&oD(e,t,nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function LC(n){return 0!=(32&n.flags)}(t)&&oD(e,t,nt(),t.stylesWithoutHost,!1),he}function rn(n,t,e,i){return ce(n,t,e,i),he(),rn}function Qi(n,t,e){const i=nt(),r=Yn(),s=n+22,a=r.firstCreatePass?function v$(n,t,e,i,r){const s=t.consts,a=dl(s,i),l=Of(t,n,8,"ng-container",a);return null!==a&&D_(l,a,!0),Xx(t,e,l,dl(s,r)),null!==t.queries&&t.queries.elementStart(t,l),l}(s,r,i,t,e):r.data[s];Ko(a,!0);const l=i[s]=i[11].createComment("");return Du(r,i,l,a),cs(l,i),Wh(a)&&(Kx(r,i,a),p1(r,a,i)),null!=e&&Yx(i,a),Qi}function Ji(){let n=Sn();const t=Yn();return Yo()?Zo():(n=n.parent,Ko(n,!1)),t.firstCreatePass&&(yd(t,n),Uh(n)&&t.queries.elementEnd(n)),Ji}function Dl(n,t,e){return Qi(n,t,e),Ji(),Dl}function La(){return nt()}function Jg(n){return!!n&&"function"==typeof n.then}function z1(n){return!!n&&"function"==typeof n.subscribe}const aD=z1;function Vt(n,t,e,i){const r=nt(),s=Yn(),a=Sn();return $1(s,r,r[11],a,n,t,0,i),Vt}function T_(n,t){const e=Sn(),i=nt(),r=Yn();return $1(r,i,T1(Qh(r.data),e,i),e,n,t),T_}function $1(n,t,e,i,r,s,a,l){const h=Wh(i),v=n.firstCreatePass&&M1(n),C=t[8],D=S1(t);let T=!0;if(3&i.type||l){const B=An(i,t),V=l?l(B):B,q=D.length,te=l?pe=>l(Ri(pe[i.index])):i.index;let $=null;if(!l&&h&&($=function y$(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===e&&r[s+1]===i){const l=t[7],h=r[s+2];return l.length>h?l[h]:null}"string"==typeof a&&(s+=2)}return null}(n,t,r,i.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,T=!1;else{s=U1(i,t,C,s,!1);const pe=e.listen(V,r,s);D.push(s,pe),v&&v.push(r,te,q,q+1)}}else s=U1(i,t,C,s,!1);const k=i.outputs;let O;if(T&&null!==k&&(O=k[r])){const B=O.length;if(B)for(let V=0;V<B;V+=2){const _e=t[O[V]][O[V+1]].subscribe(s),Xe=D.length;D.push(s,_e),v&&v.push(r,i.index,Xe,-(Xe+1))}}}function j1(n,t,e,i){try{return!1!==e(i)}catch(r){return A1(n,r),!1}}function U1(n,t,e,i,r){return function s(a){if(a===Function)return i;eD(2&n.flags?Ln(n.index,t):t);let h=j1(t,0,i,a),m=s.__ngNextListenerFn__;for(;m;)h=j1(t,0,m,a)&&h,m=m.__ngNextListenerFn__;return r&&!1===h&&(a.preventDefault(),a.returnValue=!1),h}}function Nn(n=1){return function lg(n){return(Xt.lFrame.contextLView=function kC(n,t){for(;n>0;)t=t[15],n--;return t}(n,Xt.lFrame.contextLView))[8]}(n)}function _$(n,t){let e=null;const i=function Uz(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?zA(n,s,!0):qz(i,s))return r}else e=r}return e}function Po(n){const t=nt()[16][6];if(!t.projection){const i=t.projection=Sa(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const a=n?_$(s,n):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}function er(n,t=0,e){const i=nt(),r=Yn(),s=Of(r,22+n,16,null,e||null);null===s.projection&&(s.projection=t),Zo(),64!=(64&s.flags)&&function d_(n,t,e){zg(t[11],0,t,e,l_(n,e,t),Os(e.parent||t[6],e,t))}(r,i,s)}function ek(n,t,e,i,r){const s=n[e+1],a=null===t;let l=i?Fa(s):dc(s),h=!1;for(;0!==l&&(!1===h||a);){const v=n[l+1];C$(n[l],t)&&(h=!0,n[l+1]=i?Bx(v):Lx(v)),l=i?Fa(v):dc(v)}h&&(n[e+1]=i?Lx(s):Bx(s))}function C$(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&sr(n,t)>=0}const Yr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tk(n){return n.substring(Yr.key,Yr.keyEnd)}function nk(n,t){const e=Yr.textEnd;return e===t?-1:(t=Yr.keyEnd=function S$(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Yr.key=t,e),Uf(n,t,e))}function Uf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function fc(n,t,e){return Na(n,t,e,!1),fc}function di(n,t){return Na(n,t,null,!0),di}function Sl(n,t){for(let e=function D$(n){return function rk(n){Yr.key=0,Yr.keyEnd=0,Yr.value=0,Yr.valueEnd=0,Yr.textEnd=n.length}(n),nk(n,Uf(n,0,Yr.textEnd))}(t);e>=0;e=nk(t,e))wi(n,tk(t),!0)}function Na(n,t,e,i){const r=nt(),s=Yn(),a=Jo(2);s.firstUpdatePass&&lk(s,n,a,i),t!==Rn&&Ls(r,a,t)&&uk(s,s.data[as()],r,r[11],n,r[a+1]=function N$(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=si(b(n)))),n}(t,e),i,a)}function ak(n,t){return t>=n.expandoStartIndex}function lk(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[as()],a=ak(n,e);hk(s,i)&&null===t&&!a&&(t=!1),t=function I$(n,t,e,i){const r=Qh(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=em(e=cD(null,n,t,e,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=cD(r,n,t,e,i),null===s){let h=function R$(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==dc(i))return n[Fa(i)]}(n,t,i);void 0!==h&&Array.isArray(h)&&(h=cD(null,n,t,h[1],i),h=em(h,t.attrs,i),function O$(n,t,e,i){n[Fa(e?t.classBindings:t.styleBindings)]=i}(n,t,i,h))}else s=function P$(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=em(i,n[s].hostAttrs,e);return em(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function b$(n,t,e,i,r,s){let a=s?t.classBindings:t.styleBindings,l=Fa(a),h=dc(a);n[i]=e;let v,m=!1;if(Array.isArray(e)){const C=e;v=C[1],(null===v||sr(C,v)>0)&&(m=!0)}else v=e;if(r)if(0!==h){const D=Fa(n[l+1]);n[i+1]=v_(D,l),0!==D&&(n[D+1]=Nx(n[D+1],i)),n[l+1]=function m5(n,t){return 131071&n|t<<17}(n[l+1],i)}else n[i+1]=v_(l,0),0!==l&&(n[l+1]=Nx(n[l+1],i)),l=i;else n[i+1]=v_(h,0),0===l?l=i:n[h+1]=Nx(n[h+1],i),h=i;m&&(n[i+1]=Lx(n[i+1])),ek(n,v,i,!0),ek(n,v,i,!1),function w$(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&sr(s,t)>=0&&(e[i+1]=Bx(e[i+1]))}(t,v,n,i,s),a=v_(l,h),s?t.classBindings=a:t.styleBindings=a}(r,s,t,e,a,i)}}function cD(n,t,e,i,r){let s=null;const a=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<a&&(s=t[l],i=em(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(e.directiveStylingLast=l),i}function em(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),wi(n,a,!!e||t[++s]))}return void 0===n?null:n}function uk(n,t,e,i,r,s,a,l){if(!(3&t.type))return;const h=n.data,m=h[l+1];A_(function r1(n){return 1==(1&n)}(m)?dk(h,t,e,r,dc(m),a):void 0)||(A_(s)||function n1(n){return 2==(2&n)}(m)&&(s=dk(h,null,e,r,l,a)),function oi(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:ws.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ws.Important),n.setStyle(e,i,r,s))}}(i,a,Yh(as(),e),r,s))}function dk(n,t,e,i,r,s){const a=null===t;let l;for(;r>0;){const h=n[r],m=Array.isArray(h),v=m?h[1]:h,C=null===v;let D=e[r+1];D===Rn&&(D=C?Gn:void 0);let T=C?pu(D,i):v===i?D:void 0;if(m&&!A_(T)&&(T=pu(h,i)),A_(T)&&(l=T,a))return l;const k=n[r+1];r=a?Fa(k):dc(k)}if(null!==t){let h=s?t.residualClasses:t.residualStyles;null!=h&&(l=pu(h,i))}return l}function A_(n){return void 0!==n}function hk(n,t){return 0!=(n.flags&(t?16:32))}function Oe(n,t=""){const e=nt(),i=Yn(),r=n+22,s=i.firstCreatePass?Of(i,r,1,t,null):i.data[r],a=e[r]=function xf(n,t){return n.createText(t)}(e[11],t);Du(i,e,a,s),Ko(s,!1)}function Hi(n){return ar("",n,""),Hi}function ar(n,t,e){const i=nt(),r=Lf(i,n,t,e);return r!==Rn&&hc(i,as(),r),ar}function k_(n,t,e,i,r){const s=nt(),a=Nf(s,n,t,e,i,r);return a!==Rn&&hc(s,as(),a),k_}function bk(n,t,e){!function Ba(n,t,e,i){const r=Yn(),s=Jo(2);r.firstUpdatePass&&lk(r,null,s,i);const a=nt();if(e!==Rn&&Ls(a,s,e)){const l=r.data[as()];if(hk(l,i)&&!ak(r,s)){let h=i?l.classesWithoutHost:l.stylesWithoutHost;null!==h&&(e=Gc(h,e||"")),oD(r,l,a,e,i)}else!function L$(n,t,e,i,r,s,a,l){r===Rn&&(r=Gn);let h=0,m=0,v=0<r.length?r[0]:null,C=0<s.length?s[0]:null;for(;null!==v||null!==C;){const D=h<r.length?r[h+1]:void 0,T=m<s.length?s[m+1]:void 0;let O,k=null;v===C?(h+=2,m+=2,D!==T&&(k=C,O=T)):null===C||null!==v&&v<C?(h+=2,k=v):(m+=2,k=C,O=T),null!==k&&uk(n,t,e,i,k,O,a,l),v=h<r.length?r[h]:null,C=m<s.length?s[m]:null}}(r,l,a,a[11],a[s+1],a[s+1]=function F$(n,t,e){if(null==e||""===e)return Gn;const i=[],r=b(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}(wi,Sl,Lf(nt(),n,t,e),!0)}function Ru(n,t,e){const i=nt();return Ls(i,Qo(),t)&&Oo(Yn(),Li(),i,n,t,i[11],e,!0),Ru}function I_(n,t,e){const i=nt();if(Ls(i,Qo(),t)){const s=Yn(),a=Li();Oo(s,a,i,n,t,T1(Qh(s.data),a,i),e,!0)}return I_}const $d=void 0;var n3=["en",[["a","p"],["AM","PM"],$d],[["AM","PM"],$d,$d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$d,"{1} 'at' {0}",$d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function t3(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Gf={};function no(n){const t=function r3(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Ik(t);if(e)return e;const i=t.split("-")[0];if(e=Ik(i),e)return e;if("en"===i)return n3;throw new Ze(701,!1)}function Ik(n){return n in Gf||(Gf[n]=Ii.ng&&Ii.ng.common&&Ii.ng.common.locales&&Ii.ng.common.locales[n]),Gf[n]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const Wf="en-US";let Rk=Wf;function hD(n,t,e,i,r){if(n=cn(n),Array.isArray(n))for(let s=0;s<n.length;s++)hD(n[s],t,e,i,r);else{const s=Yn(),a=nt();let l=pn(n)?n:cn(n.provide),h=Ia(n);const m=Sn(),v=1048575&m.providerIndexes,C=m.directiveStart,D=m.providerIndexes>>20;if(pn(n)||!n.multi){const T=new _d(h,r,P),k=pD(l,t,r?v:v+D,C);-1===k?(Kl(uu(m,a),s,l),fD(s,n,t.length),t.push(l),m.directiveStart++,m.directiveEnd++,r&&(m.providerIndexes+=1048576),e.push(T),a.push(T)):(e[k]=T,a[k]=T)}else{const T=pD(l,t,v+D,C),k=pD(l,t,v,v+D),O=T>=0&&e[T],B=k>=0&&e[k];if(r&&!B||!r&&!O){Kl(uu(m,a),s,l);const V=function tj(n,t,e,i,r){const s=new _d(n,e,P);return s.multi=[],s.index=t,s.componentProviders=0,iI(s,r,i&&!e),s}(r?ej:J3,e.length,r,i,h);!r&&B&&(e[k].providerFactory=V),fD(s,n,t.length,0),t.push(l),m.directiveStart++,m.directiveEnd++,r&&(m.providerIndexes+=1048576),e.push(V),a.push(V)}else fD(s,n,T>-1?T:k,iI(e[r?k:T],h,!r&&i));!r&&i&&B&&e[k].componentProviders++}}}function fD(n,t,e,i){const r=pn(t),s=function ui(n){return!!n.useClass}(t);if(r||s){const h=(s?cn(t.useClass):t).prototype.ngOnDestroy;if(h){const m=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const v=m.indexOf(e);-1===v?m.push(e,[i,h]):m[v+1].push(i,h)}else m.push(e,h)}}}function iI(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function pD(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function J3(n,t,e,i){return gD(this.multi,[])}function ej(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Dd(e,e[1],this.providerFactory.index,i);s=l.slice(0,a),gD(r,s);for(let h=a;h<l.length;h++)s.push(l[h])}else s=[],gD(r,s);return s}function gD(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function gn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Q3(n,t,e){const i=Yn();if(i.firstCreatePass){const r=Mo(n);hD(e,i.data,i.blueprint,r,!0),hD(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class jd{}class rI{}class sI extends jd{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iD(this);const i=Gs(t);this._bootstrapComponents=uc(i.bootstrap),this._r3Injector=KA(t,e,[{provide:jd,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],si(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class mD extends rI{constructor(t){super(),this.moduleType=t}create(t){return new sI(this.moduleType,t)}}class ij extends jd{constructor(t,e,i){super(),this.componentFactoryResolver=new iD(this),this.instance=null;const r=new Hr([...t,{provide:jd,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],e||Ps(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function L_(n,t,e=null){return new ij(n,t,e).injector}let rj=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=it(0,e.type),r=i.length>0?L_([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Pe({token:n,providedIn:"environment",factory:()=>new n(le(Vr))}),n})();function oI(n){n.getStandaloneInjector=t=>t.get(rj).getOrCreateStandaloneInjector(n)}function yD(n,t,e){const i=os()+n,r=nt();return r[i]===Rn?xl(r,i,e?t.call(e):t()):function Qg(n,t){return n[t]}(r,i)}function pI(n,t,e,i,r,s){const a=t+e;return Ls(n,a,r)?xl(n,a+1,s?i.call(s,r):i(r)):function om(n,t){const e=n[t];return e===Rn?void 0:e}(n,a+1)}function pc(n,t){const e=Yn();let i;const r=n+22;e.firstCreatePass?(i=function wj(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=jl(i.type)),a=ho(P);try{const l=af(!1),h=s();return af(l),function g$(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,nt(),r,h),h}finally{ho(a)}}function gc(n,t,e){const i=n+22,r=nt(),s=jn(r,i);return function am(n,t){return n[1].data[t].pure}(r,i)?pI(r,os(),t,s.transform,e,s):s.transform(e)}function _D(n){return t=>{setTimeout(n,void 0,t)}}const dn=class Sj extends Ge{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),a=i;if(t&&"object"==typeof t){const h=t;r=h.next?.bind(h),s=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(s=_D(s),r&&(r=_D(r)),a&&(a=_D(a)));const l=super.subscribe({next:r,error:s,complete:a});return t instanceof ne&&t.add(l),l}};function Mj(){return this._results[Vd()]()}class lm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vd(),i=lm.prototype;i[e]||(i[e]=Mj)}get changes(){return this._changes||(this._changes=new dn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Qs(t);(this._changesDetected=!function jC(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=kj,n})();const Tj=zr,Aj=class extends Tj{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=b_(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(i)),qx(i,r,t),new Yg(r)}};function kj(){return N_(Sn(),nt())}function N_(n,t){return 4&n.type?new Aj(t,n,Tu(n,t)):null}let Zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ij,n})();function Ij(){return wI(Sn(),nt())}const Rj=Zr,_I=class extends Rj{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const t=lf(this._hostTNode,this._hostLView);if(Sy(t)){const e=ql(t,this._hostLView),i=Da(t);return new Xs(e[1].data[i+8],e)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=bI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedView(e||{},s);return this.insert(a,r),a}createComponent(t,e,i,r,s){const a=t&&!function Ql(n){return"function"==typeof n}(t);let l;if(a)l=e;else{const C=e||{};l=C.index,i=C.injector,r=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const h=a?t:new Zg(mi(t)),m=i||this.parentInjector;if(!s&&null==h.ngModule){const D=(a?m:this.parentInjector).get(Vr,null);D&&(s=D)}const v=h.create(m,r,void 0,s);return this.insert(v.hostView,l),v}insert(t,e){const i=t._lView,r=i[1];if(function xC(n){return fo(n[3])}(i)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const C=i[3],D=new _I(C,C[6],C[3]);D.detach(D.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function s_(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],Sd(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function bx(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const l=t[19];null!==l&&l.insertView(n),t[2]|=64}(r,i,a,s);const l=_l(s,a),h=i[11],m=Ta(h,a[7]);return null!==m&&function r_(n,t,e,i,r,s){i[0]=r,i[6]=t,Su(n,i,e,1,r,s)}(r,a[6],h,i,m,l),t.attachToViewContainerRef(),Sd(bD(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=bI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=mo(this._lContainer,e);i&&(xr(bD(this._lContainer),e),a_(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=mo(this._lContainer,e);return i&&null!=xr(bD(this._lContainer),e)?new Yg(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function bI(n){return n[8]}function bD(n){return n[8]||(n[8]=[])}function wI(n,t){let e;const i=t[n.index];if(fo(i))e=i;else{let r;if(8&n.type)r=Ri(i);else{const s=t[11];r=s.createComment("");const a=An(n,t);xs(s,Ta(s,a),r,function c_(n,t){return n.nextSibling(t)}(s,a),!1)}t[n.index]=e=E1(i,t,r,n),C_(t,e)}return new _I(e,n,t)}class wD{constructor(t){this.queryList=t,this.matches=null}clone(){return new wD(this.queryList)}setDirty(){this.queryList.setDirty()}}class CD{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const a=e.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new CD(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==SI(t,e).matches&&this.queries[e].setDirty()}}class CI{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class xD{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new xD(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class DD{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new DD(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Fj(e,s)),this.matchTNodeWithReadOption(t,e,Ea(e,t,s,!1,!1))}else i===zr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ea(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Et||r===Zr||r===zr&&4&e.type)this.addMatch(e.index,-2);else{const s=Ea(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Fj(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Nj(n,t,e,i){return-1===e?function Lj(n,t){return 11&n.type?Tu(n,t):4&n.type?N_(n,t):null}(t,n):-2===e?function Bj(n,t,e){return e===Et?Tu(t,n):e===zr?N_(t,n):e===Zr?wI(t,n):void 0}(n,t,i):Dd(n,n[1],e,t)}function xI(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,a=e.matches,l=[];for(let h=0;h<a.length;h+=2){const m=a[h];l.push(m<0?null:Nj(t,s[m],a[h+1],e.metadata.read))}r.matches=l}return r.matches}function ED(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const a=xI(n,t,r,e);for(let l=0;l<s.length;l+=2){const h=s[l];if(h>0)i.push(a[l/2]);else{const m=s[l+1],v=t[-h];for(let C=10;C<v.length;C++){const D=v[C];D[17]===D[3]&&ED(D[1],D,m,i)}if(null!==v[9]){const C=v[9];for(let D=0;D<C.length;D++){const T=C[D];ED(T[1],T,m,i)}}}}}return i}function Gt(n){const t=nt(),e=Yn(),i=ag();Jh(i+1);const r=SI(e,i);if(n.dirty&&function Pt(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?ED(e,t,i,[]):xI(e,t,r,i);n.reset(s,Ax),n.notifyOnChanges()}return!0}return!1}function hi(n,t,e){const i=Yn();i.firstCreatePass&&(EI(i,new CI(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),DI(i,nt(),t)}function zi(n,t,e,i){const r=Yn();if(r.firstCreatePass){const s=Sn();EI(r,new CI(t,e,i),s.index),function Hj(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}DI(r,nt(),e)}function Wt(){return function Vj(n,t){return n[19].queries[t].queryList}(nt(),ag())}function DI(n,t,e){const i=new lm(4==(4&e));m1(n,t,i,i.destroy),null===t[19]&&(t[19]=new CD),t[19].queries.push(new wD(i))}function EI(n,t,e){null===n.queries&&(n.queries=new xD),n.queries.track(new DD(t,e))}function SI(n,t){return n.queries.getByIndex(t)}function V_(...n){}const H_=new Ie("Application Initializer");let z_=(()=>{class n{constructor(e){this.appInits=e,this.resolve=V_,this.reject=V_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Jg(s))e.push(s);else if(aD(s)){const a=new Promise((l,h)=>{s.subscribe({complete:l,error:h})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(le(H_,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yf=new Ie("AppId",{providedIn:"root",factory:function GI(){return`${kD()}${kD()}${kD()}`}});function kD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WI=new Ie("Platform Initializer"),Va=new Ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ID=new Ie("appBootstrapListener"),Xr=new Ie("AnimationModuleType");let aU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ml=new Ie("LocaleId",{providedIn:"root",factory:()=>Ci(Ml,en.Optional|en.SkipSelf)||function lU(){return typeof $localize<"u"&&$localize.locale||Wf}()}),cU=new Ie("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uU{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let RD=(()=>{class n{compileModuleSync(e){return new mD(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=uc(Gs(e).declarations).reduce((a,l)=>{const h=mi(l);return h&&a.push(new Zg(h)),a},[]);return new uU(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fU=(()=>Promise.resolve(0))();function OD(n){typeof Zone>"u"?fU.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Yt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dn(!1),this.onMicrotaskEmpty=new dn(!1),this.onStable=new dn(!1),this.onError=new dn(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function pU(){let n=Ii.requestAnimationFrame,t=Ii.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function vU(n){const t=()=>{!function mU(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ii,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,FD(n),n.isCheckStableRunning=!0,PD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),FD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,a,l)=>{try{return YI(n),e.invokeTask(r,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),ZI(n)}},onInvoke:(e,i,r,s,a,l,h)=>{try{return YI(n),e.invoke(r,s,a,l,h)}finally{n.shouldCoalesceRunChangeDetection&&t(),ZI(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,FD(n),PD(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yt.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(Yt.isInAngularZone())throw new Ze(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,gU,V_,V_);try{return s.runTask(a,e,i)}finally{s.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const gU={};function PD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function FD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function YI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ZI(n){n._nesting--,PD(n)}class yU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dn,this.onMicrotaskEmpty=new dn,this.onStable=new dn,this.onError=new dn}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const XI=new Ie(""),$_=new Ie("");let BD,LD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,BD||(function _U(n){BD=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yt.assertNotInAngularZone(),OD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())OD(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(le(Yt),le(ND),le($_))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),ND=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return BD?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ou=null;const QI=new Ie("AllowMultipleToken"),VD=new Ie("PlatformDestroyListeners");class JI{constructor(t,e){this.name=t,this.token=e}}function tR(n,t,e=[]){const i=`Platform: ${t}`,r=new Ie(i);return(s=[])=>{let a=HD();if(!a||a.injector.get(QI,!1)){const l=[...e,...s,{provide:r,useValue:!0}];n?n(l):function CU(n){if(Ou&&!Ou.get(QI,!1))throw new Ze(400,!1);Ou=n;const t=n.get(iR);(function eR(n){const t=n.get(WI,null);t&&t.forEach(e=>e())})(n)}(function nR(n=[],t){return or.create({name:t,providers:[{provide:_n,useValue:"platform"},{provide:VD,useValue:new Set([()=>Ou=null])},...n]})}(l,i))}return function DU(n){const t=HD();if(!t)throw new Ze(401,!1);return t}()}}function HD(){return Ou?.get(iR)??null}let iR=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function sR(n,t){let e;return e="noop"===n?new yU:("zone.js"===n?void 0:n)||new Yt(t),e}(i?.ngZone,function rR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Yt,useValue:r}];return r.run(()=>{const a=or.create({providers:s,parent:this.injector,name:e.moduleType.name}),l=e.create(a),h=l.injector.get(Sr,null);if(!h)throw new Ze(402,!1);return r.runOutsideAngular(()=>{const m=r.onError.subscribe({next:v=>{h.handleError(v)}});l.onDestroy(()=>{j_(this._modules,l),m.unsubscribe()})}),function oR(n,t,e){try{const i=e();return Jg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(h,r,()=>{const m=l.injector.get(z_);return m.runInitializers(),m.donePromise.then(()=>(function Ok(n){ks(n,"Expected localeId to be defined"),"string"==typeof n&&(Rk=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Ml,Wf)||Wf),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,i=[]){const r=aR({},i);return function bU(n,t,e){const i=new mD(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Zf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Ze(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(VD,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(le(or))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function aR(n,t){return Array.isArray(t)?t.reduce(aR,n):{...n,...t}}let Zf=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new tt(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new tt(l=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{Yt.assertNotInAngularZone(),OD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Yt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});this.isStable=rr(s,a.pipe(oy()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof Es;if(!this._injector.get(z_).done)throw!r&&function Eo(n){const t=mi(n)||fr(n)||rs(n);return null!==t&&t.standalone}(e),new Ze(405,false);let a;a=r?e:this._injector.get(lc).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const l=function wU(n){return n.isBoundToModule}(a)?void 0:this._injector.get(jd),m=a.create(or.NULL,[],i||a.selector,l),v=m.location.nativeElement,C=m.injector.get(XI,null);return C?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),j_(this.components,m),C?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;j_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ID,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>j_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Ze(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(le(Yt),le(Vr),le(Sr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let cR=!0,Mr=(()=>{class n{}return n.__NG_ELEMENT_ID__=MU,n})();function MU(n){return function TU(n,t,e){if(Gh(n)&&!e){const i=Ln(n.index,t);return new Yg(i,i)}return 47&n.type?new Yg(t[16],t):null}(Sn(),nt(),16==(16&n))}class pR{constructor(){}supports(t){return Xg(t)}create(t){return new PU(t)}}const OU=(n,t)=>t;class PU{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||OU}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const a=!i||e&&e.currentIndex<mR(i,r,s)?e:i,l=mR(a,r,s),h=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{s||(s=[]);const m=l-r,v=h-r;if(m!=v){for(let D=0;D<m;D++){const T=D<s.length?s[D]:s[D]=0,k=T+D;v<=k&&k<m&&(s[D]=T+1)}s[a.previousIndex]=v-m}}l!==h&&t(a,l,h)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xg(t))throw new Ze(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],a=this._trackByFn(l,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,l)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,l),i=!0),e=e._next}else r=0,function d$(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Vd()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,l=>{a=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,l,a,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new FU(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new gR),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class FU{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LU{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class gR{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new LU,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mR(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class vR{constructor(){}supports(t){return t instanceof Map||sD(t)}create(){return new NU}}class NU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||sD(t)))throw new Ze(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new BU(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class BU{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yR(){return new Tl([new pR])}let Tl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||yR()),deps:[[n,new vl,new Js]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Ze(901,!1)}}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:yR}),n})();function _R(){return new Gd([new vR])}let Gd=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||_R()),deps:[[n,new vl,new Js]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Ze(901,!1)}}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:_R}),n})();const zU=tR(null,"core",[]);let $U=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(le(Zf))},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({}),n})();function vc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let W_=null;function Al(){return W_}const hn=new Ie("DocumentToken");let GD=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return function WU(){return le(bR)}()},providedIn:"platform"}),n})();const qU=new Ie("Location Initialized");let bR=(()=>{class n extends GD{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Al().getBaseHref(this._doc)}onPopState(e){const i=Al().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Al().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){wR()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){wR()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(le(hn))},n.\u0275prov=Pe({token:n,factory:function(){return function KU(){return new bR(le(hn))}()},providedIn:"platform"}),n})();function wR(){return!!window.history.pushState}function WD(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function CR(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function yc(n){return n&&"?"!==n[0]?"?"+n:n}let Wd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return Ci(DR)},providedIn:"root"}),n})();const xR=new Ie("appBaseHref");let DR=(()=>{class n extends Wd{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ci(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return WD(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+yc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+yc(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+yc(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(le(GD),le(xR,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YU=(()=>{class n extends Wd{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=WD(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+yc(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+yc(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(le(GD),le(xR,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),um=(()=>{class n{constructor(e){this._subject=new dn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=CR(ER(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+yc(i))}normalize(e){return n.stripTrailingSlash(function XU(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ER(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=yc,n.joinWithSlash=WD,n.stripTrailingSlash=CR,n.\u0275fac=function(e){return new(e||n)(le(Wd))},n.\u0275prov=Pe({token:n,factory:function(){return function ZU(){return new um(le(Wd))}()},providedIn:"root"}),n})();function ER(n){return n.replace(/\/index.html$/,"")}const SR={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var vo=(()=>((vo=vo||{})[vo.Decimal=0]="Decimal",vo[vo.Percent=1]="Percent",vo[vo.Currency=2]="Currency",vo[vo.Scientific=3]="Scientific",vo))(),an=(()=>((an=an||{})[an.Decimal=0]="Decimal",an[an.Group=1]="Group",an[an.List=2]="List",an[an.PercentSign=3]="PercentSign",an[an.PlusSign=4]="PlusSign",an[an.MinusSign=5]="MinusSign",an[an.Exponential=6]="Exponential",an[an.SuperscriptingExponent=7]="SuperscriptingExponent",an[an.PerMille=8]="PerMille",an[an.Infinity=9]="Infinity",an[an.NaN=10]="NaN",an[an.TimeSeparator=11]="TimeSeparator",an[an.CurrencyDecimal=12]="CurrencyDecimal",an[an.CurrencyGroup=13]="CurrencyGroup",an))();function sa(n,t){const e=no(n),i=e[It.NumberSymbols][t];if(typeof i>"u"){if(t===an.CurrencyDecimal)return e[It.NumberSymbols][an.Decimal];if(t===an.CurrencyGroup)return e[It.NumberSymbols][an.Group]}return i}const xG=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function MG(n,t,e,i,r){const a=function JD(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=a[0],h=a[1]||"";e.posPre=l.substring(0,l.indexOf("#"));for(let v=0;v<h.length;v++){const C=h.charAt(v);"0"===C?e.minFrac=e.maxFrac=v+1:"#"===C?e.maxFrac=v+1:e.posSuf+=C}const m=l.split(",");if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,s){const v=r.length-e.posPre.length-e.posSuf.length,C=s.indexOf("#");e.negPre=s.substring(0,C).replace(/'/g,""),e.negSuf=s.slice(C+v).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function qD(n,t){return no(n)[It.NumberFormats][t]}(t,vo.Currency),sa(t,an.MinusSign));return a.minFrac=function cG(n){let t;const e=SR[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),a.maxFrac=a.minFrac,function QD(n,t,e,i,r,s,a=!1){let l="",h=!1;if(isFinite(n)){let m=function IG(n){let i,r,s,a,l,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(l=t.length))i=[0],r=1;else{for(l--;"0"===t.charAt(l);)l--;for(r-=s,i=[],a=0;s<=l;s++,a++)i[a]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(m=function kG(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(m));let v=t.minInt,C=t.minFrac,D=t.maxFrac;if(s){const q=s.match(xG);if(null===q)throw new Error(`${s} is not a valid digit info`);const te=q[1],$=q[3],pe=q[5];null!=te&&(v=eE(te)),null!=$&&(C=eE($)),null!=pe?D=eE(pe):null!=$&&C>D&&(D=C)}!function RG(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let a=s+n.integerLen,l=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let C=a;C<i.length;C++)i[C]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let C=1;C<a;C++)i[C]=0}if(l>=5)if(a-1<0){for(let C=0;C>a;C--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,s);r++)i.push(0);let h=0!==s;const m=t+n.integerLen,v=i.reduceRight(function(C,D,T,k){return k[T]=(D+=C)<10?D:D-10,h&&(0===k[T]&&T>=m?k.pop():h=!1),D>=10?1:0},0);v&&(i.unshift(v),n.integerLen++)}(m,C,D);let T=m.digits,k=m.integerLen;const O=m.exponent;let B=[];for(h=T.every(q=>!q);k<v;k++)T.unshift(0);for(;k<0;k++)T.unshift(0);k>0?B=T.splice(k,T.length):(B=T,T=[0]);const V=[];for(T.length>=t.lgSize&&V.unshift(T.splice(-t.lgSize,T.length).join(""));T.length>t.gSize;)V.unshift(T.splice(-t.gSize,T.length).join(""));T.length&&V.unshift(T.join("")),l=V.join(sa(e,i)),B.length&&(l+=sa(e,r)+B.join("")),O&&(l+=sa(e,an.Exponential)+"+"+O)}else l=sa(e,an.Infinity);return l=n<0&&!h?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf,l}(n,a,t,an.CurrencyGroup,an.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function eE(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let fm=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Xg(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${si(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(P(Tl),P(Gd),P(Et),P(eo))},n.\u0275dir=De({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class LG{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qd=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new LG(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),LR(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{LR(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(P(Zr),P(zr),P(Tl))},n.\u0275dir=De({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function LR(n,t){n.context.$implicit=t.item}let Pu=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new BG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){NR("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){NR("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(P(Zr),P(zr))},n.\u0275dir=De({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class BG{constructor(){this.$implicit=null,this.ngIf=null}}function NR(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${si(t)}'.`)}class nE{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let pm=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=De({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),iE=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new nE(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(P(Zr),P(zr),P(pm,9))},n.\u0275dir=De({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),BR=(()=>{class n{constructor(e,i,r){r._addDefault(new nE(e,i))}}return n.\u0275fac=function(e){return new(e||n)(P(Zr),P(zr),P(pm,9))},n.\u0275dir=De({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),nb=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),a=-1===r.indexOf("-")?void 0:ws.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Gd),P(eo))},n.\u0275dir=De({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function $a(n,t){return new Ze(2100,!1)}class zG{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class $G{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const jG=new $G,UG=new zG;let HR=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Jg(e))return jG;if(z1(e))return UG;throw $a()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(P(Mr,16))},n.\u0275pipe=ys({name:"async",type:n,pure:!1,standalone:!0}),n})(),rE=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",s,a){if(!function sE(n){return!(null==n||""===n||n!=n)}(e))return null;a=a||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let l=i||this._defaultCurrencyCode;"code"!==r&&(l="symbol"===r||"symbol-narrow"===r?function aG(n,t,e="en"){const i=function iG(n){return no(n)[It.Currencies]}(e)[n]||SR[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(l,"symbol"===r?"wide":"narrow",a):r);try{return MG(function oE(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),a,l,i,s)}catch(h){throw $a()}}}return n.\u0275fac=function(e){return new(e||n)(P(Ml,16),P(cU,16))},n.\u0275pipe=ys({name:"currency",type:n,pure:!0,standalone:!0}),n})();let ja=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({}),n})();const $R="browser";function Kd(n){return n===$R}function Xf(n){return"server"===n}let u4=(()=>{class n{}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new d4(le(hn),window)}),n})();class d4{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function h4(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=jR(this.window.history)||jR(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cE extends class I4 extends class GU{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function UU(n){W_||(W_=n)}(new cE)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function R4(){return mm=mm||document.querySelector("base"),mm?mm.getAttribute("href"):null}();return null==e?null:function O4(n){rb=rb||document.createElement("a"),rb.setAttribute("href",n);const t=rb.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){mm=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function PG(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let rb,mm=null;const qR=new Ie("TRANSITION_ID"),F4=[{provide:H_,useFactory:function P4(n,t,e){return()=>{e.get(z_).donePromise.then(()=>{const i=Al(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[qR,hn,or],multi:!0}];let N4=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const sb=new Ie("EventManagerPlugins");let ob=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(le(sb),le(Yt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class KR{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Al().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let YR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),vm=(()=>{class n extends YR{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ZR),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ZR))}}return n.\u0275fac=function(e){return new(e||n)(le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();function ZR(n){Al().remove(n)}const uE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dE=/%COMP%/g;function ab(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ab(n,r,e):(r=r.replace(dE,n),e.push(r))}return e}function JR(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let lb=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new hE(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Cr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new j4(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Cr.ShadowDom:return new U4(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ab(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(le(ob),le(vm),le(Yf))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class hE{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(uE[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(tO(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(tO(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=uE[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=uE[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ws.DashCase|ws.Important)?t.style.setProperty(e,i,r&ws.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ws.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,JR(i)):this.eventManager.addEventListener(t,e,JR(i))}}function tO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class j4 extends hE{constructor(t,e,i,r){super(t),this.component=i;const s=ab(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function H4(n){return"_ngcontent-%COMP%".replace(dE,n)}(r+"-"+i.id),this.hostAttr=function z4(n){return"_nghost-%COMP%".replace(dE,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class U4 extends hE{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ab(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let G4=(()=>{class n extends KR{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const nO=["alt","control","meta","shift"],W4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let K4=(()=>{class n extends KR{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Al().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),nO.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),a+=m+".")}),a+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=W4[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),nO.forEach(a=>{a!==r&&(0,q4[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const Q4=tR(zU,"browser",[{provide:Va,useValue:$R},{provide:WI,useValue:function Y4(){cE.makeCurrent()},multi:!0},{provide:hn,useFactory:function X4(){return function Wg(n){Gg=n}(document),document},deps:[]}]),sO=new Ie(""),oO=[{provide:$_,useClass:class L4{addToWindow(t){Ii.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ii.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ii.getAllAngularRootElements=()=>t.getAllRootElements(),Ii.frameworkStabilizers||(Ii.frameworkStabilizers=[]),Ii.frameworkStabilizers.push(i=>{const r=Ii.getAllAngularTestabilities();let s=r.length,a=!1;const l=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(function(h){h.whenStable(l)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Al().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:XI,useClass:LD,deps:[Yt,ND,$_]},{provide:LD,useClass:LD,deps:[Yt,ND,$_]}],aO=[{provide:_n,useValue:"root"},{provide:Sr,useFactory:function Z4(){return new Sr},deps:[]},{provide:sb,useClass:G4,multi:!0,deps:[hn,Yt,Va]},{provide:sb,useClass:K4,multi:!0,deps:[hn]},{provide:lb,useClass:lb,deps:[ob,vm,Yf]},{provide:Ra,useExisting:lb},{provide:YR,useExisting:vm},{provide:vm,useClass:vm,deps:[hn]},{provide:ob,useClass:ob,deps:[sb,Yt]},{provide:class f4{},useClass:N4,deps:[]},[]];let lO=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Yf,useValue:e.appId},{provide:qR,useExisting:Yf},F4]}}}return n.\u0275fac=function(e){return new(e||n)(le(sO,12))},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[...aO,...oO],imports:[ja,$U]}),n})(),cO=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(le(hn))},n.\u0275prov=Pe({token:n,factory:function(e){let i=null;return i=e?new e:function eW(){return new cO(le(hn))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(e){let i=null;return i=e?new(e||n):le(hO),i},providedIn:"root"}),n})(),hO=(()=>{class n extends cb{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Me.NONE:return i;case Me.HTML:return _(i,"HTML")?b(i):We(this._doc,String(i)).toString();case Me.STYLE:return _(i,"Style")?b(i):i;case Me.SCRIPT:if(_(i,"Script"))return b(i);throw new Error("unsafe value used in a script context");case Me.URL:return _(i,"URL")?b(i):K(String(i));case Me.RESOURCE_URL:if(_(i,"ResourceURL"))return b(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function x(n){return new d(n)}(e)}bypassSecurityTrustStyle(e){return function E(n){return new f(n)}(e)}bypassSecurityTrustScript(e){return function S(n){return new p(n)}(e)}bypassSecurityTrustUrl(e){return function M(n){return new g(n)}(e)}bypassSecurityTrustResourceUrl(e){return function A(n){return new y(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(le(hn))},n.\u0275prov=Pe({token:n,factory:function(e){let i=null;return i=e?new e:function aW(n){return new hO(n.get(hn))}(le(or)),i},providedIn:"root"}),n})();function Ft(...n){return ai(n,ti(n))}class yi extends Ge{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ub=ee(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:lW}=Array,{getPrototypeOf:cW,prototype:uW,keys:dW}=Object;function fO(n){if(1===n.length){const t=n[0];if(lW(t))return{args:t,keys:null};if(function hW(n){return n&&"object"==typeof n&&cW(n)===uW}(t)){const e=dW(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:fW}=Array;function gE(n){return vt(t=>function pW(n,t){return fW(t)?n(...t):n(t)}(n,t))}function pO(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Qf(...n){const t=ti(n),e=Oh(n),{args:i,keys:r}=fO(n);if(0===i.length)return ai([],t);const s=new tt(function gW(n,t,e=Ae){return i=>{gO(t,()=>{const{length:r}=n,s=new Array(r);let a=r,l=r;for(let h=0;h<r;h++)gO(t,()=>{const m=ai(n[h],t);let v=!1;m.subscribe(On(i,C=>{s[h]=C,v||(v=!0,l--),l||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>pO(r,a):Ae));return e?s.pipe(gE(e)):s}function gO(n,t,e){n?Go(e,n,t):t()}function db(...n){return function mW(){return sl(1)}()(ai(n,ti(n)))}function ym(n){return new tt(t=>{wr(n()).subscribe(t)})}function Jf(n,t){const e=j(n)?n:()=>n,i=r=>r.error(e());return new tt(t?r=>t.schedule(i,0,r):i)}function mE(){return vn((n,t)=>{let e=null;n._refCount++;const i=On(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class vE extends tt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Oi(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne;const e=this.getSubject();t.add(this.source.subscribe(On(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.EMPTY)}return t}refCount(){return mE()(this)}}function Fo(n,t){return vn((e,i)=>{let r=null,s=0,a=!1;const l=()=>a&&!r&&i.complete();e.subscribe(On(i,h=>{r?.unsubscribe();let m=0;const v=s++;wr(n(h,v)).subscribe(r=On(i,C=>i.next(t?t(h,C,v,m++):C),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function gr(n){return n<=0?()=>js:vn((t,e)=>{let i=0;t.subscribe(On(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Ua(...n){const t=ti(n);return vn((e,i)=>{(t?db(n,e,t):db(n,e)).subscribe(i)})}function mr(n,t){return vn((e,i)=>{let r=0;e.subscribe(On(i,s=>n.call(t,s,r++)&&i.next(s)))})}function hb(n){return vn((t,e)=>{let i=!1;t.subscribe(On(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function mO(n=vW){return vn((t,e)=>{let i=!1;t.subscribe(On(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function vW(){return new ub}function Lu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?mr((r,s)=>n(r,s,i)):Ae,gr(1),e?hb(t):mO(()=>new ub))}function Nu(n,t){return j(t)?Or(n,t,1):Or(n,1)}function Hn(n,t,e){const i=j(n)||t||e?{next:n,error:t,complete:e}:n;return i?vn((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let l=!0;r.subscribe(On(s,h=>{var m;null===(m=i.next)||void 0===m||m.call(i,h),s.next(h)},()=>{var h;l=!1,null===(h=i.complete)||void 0===h||h.call(i),s.complete()},h=>{var m;l=!1,null===(m=i.error)||void 0===m||m.call(i,h),s.error(h)},()=>{var h,m;l&&(null===(h=i.unsubscribe)||void 0===h||h.call(i)),null===(m=i.finalize)||void 0===m||m.call(i)}))}):Ae}function Ga(n){return vn((t,e)=>{let s,i=null,r=!1;i=t.subscribe(On(e,void 0,void 0,a=>{s=wr(n(a,Ga(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function yW(n,t,e,i,r){return(s,a)=>{let l=e,h=t,m=0;s.subscribe(On(a,v=>{const C=m++;h=l?n(h,v,C):(l=!0,v),i&&a.next(h)},r&&(()=>{l&&a.next(h),a.complete()})))}}function vO(n,t){return vn(yW(n,t,arguments.length>=2,!0))}function yE(n){return n<=0?()=>js:vn((t,e)=>{let i=[];t.subscribe(On(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function yO(n,t){const e=arguments.length>=2;return i=>i.pipe(n?mr((r,s)=>n(r,s,i)):Ae,yE(1),e?hb(t):mO(()=>new ub))}function _O(n,t=!1){return vn((e,i)=>{let r=0;e.subscribe(On(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}function fb(n){return vn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const qn="primary",_m=Symbol("RouteTitle");class bW{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ep(n){return new bW(n)}function wW(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],l=n[s];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function kl(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!bO(n[r],t[r]))return!1;return!0}function bO(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function wO(n){return Array.prototype.concat.apply([],n)}function CO(n){return n.length>0?n[n.length-1]:null}function Ss(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Bu(n){return aD(n)?n:Jg(n)?ai(Promise.resolve(n)):Ft(n)}const DW={exact:function EO(n,t,e){if(!Zd(n.segments,t.segments)||!pb(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!EO(n.children[i],t.children[i],e))return!1;return!0},subset:SO},xO={exact:function EW(n,t){return kl(n,t)},subset:function SW(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>bO(n[e],t[e]))},ignored:()=>!0};function DO(n,t,e){return DW[e.paths](n.root,t.root,e.matrixParams)&&xO[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function SO(n,t,e){return MO(n,t,t.segments,e)}function MO(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Zd(r,e)||t.hasChildren()||!pb(r,e,i))}if(n.segments.length===e.length){if(!Zd(n.segments,e)||!pb(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!SO(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Zd(n.segments,r)&&pb(n.segments,r,i)&&n.children[qn])&&MO(n.children[qn],t,s,i)}}function pb(n,t,e){return t.every((i,r)=>xO[e](n[r].parameters,i.parameters))}class Yd{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ep(this.queryParams)),this._queryParamMap}toString(){return AW.serialize(this)}}class Xn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ss(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gb(this)}}class bm{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ep(this.parameters)),this._parameterMap}toString(){return IO(this)}}function Zd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let TO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return new bE},providedIn:"root"}),n})();class bE{parse(t){const e=new BW(t);return new Yd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${wm(t.root,!0)}`,i=function RW(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${mb(e)}=${mb(r)}`).join("&"):`${mb(e)}=${mb(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function kW(n){return encodeURI(n)}(t.fragment)}`:""}`}}const AW=new bE;function gb(n){return n.segments.map(t=>IO(t)).join("/")}function wm(n,t){if(!n.hasChildren())return gb(n);if(t){const e=n.children[qn]?wm(n.children[qn],!1):"",i=[];return Ss(n.children,(r,s)=>{s!==qn&&i.push(`${s}:${wm(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function TW(n,t){let e=[];return Ss(n.children,(i,r)=>{r===qn&&(e=e.concat(t(i,r)))}),Ss(n.children,(i,r)=>{r!==qn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===qn?[wm(n.children[qn],!1)]:[`${r}:${wm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qn]?`${gb(n)}/${e[0]}`:`${gb(n)}/(${e.join("//")})`}}function AO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mb(n){return AO(n).replace(/%3B/gi,";")}function wE(n){return AO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vb(n){return decodeURIComponent(n)}function kO(n){return vb(n.replace(/\+/g,"%20"))}function IO(n){return`${wE(n.path)}${function IW(n){return Object.keys(n).map(t=>`;${wE(t)}=${wE(n[t])}`).join("")}(n.parameters)}`}const OW=/^[^\/()?;=#]+/;function yb(n){const t=n.match(OW);return t?t[0]:""}const PW=/^[^=?&#]+/,LW=/^[^&#]+/;class BW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[qn]=new Xn(t,e)),i}parseSegment(){const t=yb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ze(4009,!1);return this.capture(t),new bm(vb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yb(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=yb(this.remaining);r&&(i=r,this.capture(i))}t[vb(e)]=vb(i)}parseQueryParam(t){const e=function FW(n){const t=n.match(PW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function NW(n){const t=n.match(LW);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=kO(e),s=kO(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=yb(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Ze(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=qn);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[qn]:new Xn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ze(4011,!1)}}function CE(n){return n.segments.length>0?new Xn([],{[qn]:n}):n}function _b(n){const t={};for(const i of Object.keys(n.children)){const s=_b(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function VW(n){if(1===n.numberOfChildren&&n.children[qn]){const t=n.children[qn];return new Xn(n.segments.concat(t.segments),t.children)}return n}(new Xn(n.segments,t))}function Xd(n){return n instanceof Yd}function $W(n,t,e,i,r){if(0===e.length)return tp(t.root,t.root,t.root,i,r);const s=function PO(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new OO(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Ss(s.outlets,(h,m)=>{l[m]="string"==typeof h?h.split("/"):h}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((l,h)=>{0==h&&"."===l||(0==h&&""===l?e=!0:".."===l?t++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new OO(e,t,i)}(e);return s.toRoot()?tp(t.root,t.root,new Xn([],{}),i,r):function a(h){const m=function UW(n,t,e,i){if(n.isAbsolute)return new np(t.root,!0,0);if(-1===i)return new np(e,e===t.root,0);return function FO(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Ze(4005,!1);r=i.segments.length}return new np(i,!1,r-s)}(e,i+(Cm(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,h),v=m.processChildren?Dm(m.segmentGroup,m.index,s.commands):DE(m.segmentGroup,m.index,s.commands);return tp(t.root,m.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function Cm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xm(n){return"object"==typeof n&&null!=n&&n.outlets}function tp(n,t,e,i,r){let a,s={};i&&Ss(i,(h,m)=>{s[m]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),a=n===t?e:RO(n,t,e);const l=CE(_b(a));return new Yd(l,s,r)}function RO(n,t,e){const i={};return Ss(n.children,(r,s)=>{i[s]=r===t?e:RO(r,t,e)}),new Xn(n.segments,i)}class OO{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Cm(i[0]))throw new Ze(4003,!1);const r=i.find(xm);if(r&&r!==CO(i))throw new Ze(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class np{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function DE(n,t,e){if(n||(n=new Xn([],{})),0===n.segments.length&&n.hasChildren())return Dm(n,t,e);const i=function WW(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],l=e[i];if(xm(l))break;const h=`${l}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&m&&"object"==typeof m&&void 0===m.outlets){if(!NO(h,m,a))return s;i+=2}else{if(!NO(h,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Xn(n.segments.slice(0,i.pathIndex),{});return s.children[qn]=new Xn(n.segments.slice(i.pathIndex),n.children),Dm(s,0,r)}return i.match&&0===r.length?new Xn(n.segments,{}):i.match&&!n.hasChildren()?EE(n,t,e):i.match?Dm(n,0,r):EE(n,t,e)}function Dm(n,t,e){if(0===e.length)return new Xn(n.segments,{});{const i=function GW(n){return xm(n[0])?n[0].outlets:{[qn]:n}}(e),r={};return Ss(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=DE(n.children[a],t,s))}),Ss(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new Xn(n.segments,r)}}function EE(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(xm(s)){const h=qW(s.outlets);return new Xn(i,h)}if(0===r&&Cm(e[0])){i.push(new bm(n.segments[t].path,LO(e[0]))),r++;continue}const a=xm(s)?s.outlets[qn]:`${s}`,l=r<e.length-1?e[r+1]:null;a&&l&&Cm(l)?(i.push(new bm(a,LO(l))),r+=2):(i.push(new bm(a,{})),r++)}return new Xn(i,{})}function qW(n){const t={};return Ss(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=EE(new Xn([],{}),0,e))}),t}function LO(n){const t={};return Ss(n,(e,i)=>t[i]=`${e}`),t}function NO(n,t,e){return n==e.path&&kl(t,e.parameters)}class bc{constructor(t,e){this.id=t,this.url=e}}class SE extends bc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qd extends bc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bb extends bc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class BO extends bc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KW extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YW extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZW extends bc{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XW extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QW extends bc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class e8{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class t8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VO{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class HO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ME(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ME(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=TE(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return TE(t,this._root).map(e=>e.value)}}function ME(n,t){if(n===t.value)return t;for(const e of t.children){const i=ME(n,e);if(i)return i}return null}function TE(n,t){if(n===t.value)return[t];for(const e of t.children){const i=TE(n,e);if(i.length)return i.unshift(t),i}return[]}class wc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ip(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class zO extends HO{constructor(t,e){super(t),this.snapshot=e,AE(this,t)}toString(){return this.snapshot.toString()}}function $O(n,t){const e=function o8(n,t){const a=new wb([],{},{},"",{},qn,t,null,n.root,-1,{});return new UO("",new wc(a,[]))}(n,t),i=new yi([new bm("",{})]),r=new yi({}),s=new yi({}),a=new yi({}),l=new yi(""),h=new Vu(i,r,a,l,s,qn,t,e.root);return h.snapshot=e.root,new zO(new wc(h,[]),e)}class Vu{constructor(t,e,i,r,s,a,l,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.pipe(vt(m=>m[_m]))??Ft(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(vt(t=>ep(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(vt(t=>ep(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jO(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function a8(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class wb{constructor(t,e,i,r,s,a,l,h,m,v,C,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.title=this.data?.[_m],this.routeConfig=h,this._urlSegment=m,this._lastPathIndex=v,this._correctedLastPathIndex=D??v,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ep(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ep(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UO extends HO{constructor(t,e){super(e),this.url=t,AE(this,e)}toString(){return GO(this._root)}}function AE(n,t){t.value._routerState=n,t.children.forEach(e=>AE(n,e))}function GO(n){const t=n.children.length>0?` { ${n.children.map(GO).join(", ")} } `:"";return`${n.value}${t}`}function kE(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,kl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),kl(t.params,e.params)||n.params.next(e.params),function CW(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!kl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),kl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function IE(n,t){const e=kl(n.params,t.params)&&function MW(n,t){return Zd(n,t)&&n.every((e,i)=>kl(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||IE(n.parent,t.parent))}function Em(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function c8(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Em(n,i,r);return Em(n,i)})}(n,t,e);return new wc(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>Em(n,l)),a}}const i=function u8(n){return new Vu(new yi(n.url),new yi(n.params),new yi(n.queryParams),new yi(n.fragment),new yi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Em(n,s));return new wc(i,r)}}const RE="ngNavigationCancelingError";function WO(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Xd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=qO(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function qO(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[RE]=!0,i.cancellationCode=t,e&&(i.url=e),i}function KO(n){return YO(n)&&Xd(n.url)}function YO(n){return n&&n[RE]}class d8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Sm,this.attachRef=null}}let Sm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new d8,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cb=!1;let xb=(()=>{class n{constructor(e,i,r,s,a){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new dn,this.deactivateEvents=new dn,this.attachEvents=new dn,this.detachEvents=new dn,this.name=r||qn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ze(4012,Cb);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ze(4012,Cb);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ze(4012,Cb);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Ze(4013,Cb);this._activatedRoute=e;const r=this.location,a=e._futureSnapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,h=new h8(e,l,r.injector);if(i&&function f8(n){return!!n.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(a);this.activated=r.createComponent(m,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(P(Sm),P(Zr),_s("name"),P(Mr),P(Vr))},n.\u0275dir=De({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class h8{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Vu?this.route:t===Sm?this.childContexts:this.parent.get(t,e)}}let OE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["ng-component"]],standalone:!0,features:[oI],decls:1,vars:0,template:function(e,i){1&e&&rn(0,"router-outlet")},dependencies:[xb],encapsulation:2}),n})();function ZO(n,t){return n.providers&&!n._injector&&(n._injector=L_(n.providers,t,`Route: ${n.path}`)),n._injector??t}function FE(n){const t=n.children&&n.children.map(FE),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qn&&(e.component=OE),e}function aa(n){return n.outlet||qn}function XO(n,t){const e=n.filter(i=>aa(i)===t);return e.push(...n.filter(i=>aa(i)!==t)),e}function Mm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class y8{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),kE(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ip(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Ss(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ip(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ip(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=ip(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new r8(s.value.snapshot))}),t.children.length&&this.forwardEvent(new n8(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(kE(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),kE(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=Mm(r.snapshot),h=l?.get(lc)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class QO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Db{constructor(t,e){this.component=t,this.route=e}}function _8(n,t,e){const i=n._root;return Tm(i,t?t._root:null,e,[i.value])}function rp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function aC(n){return null!==qr(n)}(n)?t.get(n):n:i}function Tm(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ip(t);return n.children.forEach(a=>{(function w8(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function C8(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Zd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Zd(n.url,t.url)||!kl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IE(n,t)||!kl(n.queryParams,t.queryParams);default:return!IE(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new QO(i)):(s.data=a.data,s._resolvedData=a._resolvedData),Tm(n,t,s.component?l?l.children:null:e,i,r),h&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Db(l.outlet.component,a))}else a&&Am(t,l,r),r.canActivateChecks.push(new QO(i)),Tm(n,null,s.component?l?l.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Ss(s,(a,l)=>Am(a,e.getContext(l),r)),r}function Am(n,t,e){const i=ip(n),r=n.value;Ss(i,(s,a)=>{Am(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new Db(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function km(n){return"function"==typeof n}function LE(n){return n instanceof ub||"EmptyError"===n?.name}const Eb=Symbol("INITIAL_VALUE");function sp(){return Fo(n=>Qf(n.map(t=>t.pipe(gr(1),Ua(Eb)))).pipe(vt(t=>{for(const e of t)if(!0!==e){if(e===Eb)return Eb;if(!1===e||e instanceof Yd)return e}return!0}),mr(t=>t!==Eb),gr(1)))}function JO(n){return function ht(...n){return Mt(n)}(Hn(t=>{if(Xd(t))throw WO(0,t)}),vt(t=>!0===t))}const NE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eP(n,t,e,i,r){const s=BE(n,t,e);return s.matched?function V8(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ft(r.map(a=>{const l=rp(a,n);return Bu(function T8(n){return n&&km(n.canMatch)}(l)?l.canMatch(t,e):n.runInContext(()=>l(t,e)))})).pipe(sp(),JO()):Ft(!0)}(i=ZO(t,i),t,e).pipe(vt(a=>!0===a?s:{...NE})):Ft(s)}function BE(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...NE}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||wW)(e,n,t);if(!r)return{...NE};const s={};Ss(r.posParams,(l,h)=>{s[h]=l.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Sb(n,t,e,i,r="corrected"){if(e.length>0&&function $8(n,t,e){return e.some(i=>Mb(n,t,i)&&aa(i)!==qn)}(n,e,i)){const a=new Xn(t,function z8(n,t,e,i){const r={};r[qn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&aa(s)!==qn){const a=new Xn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[aa(s)]=a}return r}(n,t,i,new Xn(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function j8(n,t,e){return e.some(i=>Mb(n,t,i))}(n,e,i)){const a=new Xn(n.segments,function H8(n,t,e,i,r,s){const a={};for(const l of i)if(Mb(n,e,l)&&!r[aa(l)]){const h=new Xn([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[aa(l)]=h}return{...r,...a}}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new Xn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Mb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function tP(n,t,e,i){return!!(aa(n)===i||i!==qn&&Mb(t,e,n))&&("**"===n.path||BE(t,n,e).matched)}function nP(n,t,e){return 0===t.length&&!n.children[e]}const Tb=!1;class Ab{constructor(t){this.segmentGroup=t||null}}class iP{constructor(t){this.urlTree=t}}function Im(n){return Jf(new Ab(n))}function rP(n){return Jf(new iP(n))}class q8{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Sb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Xn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,qn).pipe(vt(s=>this.createUrlTree(_b(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ga(s=>{if(s instanceof iP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ab?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,qn).pipe(vt(r=>this.createUrlTree(_b(r),t.queryParams,t.fragment))).pipe(Ga(r=>{throw r instanceof Ab?this.noMatchError(r):r}))}noMatchError(t){return new Ze(4002,Tb)}createUrlTree(t,e,i){const r=CE(t);return new Yd(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(vt(s=>new Xn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return ai(r).pipe(Nu(s=>{const a=i.children[s],l=XO(e,s);return this.expandSegmentGroup(t,l,a,s).pipe(vt(h=>({segment:h,outlet:s})))}),vO((s,a)=>(s[a.outlet]=a.segment,s),{}),yO())}expandSegment(t,e,i,r,s,a){return ai(i).pipe(Nu(l=>this.expandSegmentAgainstRoute(t,e,i,l,r,s,a).pipe(Ga(m=>{if(m instanceof Ab)return Ft(null);throw m}))),Lu(l=>!!l),Ga((l,h)=>{if(LE(l))return nP(e,r,s)?Ft(new Xn([],{})):Im(e);throw l}))}expandSegmentAgainstRoute(t,e,i,r,s,a,l){return tP(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):Im(e):Im(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rP(s):this.lineralizeSegments(i,s).pipe(Or(a=>{const l=new Xn(a,{});return this.expandSegment(t,l,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:l,consumedSegments:h,remainingSegments:m,positionalParamSegments:v}=BE(e,r,s);if(!l)return Im(e);const C=this.applyRedirectCommands(h,r.redirectTo,v);return r.redirectTo.startsWith("/")?rP(C):this.lineralizeSegments(r,C).pipe(Or(D=>this.expandSegment(t,e,i,D.concat(m),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=ZO(i,t),i.loadChildren?(i._loadedRoutes?Ft({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(vt(l=>(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,new Xn(r,{})))):Ft(new Xn(r,{}))):eP(e,i,r,t).pipe(Fo(({matched:a,consumedSegments:l,remainingSegments:h})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe(Or(v=>{const C=v.injector??t,D=v.routes,{segmentGroup:T,slicedSegments:k}=Sb(e,l,h,D),O=new Xn(T.segments,T.children);if(0===k.length&&O.hasChildren())return this.expandChildren(C,D,O).pipe(vt(te=>new Xn(l,te)));if(0===D.length&&0===k.length)return Ft(new Xn(l,{}));const B=aa(i)===s;return this.expandSegment(C,O,D,k,B?qn:s,!0).pipe(vt(q=>new Xn(l.concat(q.segments),q.children)))})):Im(e)))}getChildConfig(t,e,i){return e.children?Ft({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ft({routes:e._loadedRoutes,injector:e._loadedInjector}):function B8(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ft(!0):Ft(r.map(a=>{const l=rp(a,n);return Bu(function D8(n){return n&&km(n.canLoad)}(l)?l.canLoad(t,e):n.runInContext(()=>l(t,e)))})).pipe(sp(),JO())}(t,e,i).pipe(Or(r=>r?this.configLoader.loadChildren(t,e).pipe(Hn(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function G8(n){return Jf(qO(Tb,3))}())):Ft({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ft(i);if(r.numberOfChildren>1||!r.children[qn])return Jf(new Ze(4e3,Tb));r=r.children[qn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Yd(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ss(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=e[l]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return Ss(e.children,(l,h)=>{a[h]=this.createSegmentGroup(t,l,i,r)}),new Xn(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Ze(4001,Tb);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Y8{}class Q8{constructor(t,e,i,r,s,a,l,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=l,this.urlSerializer=h}recognize(){const t=Sb(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,qn).pipe(vt(e=>{if(null===e)return null;const i=new wb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wc(i,e),s=new UO(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=jO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return ai(Object.keys(i.children)).pipe(Nu(r=>{const s=i.children[r],a=XO(e,r);return this.processSegmentGroup(t,a,s,r)}),vO((r,s)=>r&&s?(r.push(...s),r):null),_O(r=>null!==r),hb(null),yO(),vt(r=>{if(null===r)return null;const s=sP(r);return function J8(n){n.sort((t,e)=>t.value.outlet===qn?-1:e.value.outlet===qn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return ai(e).pipe(Nu(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),Lu(a=>!!a),Ga(a=>{if(LE(a))return nP(i,r,s)?Ft([]):Ft(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!tP(e,i,r,s))return Ft(null);let a;if("**"===e.path){const l=r.length>0?CO(r).parameters:{},h=aP(i)+r.length;a=Ft({snapshot:new wb(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cP(e),aa(e),e.component??e._loadedComponent??null,e,oP(i),h,uP(e),h),consumedSegments:[],remainingSegments:[]})}else a=eP(i,e,r,t).pipe(vt(({matched:l,consumedSegments:h,remainingSegments:m,parameters:v})=>{if(!l)return null;const C=aP(i)+h.length;return{snapshot:new wb(h,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cP(e),aa(e),e.component??e._loadedComponent??null,e,oP(i),C,uP(e),C),consumedSegments:h,remainingSegments:m}}));return a.pipe(Fo(l=>{if(null===l)return Ft(null);const{snapshot:h,consumedSegments:m,remainingSegments:v}=l;t=e._injector??t;const C=e._loadedInjector??t,D=function e6(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:T,slicedSegments:k}=Sb(i,m,v,D.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===k.length&&T.hasChildren())return this.processChildren(C,D,T).pipe(vt(B=>null===B?null:[new wc(h,B)]));if(0===D.length&&0===k.length)return Ft([new wc(h,[])]);const O=aa(e)===s;return this.processSegment(C,D,T,k,O?qn:s).pipe(vt(B=>null===B?null:[new wc(h,B)]))}))}}function t6(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function sP(n){const t=[],e=new Set;for(const i of n){if(!t6(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=sP(i.children);t.push(new wc(i.value,r))}return t.filter(i=>!e.has(i))}function oP(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function aP(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function cP(n){return n.data||{}}function uP(n){return n.resolve||{}}function dP(n){return"string"==typeof n.title||null===n.title}function VE(n){return Fo(t=>{const e=n(t);return e?ai(e).pipe(vt(()=>t)):Ft(t)})}let hP=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===qn);return i}getResolvedTitleForRoute(e){return e.data[_m]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return Ci(fP)},providedIn:"root"}),n})(),fP=(()=>{class n extends hP{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(le(cO))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c6{}class d6 extends class u6{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ib=new Ie("",{providedIn:"root",factory:()=>({})}),HE=new Ie("ROUTES");let zE=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ft(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Bu(e.loadComponent()).pipe(Hn(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),fb(()=>{this.componentLoaders.delete(e)})),r=new vE(i,()=>new Ge).pipe(mE());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ft({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(vt(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,m,v=!1;Array.isArray(l)?m=l:(h=l.create(e).injector,m=wO(h.get(HE,[],en.Self|en.Optional)));return{routes:m.map(FE),injector:h}}),fb(()=>{this.childrenLoaders.delete(i)})),a=new vE(s,()=>new Ge).pipe(mE());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Bu(e()).pipe(Or(i=>i instanceof rI||Array.isArray(i)?Ft(i):ai(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(le(or),le(RD))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class f6{}class p6{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function g6(n){throw n}function m6(n,t,e){return t.parse("/")}const v6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function gP(){const n=Ci(TO),t=Ci(Sm),e=Ci(um),i=Ci(or),r=Ci(RD),s=Ci(HE,{optional:!0})??[],a=Ci(Ib,{optional:!0})??{},l=Ci(fP),h=Ci(hP,{optional:!0}),m=Ci(f6,{optional:!0}),v=Ci(c6,{optional:!0}),C=new hs(null,n,t,e,i,r,wO(s));return m&&(C.urlHandlingStrategy=m),v&&(C.routeReuseStrategy=v),C.titleStrategy=h??l,function _6(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,C),C}let hs=(()=>{class n{constructor(e,i,r,s,a,l,h){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ge,this.errorHandler=g6,this.malformedUriErrorHandler=m6,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ft(void 0),this.urlHandlingStrategy=new p6,this.routeReuseStrategy=new d6,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(zE),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new e8(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new JW(D)),this.ngModule=a.get(jd),this.console=a.get(aU);const C=a.get(Yt);this.isNgZoneEnabled=C instanceof Yt&&Yt.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function xW(){return new Yd(new Xn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$O(this.currentUrlTree,this.rootComponentType),this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(mr(r=>0!==r.id),vt(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Fo(r=>{let s=!1,a=!1;return Ft(r).pipe(Hn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fo(l=>{const h=this.browserUrlTree.toString(),m=!this.navigated||l.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return mP(l.source)&&(this.browserUrlTree=l.extractedUrl),Ft(l).pipe(Fo(C=>{const D=this.transitions.getValue();return i.next(new SE(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),D!==this.transitions.getValue()?js:Promise.resolve(C)}),function K8(n,t,e,i){return Fo(r=>function W8(n,t,e,i,r){return new q8(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(vt(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Hn(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function i6(n,t,e,i,r,s){return Or(a=>function X8(n,t,e,i,r,s,a="emptyOnly",l="legacy"){return new Q8(n,t,e,i,r,a,l,s).recognize().pipe(Fo(h=>null===h?function Z8(n){return new tt(t=>t.error(n))}(new Y8):Ft(h)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,s).pipe(vt(l=>({...a,targetSnapshot:l}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Hn(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const T=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(T,C)}this.browserUrlTree=C.urlAfterRedirects}const D=new KW(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);i.next(D)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:T,source:k,restoredState:O,extras:B}=l,V=new SE(D,this.serializeUrl(T),k,O);i.next(V);const q=$O(T,this.rootComponentType).snapshot;return Ft(r={...l,targetSnapshot:q,urlAfterRedirects:T,extras:{...B,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),js}),Hn(l=>{const h=new YW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}),vt(l=>r={...l,guards:_8(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function k8(n,t){return Or(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?Ft({...e,guardsResult:!0}):function I8(n,t,e,i){return ai(n).pipe(Or(r=>function N8(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ft(s.map(l=>{const h=Mm(t)??r,m=rp(l,h);return Bu(function M8(n){return n&&km(n.canDeactivate)}(m)?m.canDeactivate(n,t,e,i):h.runInContext(()=>m(n,t,e,i))).pipe(Lu())})).pipe(sp()):Ft(!0)}(r.component,r.route,e,t,i)),Lu(r=>!0!==r,!0))}(a,i,r,n).pipe(Or(l=>l&&function x8(n){return"boolean"==typeof n}(l)?function R8(n,t,e,i){return ai(t).pipe(Nu(r=>db(function P8(n,t){return null!==n&&t&&t(new t8(n)),Ft(!0)}(r.route.parent,i),function O8(n,t){return null!==n&&t&&t(new i8(n)),Ft(!0)}(r.route,i),function L8(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function b8(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>ym(()=>Ft(a.guards.map(h=>{const m=Mm(a.node)??e,v=rp(h,m);return Bu(function S8(n){return n&&km(n.canActivateChild)}(v)?v.canActivateChild(i,n):m.runInContext(()=>v(i,n))).pipe(Lu())})).pipe(sp())));return Ft(s).pipe(sp())}(n,r.path,e),function F8(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ft(!0);const r=i.map(s=>ym(()=>{const a=Mm(t)??e,l=rp(s,a);return Bu(function E8(n){return n&&km(n.canActivate)}(l)?l.canActivate(t,n):a.runInContext(()=>l(t,n))).pipe(Lu())}));return Ft(r).pipe(sp())}(n,r.route,e))),Lu(r=>!0!==r,!0))}(i,s,n,t):Ft(l)),vt(l=>({...e,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),Hn(l=>{if(r.guardsResult=l.guardsResult,Xd(l.guardsResult))throw WO(0,l.guardsResult);const h=new ZW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(h)}),mr(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),VE(l=>{if(l.guards.canActivateChecks.length)return Ft(l).pipe(Hn(h=>{const m=new XW(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),Fo(h=>{let m=!1;return Ft(h).pipe(function r6(n,t){return Or(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ft(e);let s=0;return ai(r).pipe(Nu(a=>function s6(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!dP(r)&&(s[_m]=r.title),function o6(n,t,e,i){const r=function a6(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ft({});const s={};return ai(r).pipe(Or(a=>function l6(n,t,e,i){const r=Mm(t)??i,s=rp(n,r);return Bu(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(Lu(),Hn(l=>{s[a]=l}))),yE(1),function _W(n){return vt(()=>n)}(s),Ga(a=>LE(a)?js:Jf(a)))}(s,n,t,i).pipe(vt(a=>(n._resolvedData=a,n.data=jO(n,e).resolve,r&&dP(r)&&(n.data[_m]=r.title),null)))}(a.route,i,n,t)),Hn(()=>s++),yE(1),Or(a=>s===r.length?Ft(e):js))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Hn({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Hn(h=>{const m=new QW(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}))}),VE(l=>{const h=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(Hn(C=>{m.component=C}),vt(()=>{})));for(const C of m.children)v.push(...h(C));return v};return Qf(h(l.targetSnapshot.root)).pipe(hb(),gr(1))}),VE(()=>this.afterPreactivation()),vt(l=>{const h=function l8(n,t,e){const i=Em(n,t._root,e?e._root:void 0);return new zO(i,t)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),Hn(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>vt(i=>(new y8(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),Hn({next(){s=!0},complete(){s=!0}}),fb(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ga(l=>{if(a=!0,YO(l)){KO(l)||(this.navigated=!0,this.restoreHistory(r,!0));const h=new bb(r.id,this.serializeUrl(r.extractedUrl),l.message,l.cancellationCode);if(i.next(h),KO(l)){const m=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mP(r.source)};this.scheduleNavigation(m,"imperative",null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new BO(r.id,this.serializeUrl(r.extractedUrl),l,r.targetSnapshot??void 0);i.next(h);try{r.resolve(this.errorHandler(l))}catch(m){r.reject(m)}}return js}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(FE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:h}=i,m=r||this.routerState.root,v=h?this.currentUrlTree.fragment:a;let C=null;switch(l){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}return null!==C&&(C=this.removeEmptyProps(C)),$W(m,this.currentUrlTree,e,C,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Xd(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function b6(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new Ze(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...v6}:!1===i?{...y6}:i,Xd(e))return DO(this.currentUrlTree,e,r);const s=this.parseUrl(e);return DO(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Qd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let l,h,m;a?(l=a.resolve,h=a.reject,m=a.promise):m=new Promise((D,T)=>{l=D,h=T});const v=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),C=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):C=0,this.setTransition({id:v,targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:l,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new bb(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Au()},n.\u0275prov=Pe({token:n,factory:function(){return gP()},providedIn:"root"}),n})();function mP(n){return"imperative"!==n}let $E=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ge,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=vc(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=vc(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=vc(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(P(hs),P(Vu),_s("tabindex"),P(eo),P(Et))},n.\u0275dir=De({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&Vt("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Yi]}),n})(),Ob=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ge,this.subscription=e.events.subscribe(s=>{s instanceof Qd&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=vc(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=vc(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=vc(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,a){return!!(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(P(hs),P(Vu),P(Wd))},n.\u0275dir=De({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&Vt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Wn("target",i.target)("href",i.href,mt)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Yi]}),n})(),vP=(()=>{class n{constructor(e,i,r,s,a,l){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.linkWithHref=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new dn,this.routerEventsSubscription=e.events.subscribe(h=>{h instanceof Qd&&this.update()})}ngAfterContentInit(){Ft(this.links.changes,this.linksWithHrefs.changes,Ft(null)).pipe(sl()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ai(e).pipe(sl()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function w6(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(P(hs),P(Et),P(eo),P(Mr),P($E,8),P(Ob,8))},n.\u0275dir=De({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(zi(r,$E,5),zi(r,Ob,5)),2&e){let s;Gt(s=Wt())&&(i.links=s),Gt(s=Wt())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yi]}),n})();class yP{}let C6=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(mr(e=>e instanceof Qd),Nu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=L_(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,l=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ai(r).pipe(sl())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ft(null);const s=r.pipe(Or(a=>null===a?Ft(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return i.loadComponent&&!i._loadedComponent?ai([s,this.loader.loadComponent(i)]).pipe(sl()):s})}}return n.\u0275fac=function(e){return new(e||n)(le(hs),le(RD),le(Vr),le(yP),le(zE))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jE=new Ie("");let _P=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof SE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Qd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof VO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new VO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Au()},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();function op(n,t){return{\u0275kind:n,\u0275providers:t}}function UE(n){return[{provide:HE,multi:!0,useValue:n}]}function wP(){const n=Ci(or);return t=>{const e=n.get(Zf);if(t!==e.components[0])return;const i=n.get(hs),r=n.get(CP);1===n.get(GE)&&i.initialNavigation(),n.get(xP,null,en.Optional)?.setUpPreloading(),n.get(jE,null,en.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const CP=new Ie("",{factory:()=>new Ge}),GE=new Ie("",{providedIn:"root",factory:()=>1});const xP=new Ie("");function S6(n){return op(0,[{provide:xP,useExisting:C6},{provide:yP,useExisting:n}])}const DP=new Ie("ROUTER_FORROOT_GUARD"),M6=[um,{provide:TO,useClass:bE},{provide:hs,useFactory:gP},Sm,{provide:Vu,useFactory:function bP(n){return n.routerState.root},deps:[hs]},zE];function T6(){return new JI("Router",hs)}let EP=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[M6,[],UE(e),{provide:DP,useFactory:R6,deps:[[hs,new Js,new vl]]},{provide:Ib,useValue:i||{}},i?.useHash?{provide:Wd,useClass:YU}:{provide:Wd,useClass:DR},{provide:jE,useFactory:()=>{const n=Ci(hs),t=Ci(u4),e=Ci(Ib);return e.scrollOffset&&t.setOffset(e.scrollOffset),new _P(n,t,e)}},i?.preloadingStrategy?S6(i.preloadingStrategy).\u0275providers:[],{provide:JI,multi:!0,useFactory:T6},i?.initialNavigation?O6(i):[],[{provide:SP,useFactory:wP},{provide:ID,multi:!0,useExisting:SP}]]}}static forChild(e){return{ngModule:n,providers:[UE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(le(DP,8))},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[OE]}),n})();function R6(n){return"guarded"}function O6(n){return["disabled"===n.initialNavigation?op(3,[{provide:H_,multi:!0,useFactory:()=>{const t=Ci(hs);return()=>{t.setUpLocationChangeListener()}}},{provide:GE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?op(2,[{provide:GE,useValue:0},{provide:H_,multi:!0,deps:[or],useFactory:t=>{const e=t.get(qU,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const a=t.get(hs),l=t.get(CP);(function r(s){t.get(hs).events.pipe(mr(l=>l instanceof Qd||l instanceof bb||l instanceof BO),vt(l=>l instanceof Qd||l instanceof bb&&(0===l.code||1===l.code)&&null),mr(l=>null!==l),gr(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),a.afterPreactivation=()=>(s(!0),i||l.closed?Ft(void 0):l),a.initialNavigation()}))}}]).\u0275providers:[]]}const SP=new Ie(""),WE="initial-configuration",MP="simulation",qE="network",AP="parameters",kP="blockchain";function RP(...n){const t=Oh(n),{args:e,keys:i}=fO(n),r=new tt(s=>{const{length:a}=e;if(!a)return void s.complete();const l=new Array(a);let h=a,m=a;for(let v=0;v<a;v++){let C=!1;wr(e[v]).subscribe(On(s,D=>{C||(C=!0,m--),l[v]=D},()=>h--,void 0,()=>{(!h||!C)&&(m||s.next(i?pO(i,l):l),s.complete())}))}});return t?r.pipe(gE(t)):r}let OP=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(P(eo),P(Et))},n.\u0275dir=De({type:n}),n})(),Jd=(()=>{class n extends OP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,features:[Ne]}),n})();const Lo=new Ie("NgValueAccessor"),L6={provide:Lo,useExisting:ni(()=>ap),multi:!0},B6=new Ie("CompositionEventMode");let ap=(()=>{class n extends OP{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function N6(){const n=Al()?Al().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(P(eo),P(Et),P(B6,8))},n.\u0275dir=De({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Vt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[gn([L6]),Ne]}),n})();function Hu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function FP(n){return null!=n&&"number"==typeof n.length}const Ms=new Ie("NgValidators"),zu=new Ie("NgAsyncValidators"),H6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _i{static min(t){return function LP(n){return t=>{if(Hu(t.value)||Hu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function NP(n){return t=>{if(Hu(t.value)||Hu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function BP(n){return Hu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function VP(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function HP(n){return Hu(n.value)||H6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function zP(n){return t=>Hu(t.value)||!FP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function $P(n){return t=>FP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function jP(n){if(!n)return Lb;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Hu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return YP(t)}static composeAsync(t){return ZP(t)}}function Lb(n){return null}function UP(n){return null!=n}function GP(n){return Jg(n)?ai(n):n}function WP(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function qP(n,t){return t.map(e=>e(n))}function KP(n){return n.map(t=>function z6(n){return!n.validate}(t)?t:e=>t.validate(e))}function YP(n){if(!n)return null;const t=n.filter(UP);return 0==t.length?null:function(e){return WP(qP(e,t))}}function KE(n){return null!=n?YP(KP(n)):null}function ZP(n){if(!n)return null;const t=n.filter(UP);return 0==t.length?null:function(e){return RP(qP(e,t).map(GP)).pipe(vt(WP))}}function YE(n){return null!=n?ZP(KP(n)):null}function XP(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function QP(n){return n._rawValidators}function JP(n){return n._rawAsyncValidators}function ZE(n){return n?Array.isArray(n)?n:[n]:[]}function Nb(n,t){return Array.isArray(n)?n.includes(t):n===t}function eF(n,t){const e=ZE(t);return ZE(n).forEach(r=>{Nb(e,r)||e.push(r)}),e}function tF(n,t){return ZE(t).filter(e=>!Nb(n,e))}class nF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=YE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ro extends nF{get formDirective(){return null}get path(){return null}}class Il extends nF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class iF{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lp=(()=>{class n extends iF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(P(Il,2))},n.\u0275dir=De({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&di("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ne]}),n})(),Bb=(()=>{class n extends iF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(P(ro,10))},n.\u0275dir=De({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&di("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ne]}),n})();const Rm="VALID",Hb="INVALID",cp="PENDING",Om="DISABLED";function eS(n){return(zb(n)?n.validators:n)||null}function sF(n){return Array.isArray(n)?KE(n):n||null}function tS(n,t){return(zb(t)?t.asyncValidators:n)||null}function oF(n){return Array.isArray(n)?YE(n):n||null}function zb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function aF(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new Ze(1e3,"");if(!i[e])throw new Ze(1001,"")}function lF(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new Ze(1002,"")})}class $b{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=sF(this._rawValidators),this._composedAsyncValidatorFn=oF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rm}get invalid(){return this.status===Hb}get pending(){return this.status==cp}get disabled(){return this.status===Om}get enabled(){return this.status!==Om}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=sF(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=oF(t)}addValidators(t){this.setValidators(eF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tF(t,this._rawAsyncValidators))}hasValidator(t){return Nb(this._rawValidators,t)}hasAsyncValidator(t){return Nb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=cp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Om,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rm,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rm||this.status===cp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Om:Rm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=cp,this._hasOwnPendingAsyncValidator=!0;const e=GP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new dn,this.statusChanges=new dn}_calculateStatus(){return this._allControlsDisabled()?Om:this.errors?Hb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cp)?cp:this._anyControlsHaveStatus(Hb)?Hb:Rm}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Pm extends $b{constructor(t,e,i){super(eS(e),tS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){lF(this,0,t),Object.keys(t).forEach(i=>{aF(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class cF extends Pm{}function jb(n,t){return[...t.path,n]}function Fm(n,t){nS(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Y6(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&uF(n,t)})}(n,t),function X6(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Z6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&uF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function K6(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ub(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Wb(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function nS(n,t){const e=QP(n);null!==t.validator?n.setValidators(XP(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=JP(n);null!==t.asyncValidator?n.setAsyncValidators(XP(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Gb(t._rawValidators,r),Gb(t._rawAsyncValidators,r)}function Wb(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=QP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=JP(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Gb(t._rawValidators,i),Gb(t._rawAsyncValidators,i),e}function uF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dF(n,t){nS(n,t)}function iS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function fF(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===ap?e=s:function eq(n){return Object.getPrototypeOf(n.constructor)===Jd}(s)?i=s:r=s}),r||i||e||null}const nq={provide:ro,useExisting:ni(()=>Nm)},Lm=(()=>Promise.resolve())();let Nm=(()=>{class n extends ro{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new dn,this.form=new Pm({},KE(e),YE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Lm.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Fm(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Lm.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Lm.then(()=>{const i=this._findContainer(e.path),r=new Pm({});dF(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Lm.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Lm.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,fF(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(P(Ms,10),P(zu,10))},n.\u0275dir=De({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&Vt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gn([nq]),Ne]}),n})();function pF(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function gF(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ar=class extends $b{constructor(t=null,e,i){super(eS(e),tS(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=gF(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){pF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){pF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){gF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let mF=(()=>{class n extends ro{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return jb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,features:[Ne]}),n})();const sq={provide:Il,useExisting:ni(()=>sS)},yF=(()=>Promise.resolve())();let sS=(()=>{class n extends Il{constructor(e,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new Ar,this._registered=!1,this.update=new dn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rS(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),iS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){yF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&vc(i);yF.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?jb(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(P(ro,9),P(Ms,10),P(zu,10),P(Lo,10),P(Mr,8))},n.\u0275dir=De({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gn([sq]),Ne,Yi]}),n})();const aq={provide:Lo,useExisting:ni(()=>Bm),multi:!0};let Bm=(()=>{class n extends Jd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Vt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[gn([aq]),Ne]}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({}),n})();const oS=new Ie("NgModelWithFormControlWarning"),dq={provide:Il,useExisting:ni(()=>aS)};let aS=(()=>{class n extends Il{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new dn,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=rS(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Ub(i,this,!1),Fm(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}iS(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ub(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(P(Ms,10),P(zu,10),P(Lo,10),P(oS,8))},n.\u0275dir=De({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[gn([dq]),Ne,Yi]}),n})();const hq={provide:ro,useExisting:ni(()=>$u)};let $u=(()=>{class n extends ro{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new dn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Fm(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ub(e.control||null,e,!1),function tq(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,fF(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Ub(i||null,e),(n=>n instanceof Ar)(r)&&(Fm(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);dF(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Q6(n,t){return Wb(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nS(this.form,this),this._oldForm&&Wb(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(P(Ms,10),P(zu,10))},n.\u0275dir=De({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Vt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gn([hq]),Ne,Yi]}),n})();const fq={provide:ro,useExisting:ni(()=>Vm)};let Vm=(()=>{class n extends mF{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){CF(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(P(ro,13),P(Ms,10),P(zu,10))},n.\u0275dir=De({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[gn([fq]),Ne]}),n})();const pq={provide:ro,useExisting:ni(()=>Hm)};let Hm=(()=>{class n extends ro{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return jb(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){CF(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(P(ro,13),P(Ms,10),P(zu,10))},n.\u0275dir=De({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[gn([pq]),Ne]}),n})();function CF(n){return!(n instanceof Vm||n instanceof $u||n instanceof Hm)}const gq={provide:Il,useExisting:ni(()=>zm)};let zm=(()=>{class n extends Il{constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new dn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=rS(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),iS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return jb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(P(ro,13),P(Ms,10),P(zu,10),P(Lo,10),P(oS,8))},n.\u0275dir=De({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[gn([gq]),Ne,Yi]}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[_F]}),n})(),kq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[OF]}),n})(),PF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:oS,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[OF]}),n})();class FF extends $b{constructor(t,e,i){super(eS(e),tS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){lF(this,0,t),t.forEach((i,r)=>{aF(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function LF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let hS=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return LF(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Pm(r,s)}record(e,i=null){const r=this._reduceControls(e);return new cF(r,i)}control(e,i,r){let s={};return this.useNonNullable?(LF(i)?s=i:(s.validators=i,s.asyncValidators=r),new Ar(e,{...s,nonNullable:!0})):new Ar(e,i,r)}array(e,i,r){const s=e.map(a=>this._createControl(a));return new FF(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Ar||e instanceof $b?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:PF}),n})();class $m{constructor(t,e,i){this.name=t,this.electricityPrice=e,this.enumName=i}}function jm(){return VF[Math.floor(Math.random()*VF.length)]}function NF(n){let t=so.find(e=>e.enumName===n);return t?t.electricityPrice:1}function BF(n){let t=so.find(e=>e.enumName===n);return t?t.name:1}const VF=["ROMANIA","POLAND","SPAIN","GERMANY","GREAT_BRITAIN"],so=[new $m("Romania",1,"ROMANIA"),new $m("Poland",2,"POLAND"),new $m("Spain",3,"SPAIN"),new $m("Germany",4,"GERMANY"),new $m("Great Britain",5,"GREAT_BRITAIN")];function bn(n){return null!=n&&"false"!=`${n}`}function oo(n,t=0){return HF(n)?Number(n):t}function HF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function qb(n){return Array.isArray(n)?n:[n]}function Ur(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Cc(n){return n instanceof Et?n.nativeElement:n}const Iq=["addListener","removeListener"],Rq=["addEventListener","removeEventListener"],Oq=["on","off"];function th(n,t,e,i){if(j(e)&&(i=e,e=void 0),i)return th(n,t,e).pipe(gE(i));const[r,s]=function Lq(n){return j(n.addEventListener)&&j(n.removeEventListener)}(n)?Rq.map(a=>l=>n[a](t,l,e)):function Pq(n){return j(n.addListener)&&j(n.removeListener)}(n)?Iq.map(zF(n,t)):function Fq(n){return j(n.on)&&j(n.off)}(n)?Oq.map(zF(n,t)):[];if(!r&&tl(n))return Or(a=>th(a,t,e))(wr(n));if(!r)throw new TypeError("Invalid event target");return new tt(a=>{const l=(...h)=>a.next(1<h.length?h:h[0]);return r(l),()=>s(l)})}function zF(n,t){return e=>i=>n[e](t,i)}class Nq extends ne{constructor(t,e){super()}schedule(t,e=0){return this}}const Kb={setInterval(n,t,...e){const{delegate:i}=Kb;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Kb;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class fS extends Nq{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Kb.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Kb.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ie(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Um={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Um;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new ne(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Um;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Um;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},$F={now:()=>($F.delegate||Date).now(),delegate:void 0};class Gm{constructor(t,e=Gm.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Gm.now=$F.now;class pS extends Gm{constructor(t,e=Gm.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class Vq extends pS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Bq extends fS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Um.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Um.cancelAnimationFrame(e),t._scheduled=void 0)}});let gS,zq=1;const Yb={};function jF(n){return n in Yb&&(delete Yb[n],!0)}const $q={setImmediate(n){const t=zq++;return Yb[t]=!0,gS||(gS=Promise.resolve()),gS.then(()=>jF(t)&&n()),t},clearImmediate(n){jF(n)}},{setImmediate:jq,clearImmediate:Uq}=$q,Zb={setImmediate(...n){const{delegate:t}=Zb;return(t?.setImmediate||jq)(...n)},clearImmediate(n){const{delegate:t}=Zb;return(t?.clearImmediate||Uq)(n)},delegate:void 0},Xb=(new class Wq extends pS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Gq extends fS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Zb.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Zb.clearImmediate(e),t._scheduled=void 0)}}),new pS(fS)),Kq=Xb;function mS(n=0,t,e=Kq){let i=-1;return null!=t&&(Rh(t)?e=t:i=t),new tt(r=>{let s=function Zq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function UF(n,t=Xb){return function Yq(n){return vn((t,e)=>{let i=!1,r=null,s=null,a=!1;const l=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const m=r;r=null,e.next(m)}a&&e.complete()},h=()=>{s=null,a&&e.complete()};t.subscribe(On(e,m=>{i=!0,r=m,s||wr(n(m)).subscribe(s=On(e,l,h))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>mS(n,t))}let vS;try{vS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vS=!1}let up,vr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Kd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!vS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(le(Va))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WF(){if(up)return up;if("object"!=typeof document||!document)return up=new Set(GF),up;let n=document.createElement("input");return up=new Set(GF.filter(t=>(n.setAttribute("type",t),n.type===t))),up}let Wm,ih,yS;function nh(n){return function Xq(){if(null==Wm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wm=!0}))}finally{Wm=Wm||!1}return Wm}()?n:!!n.capture}function Qq(){if(null==ih){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ih=!1,ih;if("scrollBehavior"in document.documentElement.style)ih=!0;else{const n=Element.prototype.scrollTo;ih=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ih}function _S(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function rh(n){return n.composedPath?n.composedPath()[0]:n.target}function bS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const t9=new Ie("cdk-dir-doc",{providedIn:"root",factory:function n9(){return Ci(hn)}}),i9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let yo=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new dn,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function r9(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?i9.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(le(t9,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({}),n})(),qF=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ge,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new tt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(UF(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ft()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(mr(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Cc(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>th(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(le(Yt),le(vr),le(hn,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sh=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ge,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(UF(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(le(vr),le(Yt),le(hn,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({}),n})(),wS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[dp,Jb,dp,Jb]}),n})();class CS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class hp extends CS{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class e0 extends CS{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class a9 extends CS{constructor(t){super(),this.element=t instanceof Et?t.nativeElement:t}}class t0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof hp?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof e0?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof a9?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class l9 extends t0{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const l=a.element,h=this._document.createComment("dom-portal");l.parentNode.insertBefore(h,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||or.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qm=(()=>{class n extends t0{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new dn,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(P(lc),P(Zr),P(hn))},n.\u0275dir=De({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ne]}),n})(),fp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({}),n})();function zn(n){return vn((t,e)=>{wr(n).subscribe(On(e,()=>e.complete(),st)),!e.closed&&t.subscribe(e)})}function Rl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const XF=Qq();class b9{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ur(-this._previousScrollPosition.left),t.style.top=Ur(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),XF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XF&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class w9{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QF{enable(){}disable(){}attach(){}}function ES(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function JF(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class C9{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ES(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x9=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new QF,this.close=a=>new w9(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new b9(this._viewportRuler,this._document),this.reposition=a=>new C9(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(le(qF),le(sh),le(Yt),le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class o0{constructor(t){if(this.scrollStrategy=new QF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class D9{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let eL=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E9=(()=>{class n extends eL{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(le(hn),le(Yt,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S9=(()=>{class n extends eL{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=rh(s)},this._clickListener=s=>{const a=rh(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const v=h[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(l))break;const C=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>C.next(s)):C.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(le(hn),le(vr),le(Yt,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a0=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||bS()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),bS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(le(hn),le(vr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ym{constructor(t,e,i,r,s,a,l,h,m,v=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=l,this._location=h,this._outsideClickDispatcher=m,this._animationsDisabled=v,this._backdropElement=null,this._backdropClick=new Ge,this._attachments=new Ge,this._detachments=new Ge,this._locationChanges=ne.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new Ge,this._outsidePointerEvents=new Ge,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ur(this._config.width),t.height=Ur(this._config.height),t.minWidth=Ur(this._config.minWidth),t.minHeight=Ur(this._config.minHeight),t.maxWidth=Ur(this._config.maxWidth),t.maxHeight=Ur(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=qb(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(zn(rr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const tL="cdk-overlay-connected-position-bounding-box",M9=/([A-Za-z%]+)$/;class T9{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ge,this._resizeSubscription=ne.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(tL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let l of this._preferredPositions){let h=this._getOriginPoint(t,r,l),m=this._getOverlayPoint(h,e,l),v=this._getOverlayFit(m,e,i,l);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,h);this._canFitWithFlexibleDimensions(v,m,i)?s.push({position:l,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,l)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:m,originPoint:h,position:l,overlayRect:e})}if(s.length){let l=null,h=-1;for(const m of s){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>h&&(h=v,l=m)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&oh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==i.originX?a:l}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=iL(e);let{x:a,y:l}=t,h=this._getOffset(r,"x"),m=this._getOffset(r,"y");h&&(a+=h),m&&(l+=m);let D=0-l,T=l+s.height-i.height,k=this._subtractOverflows(s.width,0-a,a+s.width-i.width),O=this._subtractOverflows(s.height,D,T),B=k*O;return{visibleArea:B,isCompletelyWithinViewport:s.width*s.height===B,fitsInViewportVertically:O===s.height,fitsInViewportHorizontally:k==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=nL(this._overlayRef.getConfig().minHeight),l=nL(this._overlayRef.getConfig().minWidth),m=t.fitsInViewportHorizontally||null!=l&&l<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&m}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=iL(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),h=Math.max(s.top-i.top-t.y,0),m=Math.max(s.left-i.left-t.x,0);let v=0,C=0;return v=r.width<=s.width?m||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,C=r.height<=s.height?h||-l:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:v,y:C},{x:t.x+v,y:t.y+C}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new D9(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,l,v,C,D;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=i.height-t.y+2*this._viewportMargin,s=i.height-l+this._viewportMargin;else{const T=Math.min(i.bottom-t.y+i.top,t.y),k=this._lastBoundingBoxSize.height;s=2*T,a=t.y-T,s>k&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-k/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)D=i.width-t.x+this._viewportMargin,v=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)C=t.x,v=i.right-t.x;else{const T=Math.min(i.right-t.x+i.left,t.x),k=this._lastBoundingBoxSize.width;v=2*T,C=t.x-T,v>k&&!this._isInitialRender&&!this._growAfterOpen&&(C=t.x-k/2)}return{top:a,left:C,bottom:l,right:D,width:v,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=Ur(i.height),r.top=Ur(i.top),r.bottom=Ur(i.bottom),r.width=Ur(i.width),r.left=Ur(i.left),r.right=Ur(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ur(s)),a&&(r.maxWidth=Ur(a))}this._lastBoundingBoxSize=i,oh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){oh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){oh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();oh(i,this._getExactOverlayY(e,t,v)),oh(i,this._getExactOverlayX(e,t,v))}else i.position="static";let l="",h=this._getOffset(e,"x"),m=this._getOffset(e,"y");h&&(l+=`translateX(${h}px) `),m&&(l+=`translateY(${m}px)`),i.transform=l.trim(),a.maxHeight&&(r?i.maxHeight=Ur(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=Ur(a.maxWidth):s&&(i.maxWidth="")),oh(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ur(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ur(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JF(t,i),isOriginOutsideView:ES(t,i),isOverlayClipped:JF(e,i),isOverlayOutsideView:ES(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&qb(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Et)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function oh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function nL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(M9);return e&&"px"!==e?null:parseFloat(t)}return n||null}function iL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const rL="cdk-global-overlay-wrapper";class A9{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(rL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:l}=i,h=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),m=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l),v=this._xPosition,C=this._xOffset,D="rtl"===this._overlayRef.getConfig().direction;let T="",k="",O="";h?O="flex-start":"center"===v?(O="center",D?k=C:T=C):D?"left"===v||"end"===v?(O="flex-end",T=C):("right"===v||"start"===v)&&(O="flex-start",k=C):"left"===v||"start"===v?(O="flex-start",T=C):("right"===v||"end"===v)&&(O="flex-end",k=C),t.position=this._cssPosition,t.marginLeft=h?"0":T,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":k,e.justifyContent=O,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(rL),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let k9=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new A9}flexibleConnectedTo(e){return new T9(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(le(sh),le(hn),le(vr),le(a0))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I9=0,la=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,T){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=h,this._document=m,this._directionality=v,this._location=C,this._outsideClickDispatcher=D,this._animationsModuleType=T}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new o0(e);return a.direction=a.direction||this._directionality.value,new Ym(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+I9++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Zf)),new l9(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(le(x9),le(a0),le(lc),le(k9),le(E9),le(or),le(Yt),le(hn),le(yo),le(um),le(S9),le(Xr,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const R9=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],sL=new Ie("cdk-connected-overlay-scroll-strategy");let oL=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(P(Et))},n.\u0275dir=De({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),aL=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ne.EMPTY,this._attachSubscription=ne.EMPTY,this._detachSubscription=ne.EMPTY,this._positionSubscription=ne.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new dn,this.positionChange=new dn,this.attach=new dn,this.detach=new dn,this.overlayKeydown=new dn,this.overlayOutsideClick=new dn,this._templatePortal=new e0(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=bn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=bn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=bn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=bn(e)}get push(){return this._push}set push(e){this._push=bn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=R9);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Rl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new o0({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof oL?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(_O(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(P(la),P(zr),P(Zr),P(sL),P(yo,8))},n.\u0275dir=De({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Yi]}),n})();const P9={provide:sL,deps:[la],useFactory:function O9(n){return()=>n.scrollStrategies.reposition()}};let Zm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[la,P9],imports:[dp,fp,wS,wS]}),n})();function SS(n,t=Xb){return vn((e,i)=>{let r=null,s=null,a=null;const l=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,i.next(m)}};function h(){const m=a+n,v=t.now();if(v<m)return r=this.schedule(void 0,m-v),void i.add(r);l()}e.subscribe(On(i,m=>{s=m,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{l(),i.complete()},void 0,()=>{s=r=null}))})}function MS(n){return mr((t,e)=>n<=e)}function lL(n,t=Ae){return n=n??F9,vn((e,i)=>{let r,s=!0;e.subscribe(On(i,a=>{const l=t(a);(s||!n(r,l))&&(s=!1,r=l,i.next(a))}))})}function F9(n,t){return n===t}let cL=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L9=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Cc(e);return new tt(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ge,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(le(cL))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TS=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new dn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=bn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=oo(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(SS(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(P(L9),P(Et),P(Yt))},n.\u0275dir=De({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),l0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[cL]}),n})();const uL=new Set;let gp,N9=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):V9}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function B9(n){if(!uL.has(n))try{gp||(gp=document.createElement("style"),gp.setAttribute("type","text/css"),document.head.appendChild(gp)),gp.sheet&&(gp.sheet.insertRule(`@media ${n} {body{ }}`,0),uL.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(le(vr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V9(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let c0=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ge}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return dL(qb(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Qf(dL(qb(e)).map(a=>this._registerQuery(a).observable));return s=db(s.pipe(gr(1)),s.pipe(MS(1),SS(0))),s.pipe(vt(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:m})=>{l.matches=l.matches||h,l.breakpoints[m]=h}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new tt(a=>{const l=h=>this._zone.run(()=>a.next(h));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(Ua(i),vt(({matches:a})=>({query:e,matches:a})),zn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(le(N9),le(Yt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dL(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function u0(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const pL="cdk-describedby-message",d0="cdk-describedby-host";let AS=0,gL=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+AS++,this._document=e,this._id=Ci(Yf)+"-"+AS++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=kS(i,r);"string"!=typeof i?(mL(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=kS(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${d0}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(d0);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");mL(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(kS(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=u0(e,"aria-describedby").filter(r=>0!=r.indexOf(pL));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function H9(n,t,e){const i=u0(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(d0,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function z9(n,t,e){const r=u0(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(d0)}_isElementDescribedByMessage(e,i){const r=u0(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(le(hn),le(vr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kS(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function mL(n,t){n.id||(n.id=`${pL}-${t}-${AS++}`)}class vL{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ge,this._typeaheadSubscription=ne.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ge,this.change=new Ge,t instanceof lm&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Hn(e=>this._pressedLetters.push(e)),SS(t),mr(()=>this._pressedLetters.length>0),vt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Rl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof lm?this._items.toArray():this._items}}class $9 extends vL{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class j9 extends vL{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let h0=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function G9(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function U9(n){try{return n.frameElement}catch{return null}}(function J9(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===_L(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=_L(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function X9(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Q9(n){return!function q9(n){return function Y9(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function W9(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function K9(n){return function Z9(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||yL(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(le(vr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yL(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function _L(n){if(!yL(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class e7{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(gr(1)).subscribe(t)}}let IS=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new e7(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(le(h0),le(Yt),le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function wL(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const t7=new Ie("cdk-input-modality-detector-options"),n7={ignoreKeys:[18,17,224,91,16]},mp=nh({passive:!0,capture:!0});let r7=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new yi(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rh(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bL(a)?"keyboard":"mouse"),this._mostRecentTarget=rh(a))},this._onTouchstart=a=>{wL(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rh(a))},this._options={...n7,...s},this.modalityDetected=this._modality.pipe(MS(1)),this.modalityChanged=this.modalityDetected.pipe(lL()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,mp),r.addEventListener("mousedown",this._onMousedown,mp),r.addEventListener("touchstart",this._onTouchstart,mp)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,mp),document.removeEventListener("mousedown",this._onMousedown,mp),document.removeEventListener("touchstart",this._onTouchstart,mp))}}return n.\u0275fac=function(e){return new(e||n)(le(vr),le(Yt),le(hn),le(t7,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s7=new Ie("liveAnnouncerElement",{providedIn:"root",factory:function o7(){return null}}),a7=new Ie("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let RS=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(le(s7,8),le(Yt),le(hn),le(a7,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l7=new Ie("cdk-focus-monitor-default-options"),f0=nh({passive:!0,capture:!0});let Wa=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ge,this._rootNodeFocusAndBlurListener=l=>{for(let m=rh(l);m;m=m.parentElement)"focus"===l.type?this._onFocus(l,m):this._onBlur(l,m)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=Cc(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ft(null);const s=function e9(n){if(function Jq(){if(null==yS){const n=typeof document<"u"?document.head:null;yS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yS}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const l={checkChildren:i,subject:new Ge,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const i=Cc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Cc(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,h])=>this._originChanged(l,i,h)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=rh(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,f0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,f0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,f0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,f0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(le(Yt),le(vr),le(r7),le(hn,8),le(l7,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xL="cdk-high-contrast-black-on-white",DL="cdk-high-contrast-white-on-black",OS="cdk-high-contrast-active";let EL=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Ci(c0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(OS,xL,DL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(OS,xL):2===i&&e.add(OS,DL)}}}return n.\u0275fac=function(e){return new(e||n)(le(vr),le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PS=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(le(EL))},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[l0]}),n})();function c7(n,t){if(1&n&&rn(0,"mat-pseudo-checkbox",4),2&n){const e=Nn();Ke("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function u7(n,t){if(1&n&&(ce(0,"span",5),Oe(1),he()),2&n){const e=Nn();ke(1),ar("(",e.group.label,")")}}const d7=["*"];let h7=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),f7=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const g7=new Ie("mat-sanity-checks",{providedIn:"root",factory:function p7(){return!0}});let fi=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!bS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(le(EL),le(g7,8),le(hn))},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[dp,dp]}),n})();function ju(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=bn(t)}}}function Xm(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Qm(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=bn(t)}}}function p0(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?oo(e):this.defaultTabIndex}}}function TL(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function AL(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new tt(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let FS=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class v7{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kL={enterDuration:225,exitDuration:150},LS=nh({passive:!0}),IL=["mousedown","touchstart"],RL=["mouseup","mouseleave","touchend","touchcancel"];class OL{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Cc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...kL,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function _7(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),l=t-r.left,h=e-r.top,m=s.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=l-a+"px",v.style.top=h-a+"px",v.style.height=2*a+"px",v.style.width=2*a+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(v);const C=window.getComputedStyle(v),T=C.transitionDuration,k="none"===C.transitionProperty||"0s"===T||"0s, 0s"===T,O=new v7(this,v,i,k);v.style.transform="scale3d(1, 1, 1)",O.state=0,i.persistent||(this._mostRecentTransientRipple=O);let B=null;return!k&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const V=()=>this._finishRippleTransition(O),q=()=>this._destroyRipple(O);v.addEventListener("transitionend",V),v.addEventListener("transitioncancel",q),B={onTransitionEnd:V,onTransitionCancel:q}}),this._activeRipples.set(O,B),(k||!m)&&this._finishRippleTransition(O),O}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...kL,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Cc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(IL))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(RL),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=bL(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!wL(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,LS)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(IL.forEach(t=>{this._triggerElement.removeEventListener(t,this,LS)}),this._pointerUpEventsRegistered&&RL.forEach(t=>{this._triggerElement.removeEventListener(t,this,LS)}))}}const NS=new Ie("mat-ripple-global-options");let vp=(()=>{class n{constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new OL(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Yt),P(vr),P(NS,8),P(Xr,8))},n.\u0275dir=De({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&di("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[fi,fi]}),n})(),b7=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(P(Xr,8))},n.\u0275cmp=un({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&di("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),w7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[fi]}),n})();const PL=new Ie("MAT_OPTION_PARENT_COMPONENT"),FL=new Ie("MatOptgroup");let C7=0;class x7{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let D7=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+C7++,this.onSelectionChange=new dn,this._stateChanges=new Ge}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=bn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Rl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new x7(this,e))}}return n.\u0275fac=function(e){Au()},n.\u0275dir=De({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),ah=(()=>{class n extends D7{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Mr),P(PL,8),P(FL,8))},n.\u0275cmp=un({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&Vt("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(Ru("id",i.id),Wn("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),di("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[Ne],ngContentSelectors:d7,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(Po(),St(0,c7,1,2,"mat-pseudo-checkbox",0),ce(1,"span",1),er(2),he(),St(3,u7,2,1,"span",2),rn(4,"div",3)),2&e&&(Ke("ngIf",i.multiple),ke(3),Ke("ngIf",i.group&&i.group._inert),ke(1),Ke("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[vp,Pu,b7],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function LL(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let NL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[ev,ja,fi,w7]}),n})();const S7=["mat-button",""],M7=["*"],A7=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],k7=Xm(ju(Qm(class{constructor(n){this._elementRef=n}})));let xc=(()=>{class n extends k7{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of A7)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Wa),P(Xr,8))},n.\u0275cmp=un({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&hi(vp,5),2&e){let r;Gt(r=Wt())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Wn("disabled",i.disabled||null),di("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ne],attrs:S7,ngContentSelectors:M7,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(Po(),ce(0,"span",0),er(1),he(),rn(2,"span",1)(3,"span",2)),2&e&&(ke(2),di("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Ke("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[vp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),BS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[ev,fi,fi]}),n})();class BL{}const Dc="*";function No(n,t){return{type:7,name:n,definitions:t,options:{}}}function kr(n,t=null){return{type:4,styles:t,timings:n}}function VL(n,t=null){return{type:3,steps:n,options:t}}function HL(n,t=null){return{type:2,steps:n,options:t}}function xn(n){return{type:6,styles:n,offset:null}}function $i(n,t,e){return{type:0,name:n,styles:t,options:e}}function tv(n){return{type:5,steps:n}}function cr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function g0(n=null){return{type:9,options:n}}function m0(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function zL(n){Promise.resolve().then(n)}class nv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class $L{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?zL(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function R7(n,t){if(1&n){const e=La();ce(0,"div",2)(1,"button",3),Vt("click",function(){return Ks(e),ii(Nn().action())}),Oe(2),he()()}if(2&n){const e=Nn();ke(2),Hi(e.data.action)}}function O7(n,t){}const jL=new Ie("MatSnackBarData");class v0{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const P7=Math.pow(2,31)-1;class HS{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ge,this._afterOpened=new Ge,this._onAction=new Ge,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,P7))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let F7=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(P(HS),P(jL))},n.\u0275cmp=un({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(ce(0,"span",0),Oe(1),he(),St(2,R7,3,1,"div",1)),2&e&&(ke(1),Hi(i.data.message),ke(1),Ke("ngIf",i.hasAction))},dependencies:[Pu,xc],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const L7={snackBarState:No("state",[$i("void, hidden",xn({transform:"scale(0.8)",opacity:0})),$i("visible",xn({transform:"scale(1)",opacity:1})),cr("* => visible",kr("150ms cubic-bezier(0, 0, 0.2, 1)")),cr("* => void, * => hidden",kr("75ms cubic-bezier(0.4, 0.0, 1, 1)",xn({opacity:0})))])};let N7=(()=>{class n extends t0{constructor(e,i,r,s,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ge,this._onExit=new Ge,this._onEnter=new Ge,this._animationState="void",this.attachDomPortal=l=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),h},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(gr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(P(Yt),P(Et),P(Mr),P(vr),P(v0))},n.\u0275dir=De({type:n,viewQuery:function(e,i){if(1&e&&hi(qm,7),2&e){let r;Gt(r=Wt())&&(i._portalOutlet=r.first)}},features:[Ne]}),n})(),B7=(()=>{class n extends N7{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=un({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&T_("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&I_("@state",i._animationState)},features:[Ne],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(ce(0,"div",0),St(1,O7,0,0,"ng-template",1),he(),rn(2,"div")),2&e&&(ke(2),Wn("aria-live",i._live)("role",i._role))},dependencies:[qm],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[L7.snackBarState]}}),n})(),UL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[Zm,fp,ja,BS,fi,fi]}),n})();const GL=new Ie("mat-snack-bar-default-options",{providedIn:"root",factory:function V7(){return new v0}});let H7=(()=>{class n{constructor(e,i,r,s,a,l){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=or.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:v0,useValue:i}]}),a=new hp(this.snackBarContainerComponent,i.viewContainerRef,s),l=e.attach(a);return l.instance.snackBarConfig=i,l.instance}_attach(e,i){const r={...new v0,...this._defaultConfig,...i},s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),l=new HS(a,s);if(e instanceof zr){const h=new e0(e,null,{$implicit:r.data,snackBarRef:l});l.instance=a.attachTemplatePortal(h)}else{const h=this._createInjector(r,l),m=new hp(e,void 0,h),v=a.attachComponentPortal(m);l.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(zn(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(l,r),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new o0;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,l=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):l?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return or.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:HS,useValue:i},{provide:jL,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(RS),le(or),le(c0),le(n,12),le(GL))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),z7=(()=>{class n extends H7{constructor(e,i,r,s,a,l){super(e,i,r,s,a,l),this.simpleSnackBarComponent=F7,this.snackBarContainerComponent=B7,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(RS),le(or),le(c0),le(n,12),le(GL))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:UL}),n})(),yp=(()=>{class n{constructor(){this.fullNodes=5,this.lightNodes=5,this.minerNodes=5,this.listeningNodes=5,this.initialMinersData=[],this.price=1,this.reward=5,this.frequency=1,this.addNewMiner$=new yi(1)}getFullNodes(){return this.fullNodes}setFullNodes(e){this.fullNodes=e}getLightNodes(){return this.lightNodes}setLightNodes(e){this.lightNodes=e}getMinerNodes(){return this.minerNodes}setMinerNodes(e){this.minerNodes=e}getInitialMinersData(){return this.initialMinersData}setInitialMinersData(e){this.initialMinersData=e}getListeningNodes(){return this.listeningNodes}setListeningNodes(e){this.listeningNodes=e}getAllNodes(){return this.fullNodes+this.lightNodes+this.minerNodes+this.listeningNodes}setElectricityPrice(e){this.price=e}getElectricityPrice(){return this.price}emitAddNewMinerFrequency(e){this.addNewMiner$.next(e)}getAddNewMinerFrequency(){return this.addNewMiner$.asObservable()}setReward(e){this.reward=e}getReward(){return this.reward}setFrequency(e){this.frequency=e}getFrequency(){return this.frequency}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WL(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const zS="inline",y0=["row","column","row-reverse","column-reverse"];function qL(n){let[t,e,i]=KL(n);return function j7(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function KL(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return y0.find(r=>r===t)||(t=y0[0]),e===zS&&(e=i!==zS?i:"",i=zS),[t,$7(e),!!i]}function iv(n){let[t]=KL(n);return t.indexOf("row")>-1}function $7(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Ec(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const G7={provide:ID,useFactory:function U7(n,t){return()=>{if(Kd(t)){const e=Array.from(n.querySelectorAll(`[class*=${YL}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${YL}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[hn,Va],multi:!0},YL="flex-layout-";let $S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[G7]}),n})();class lh{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new lh(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let W7=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jS={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},qa=new Ie("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>jS}),_p=new Ie("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),US=new Ie("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function ZL(n,t){return n=n?.clone()??new lh,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class yr{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let ji=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:WL(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:WL(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Xf(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return Kd(this._platformId)?e.style.getPropertyValue(i):function q7(n,t){return XL(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(Kd(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],a=Array.isArray(s)?s:[s];a.sort();for(let l of a)l=l?l+"":"",Kd(this._platformId)||!this._serverModuleLoaded?Kd(this._platformId)?i.style.setProperty(r,l):K7(i,r,l):this._serverStylesheet.addStyleToElement(i,r,l)})}}return n.\u0275fac=function(e){return new(e||n)(le(W7),le(_p),le(Va),le(qa))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function K7(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=XL(n);i[t]=e??"",function Y7(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function XL(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const a=s.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,a).trim()]=s.substr(a+1).trim()}}}return t}function rv(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function Z7(n,t){return(n.priority||0)-(t.priority||0)}let GS=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new yi(new lh(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(mr(a=>!i||e.indexOf(a.mediaQuery)>-1));return rr(new tt(a=>{const l=this.registerQuery(e);if(l.length){const h=l.pop();l.forEach(m=>{a.next(m)}),this.source.next(h)}a.complete()}),r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function X7(n,t){const e=n.filter(i=>!QL[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>QL[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const a=h=>{this._zone.run(()=>this.source.next(new lh(h.matches,s)))};let l=this.registry.get(s);l||(l=this.buildMQL(s),l.addListener(a),this.pendingRemoveListenerFns.push(()=>l.removeListener(a)),this.registry.set(s,l)),l.matches&&r.push(new lh(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function J7(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function Q7(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,Kd(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(le(Yt),le(Va),le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QL={},eK=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],JL="(orientation: portrait) and (max-width: 599.98px)",eN="(orientation: landscape) and (max-width: 959.98px)",tN="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",nN="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",iN="(orientation: portrait) and (min-width: 840px)",rN="(orientation: landscape) and (min-width: 1280px)",Sc={HANDSET:`${JL}, ${eN}`,TABLET:`${tN} , ${nN}`,WEB:`${iN}, ${rN} `,HANDSET_PORTRAIT:`${JL}`,TABLET_PORTRAIT:`${tN} `,WEB_PORTRAIT:`${iN}`,HANDSET_LANDSCAPE:`${eN}`,TABLET_LANDSCAPE:`${nN}`,WEB_LANDSCAPE:`${rN}`},tK=[{alias:"handset",priority:2e3,mediaQuery:Sc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Sc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Sc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Sc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Sc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Sc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Sc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Sc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Sc.WEB_PORTRAIT,overlapping:!0}],nK=/(\.|-|_)/g;function iK(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const aK=new Ie("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=Ci(US),t=Ci(qa),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function oK(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?Ec(e[i.alias],i):e[i.alias]=i}),function sK(n){return n.forEach(t=>{t.suffix||(t.suffix=function rK(n){return n.replace(nK,"|").split("|").map(iK).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:eK).concat(t.addOrientationBps?tK:[]),e)}});let WS=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(Z7)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(le(aK))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bp="print",lK={alias:bp,mediaQuery:bp,priority:1e3};let cK=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new uK,this.deactivations=[]}withPrintQuery(e){return[...e,bp]}isPrintEvent(e){return e.mediaQuery.startsWith(bp)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(rv)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),ZL(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new lh(!0,bp))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(s||a)&&(this.deactivations.push(r),this.deactivations.sort(rv))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(le(WS),le(qa),le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uK{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(lK),t.sort(rv),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function dK(n){return n?.mediaQuery.startsWith(bp)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let tr=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ge,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=ZL(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(rv),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(rv),this.updateStyles())}}init(e,i,r,s,a=[]){sN(this.updateMap,e,i,r),sN(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const a=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let a=this.elementMap.get(e);if(a){const h=(a.get(s)??new Map).set(i,r);a.set(s,h),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,a);const l=this.getValue(e,i);void 0!==l&&this.updateElement(e,i,l)}trackValue(e,i){return this.subject.asObservable().pipe(mr(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,l)=>{this.updateElement(i,l,a),r.delete(l)}),r.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const l=s.get(a);this.updateElement(i,a,l)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,l)=>this.updateElement(e,l,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const l=rr(...r).subscribe(()=>{const h=this.getValue(e,i);this.updateElement(e,i,h)});s.set(i,l)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const l=e.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===i||l.has(i)&&null!=l.get(i)))return l}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(Hn(this.hook.interceptEvents(this)),mr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(le(GS),le(WS),le(cK))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sN(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let ur=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ge,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=r.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=qL(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(yr),P(ji),P(tr))},n.\u0275dir=De({type:n,features:[Yi]}),n})();function oN(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=aN(n.substring(r).trim());let s=n.substr(0,r).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==r)i[2]=aN(n.trim());else{let s=n.split(" ");i=3===s.length?s:[t,e,n]}return i}function aN(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function _0(n,t){if(void 0===t)return n;const e=i=>{const r=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(r)?`${r*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}EventTarget;let pK=(()=>{class n extends yr{buildStyles(e,{display:i}){const r=qL(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gK=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let mK=(()=>{class n extends ur{constructor(e,i,r,s,a){super(e,r,i,s),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=cN.get(r)??new Map,cN.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(ji),P(pK),P(tr),P(qa))},n.\u0275dir=De({type:n,features:[Ne]}),n})(),Bo=(()=>{class n extends mK{constructor(){super(...arguments),this.inputs=gK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Ne]}),n})();const cN=new Map,uN={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let vK=(()=>{class n extends yr{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(b0)?function EK(n,t){const[e,i]=n.split(" "),s=m=>`-${m}`;let a="0px",l=s(i??e),h="0px";return"rtl"===t?h=s(e):a=s(e),{margin:`0px ${a} ${l} ${h}`}}(e=_0(e=e.slice(0,e.indexOf(b0)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,r){const s=r.items;if(e.endsWith(b0)){const a=function DK(n,t){const[e,i]=n.split(" ");let s="0px",l="0px";return"rtl"===t?l=e:s=e,{padding:`0px ${s} ${i??e} ${l}`}}(e=_0(e=e.slice(0,e.indexOf(b0)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(a,r.items)}else{e=_0(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=s.pop(),l=function SK(n,t){const e=dN(t.directionality,t.layout),i={...uN};return i[e]=n,i}(e,r);this._styler.applyStyleToElements(l,s),this._styler.applyStyleToElements(uN,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(le(ji),le(qa))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yK=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let _K=(()=>{class n extends ur{constructor(e,i,r,s,a,l){super(e,a,s,l),this.zone=i,this.directionality=r,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Ge;const h=[this.directionality.change,this.observerSubject.asObservable()];this.init(h),this.marshal.trackValue(this.nativeElement,"layout").pipe(zn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],y0.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,s)=>{const a=+this.styler.lookupStyle(r,"order"),l=+this.styler.lookupStyle(s,"order");return isNaN(a)||isNaN(l)||a===l?0:a>l?1:-1});if(i.length>0){const r=this.directionality.value,s=this.layout;"row"===s&&"rtl"===r?this.styleCache=bK:"row"===s&&"rtl"!==r?this.styleCache=CK:"column"===s&&"rtl"===r?this.styleCache=wK:"column"===s&&"rtl"!==r&&(this.styleCache=xK),this.addStyles(e,{directionality:r,items:i,layout:s})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":dN(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Yt),P(yo),P(ji),P(vK),P(tr))},n.\u0275dir=De({type:n,features:[Ne]}),n})(),Uu=(()=>{class n extends _K{constructor(){super(...arguments),this.inputs=yK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Ne]}),n})();const bK=new Map,wK=new Map,CK=new Map,xK=new Map,b0=" grid";function dN(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let MK=(()=>{class n extends yr{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,s,...a]=e.split(" "),l=a.join(" ");const h=i.direction.indexOf("column")>-1?"column":"row",m=iv(h)?"max-width":"max-height",v=iv(h)?"min-width":"min-height",C=String(l).indexOf("calc")>-1,D=C||"auto"===l,T=String(l).indexOf("%")>-1&&!C,k=String(l).indexOf("px")>-1||String(l).indexOf("rem")>-1||String(l).indexOf("em")>-1||String(l).indexOf("vw")>-1||String(l).indexOf("vh")>-1;let O=C||k;r="0"==r?0:r,s="0"==s?0:s;const B=!r&&!s;let V={};const q={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(l||""){case"":const te=!1!==this.layoutConfig.useColumnBasisZero;l="row"===h?"0%":te?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,l="auto";break;case"grow":l="100%";break;case"noshrink":s=0,l="auto";break;case"auto":break;case"none":r=0,s=0,l="auto";break;default:!O&&!T&&!isNaN(l)&&(l+="%"),"0%"===l&&(O=!0),"0px"===l&&(l="0%"),V=Ec(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":O?l:"100%"}:{flex:`${r} ${s} ${O?l:"100%"}`})}return V.flex||V["flex-grow"]||(V=Ec(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":l}:{flex:`${r} ${s} ${l}`})),"0%"!==l&&"0px"!==l&&"0.000000001px"!==l&&"auto"!==l&&(V[v]=B||O&&r?l:null,V[m]=B||!D&&s?l:null),V[v]||V[m]?i.hasWrap&&(V[C?"flex-basis":"flex"]=V[m]?C?V[m]:`${r} ${s} ${V[m]}`:C?V[v]:`${r} ${s} ${V[v]}`):V=Ec(q,C?{"flex-grow":r,"flex-shrink":s,"flex-basis":l}:{flex:`${r} ${s} ${l}`}),Ec(V,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(le(qa))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TK=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let AK=(()=>{class n extends ur{constructor(e,i,r,s,a){super(e,s,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(zn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(zn(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),a=this.wrap;s&&a?this.styleCache=RK:s&&!a?this.styleCache=kK:!s&&a?this.styleCache=OK:!s&&!a&&(this.styleCache=IK);const h=oN(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=oN(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(ji),P(qa),P(MK),P(tr))},n.\u0275dir=De({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Ne]}),n})(),qS=(()=>{class n extends AK{constructor(){super(...arguments),this.inputs=TK}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Ne]}),n})();const kK=new Map,IK=new Map,RK=new Map,OK=new Map;let nY=(()=>{class n extends yr{buildStyles(e,i){const r={},[s,a]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Ec(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?iv(i.layout)?null:"100%":null,"max-height":"stretch"===a&&iv(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iY=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let rY=(()=>{class n extends ur{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(zn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=cY:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=dY:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=uY:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=hY:"column-reverse"===i&&!r&&(this.styleCache=lY):this.styleCache=oY:this.styleCache=aY:this.styleCache=sY,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),y0.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(ji),P(nY),P(tr))},n.\u0275dir=De({type:n,features:[Ne]}),n})(),Ka=(()=>{class n extends rY{constructor(){super(...arguments),this.inputs=iY}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Ne]}),n})();const sY=new Map,oY=new Map,aY=new Map,lY=new Map,cY=new Map,uY=new Map,dY=new Map,hY=new Map;let KS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[$S,dp]}),n})();const fY=["connectionContainer"],pY=["inputContainer"],gY=["label"];function mY(n,t){1&n&&(Qi(0),ce(1,"div",14),rn(2,"div",15)(3,"div",16)(4,"div",17),he(),ce(5,"div",18),rn(6,"div",15)(7,"div",16)(8,"div",17),he(),Ji())}function vY(n,t){if(1&n){const e=La();ce(0,"div",19),Vt("cdkObserveContent",function(){return Ks(e),ii(Nn().updateOutlineGap())}),er(1,1),he()}2&n&&Ke("cdkObserveContentDisabled","outline"!=Nn().appearance)}function yY(n,t){if(1&n&&(Qi(0),er(1,2),ce(2,"span"),Oe(3),he(),Ji()),2&n){const e=Nn(2);ke(3),Hi(e._control.placeholder)}}function _Y(n,t){1&n&&er(0,3,["*ngSwitchCase","true"])}function bY(n,t){1&n&&(ce(0,"span",23),Oe(1," *"),he())}function wY(n,t){if(1&n){const e=La();ce(0,"label",20,21),Vt("cdkObserveContent",function(){return Ks(e),ii(Nn().updateOutlineGap())}),St(2,yY,4,1,"ng-container",12),St(3,_Y,1,0,"ng-content",12),St(4,bY,2,0,"span",22),he()}if(2&n){const e=Nn();di("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Ke("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Wn("for",e._control.id)("aria-owns",e._control.id),ke(2),Ke("ngSwitchCase",!1),ke(1),Ke("ngSwitchCase",!0),ke(1),Ke("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function CY(n,t){1&n&&(ce(0,"div",24),er(1,4),he())}function xY(n,t){if(1&n&&(ce(0,"div",25),rn(1,"span",26),he()),2&n){const e=Nn();ke(1),di("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function DY(n,t){1&n&&(ce(0,"div"),er(1,5),he()),2&n&&Ke("@transitionMessages",Nn()._subscriptAnimationState)}function EY(n,t){if(1&n&&(ce(0,"div",30),Oe(1),he()),2&n){const e=Nn(2);Ke("id",e._hintLabelId),ke(1),Hi(e.hintLabel)}}function SY(n,t){if(1&n&&(ce(0,"div",27),St(1,EY,2,2,"div",28),er(2,6),rn(3,"div",29),er(4,7),he()),2&n){const e=Nn();Ke("@transitionMessages",e._subscriptAnimationState),ke(1),Ke("ngIf",e.hintLabel)}}const MY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],TY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let AY=0;const hN=new Ie("MatError");let YS=(()=>{class n{constructor(e,i){this.id="mat-error-"+AY++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(_s("aria-live"),P(Et))},n.\u0275dir=De({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&Wn("id",i.id)},inputs:{id:"id"},features:[gn([{provide:hN,useExisting:n}])]}),n})();const kY={transitionMessages:No("transitionMessages",[$i("enter",xn({opacity:1,transform:"translateY(0%)"})),cr("void => enter",[xn({opacity:0,transform:"translateY(-5px)"}),kr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let w0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=De({type:n}),n})();const IY=new Ie("MatHint");let ch=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=De({type:n,selectors:[["mat-label"]]}),n})(),RY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=De({type:n,selectors:[["mat-placeholder"]]}),n})();const OY=new Ie("MatPrefix"),PY=new Ie("MatSuffix");let fN=0;const LY=Xm(class{constructor(n){this._elementRef=n}},"primary"),NY=new Ie("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ZS=new Ie("MatFormField");let wp=(()=>{class n extends LY{constructor(e,i,r,s,a,l,h){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ge,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+fN++,this._labelId="mat-form-field-label-"+fN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=bn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ua(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(zn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),rr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ua(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ua(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(zn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,th(this._label.nativeElement,"transitionend").pipe(gr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const v=i.querySelectorAll(`${r}, ${s}`);for(let C=0;C<v.length;C++)v[C].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,l=0;const h=i.querySelectorAll(r),m=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const v=i.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(v),D=e.children,T=this._getStartEnd(D[0].getBoundingClientRect());let k=0;for(let O=0;O<D.length;O++)k+=D[O].offsetWidth;a=Math.abs(T-C)-5,l=k>0?.75*k+10:0}for(let v=0;v<h.length;v++)h[v].style.width=`${a}px`;for(let v=0;v<m.length;v++)m[v].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Mr),P(yo,8),P(NY,8),P(vr),P(Yt),P(Xr,8))},n.\u0275cmp=un({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(zi(r,w0,5),zi(r,w0,7),zi(r,ch,5),zi(r,ch,7),zi(r,RY,5),zi(r,hN,5),zi(r,IY,5),zi(r,OY,5),zi(r,PY,5)),2&e){let s;Gt(s=Wt())&&(i._controlNonStatic=s.first),Gt(s=Wt())&&(i._controlStatic=s.first),Gt(s=Wt())&&(i._labelChildNonStatic=s.first),Gt(s=Wt())&&(i._labelChildStatic=s.first),Gt(s=Wt())&&(i._placeholderChild=s.first),Gt(s=Wt())&&(i._errorChildren=s),Gt(s=Wt())&&(i._hintChildren=s),Gt(s=Wt())&&(i._prefixChildren=s),Gt(s=Wt())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(hi(fY,7),hi(pY,5),hi(gY,5)),2&e){let r;Gt(r=Wt())&&(i._connectionContainerRef=r.first),Gt(r=Wt())&&(i._inputContainerRef=r.first),Gt(r=Wt())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&di("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[gn([{provide:ZS,useExisting:n}]),Ne],ngContentSelectors:TY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(Po(MY),ce(0,"div",0)(1,"div",1,2),Vt("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),St(3,mY,9,0,"ng-container",3),St(4,vY,2,1,"div",4),ce(5,"div",5,6),er(7),ce(8,"span",7),St(9,wY,5,16,"label",8),he()(),St(10,CY,2,0,"div",9),he(),St(11,xY,2,4,"div",10),ce(12,"div",11),St(13,DY,2,1,"div",12),St(14,SY,5,2,"div",13),he()()),2&e&&(ke(3),Ke("ngIf","outline"==i.appearance),ke(1),Ke("ngIf",i._prefixChildren.length),ke(5),Ke("ngIf",i._hasFloatingLabel()),ke(1),Ke("ngIf",i._suffixChildren.length),ke(1),Ke("ngIf","outline"!=i.appearance),ke(1),Ke("ngSwitch",i._getDisplayedMessages()),ke(1),Ke("ngSwitchCase","error"),ke(1),Ke("ngSwitchCase","hint"))},dependencies:[Pu,pm,iE,TS],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[kY.transitionMessages]},changeDetection:0}),n})(),C0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[ja,fi,l0,fi]}),n})();class BY{}class Gu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Gu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Gu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class VY{encodeKey(t){return gN(t)}encodeValue(t){return gN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zY=/%(\d[a-f0-9])/gi,$Y={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gN(n){return encodeURIComponent(n).replace(zY,(t,e)=>$Y[e]??t)}function x0(n){return`${n}`}class Wu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new VY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HY(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],h=e.get(a)||[];h.push(l),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(x0):[x0(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(x0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(x0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class jY{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function mN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function vN(n){return typeof Blob<"u"&&n instanceof Blob}function yN(n){return typeof FormData<"u"&&n instanceof FormData}class sv{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function UY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Gu),this.context||(this.context=new jY),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new Wu,this.urlWithParams=e}serializeBody(){return null===this.body?null:mN(this.body)||vN(this.body)||yN(this.body)||function GY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yN(this.body)?null:vN(this.body)?this.body.type||null:mN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((C,D)=>C.set(D,t.setHeaders[D]),h)),t.setParams&&(m=Object.keys(t.setParams).reduce((C,D)=>C.set(D,t.setParams[D]),m)),new sv(e,i,s,{params:m,headers:h,context:v,reportProgress:l,responseType:r,withCredentials:a})}}var Ts=(()=>((Ts=Ts||{})[Ts.Sent=0]="Sent",Ts[Ts.UploadProgress=1]="UploadProgress",Ts[Ts.ResponseHeader=2]="ResponseHeader",Ts[Ts.DownloadProgress=3]="DownloadProgress",Ts[Ts.Response=4]="Response",Ts[Ts.User=5]="User",Ts))();class XS extends class WY{constructor(t,e=200,i="OK"){this.headers=t.headers||new Gu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Ts.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new XS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function QS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let bN=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof sv)s=e;else{let h,m;h=r.headers instanceof Gu?r.headers:new Gu(r.headers),r.params&&(m=r.params instanceof Wu?r.params:new Wu({fromObject:r.params})),s=new sv(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Ft(s).pipe(Nu(h=>this.handler.handle(h)));if(e instanceof sv||"events"===r.observe)return a;const l=a.pipe(mr(h=>h instanceof XS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(vt(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return l.pipe(vt(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return l.pipe(vt(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return l.pipe(vt(h=>h.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Wu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,QS(r,i))}post(e,i,r={}){return this.request("POST",e,QS(r,i))}put(e,i,r={}){return this.request("PUT",e,QS(r,i))}}return n.\u0275fac=function(e){return new(e||n)(le(BY))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const KY=["*"];let D0;function ov(n){return function YY(){if(void 0===D0&&(D0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(D0=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return D0}()?.createHTML(n)||n}function wN(n){return Error(`Unable to find icon with the name "${n}"`)}function CN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function xN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class uh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let E0=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new uh(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(Me.HTML,r);if(!a)throw xN(r);const l=ov(a);return this._addSvgIconConfig(e,i,new uh("",l,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new uh(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(Me.HTML,i);if(!s)throw xN(i);const a=ov(s);return this._addSvgIconSetConfig(e,new uh("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Me.RESOURCE_URL,e);if(!i)throw CN(e);const r=this._cachedIconsByUrl.get(i);return r?Ft(S0(r)):this._loadSvgIconFromConfig(new uh(e,null)).pipe(Hn(s=>this._cachedIconsByUrl.set(i,s)),vt(s=>S0(s)))}getNamedSvgIcon(e,i=""){const r=DN(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Jf(wN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ft(S0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(vt(i=>S0(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ft(r):RP(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ga(l=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(Me.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(m)),Ft(null)})))).pipe(vt(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw wN(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,e,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Hn(i=>e.svgText=i),vt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ft(null):this._fetchIcon(e).pipe(Hn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const l=this._svgElementFromString(ov("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ov("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:l}=r[s];"id"!==a&&i.setAttribute(a,l)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function ZY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Me.RESOURCE_URL,i);if(!a)throw CN(i);const l=this._inProgressUrlFetches.get(a);if(l)return l;const h=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(vt(m=>ov(m)),fb(()=>this._inProgressUrlFetches.delete(a)),oy());return this._inProgressUrlFetches.set(a,h),h}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(DN(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return QY(s)?new uh(s.url,null,s.options):new uh(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(le(bN,8),le(cb),le(hn,8),le(Sr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S0(n){return n.cloneNode(!0)}function DN(n,t){return n+":"+t}function QY(n){return!(!n.url||!n.options)}const JY=Xm(class{constructor(n){this._elementRef=n}}),eZ=new Ie("MAT_ICON_DEFAULT_OPTIONS"),tZ=new Ie("mat-icon-location",{providedIn:"root",factory:function nZ(){const n=Ci(hn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),EN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],iZ=EN.map(n=>`[${n}]`).join(", "),rZ=/^url\(['"]?#(.*?)['"]?\)$/;let av=(()=>{class n extends JY{constructor(e,i,r,s,a,l){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ne.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=bn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(iZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)EN.forEach(a=>{const l=i[s],h=l.getAttribute(a),m=h?h.match(rZ):null;if(m){let v=r.get(l);v||(v=[],r.set(l,v)),v.push({name:a,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(gr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(E0),_s("aria-hidden"),P(tZ),P(Sr),P(eZ,8))},n.\u0275cmp=un({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(Wn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),di("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ne],ngContentSelectors:KY,decls:1,vars:0,template:function(e,i){1&e&&(Po(),er(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),sZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[fi,fi]}),n})();const SN=nh({passive:!0});let oZ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return js;const i=Cc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Ge,a="cdk-text-field-autofilled",l=h=>{"cdk-text-field-autofill-start"!==h.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===h.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",l,SN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",l,SN)}}),s}stopMonitoring(e){const i=Cc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(le(vr),le(Yt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({}),n})();const aZ=new Ie("MAT_INPUT_VALUE_ACCESSOR"),lZ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let cZ=0;const uZ=TL(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Ge}});let JS=(()=>{class n extends uZ{constructor(e,i,r,s,a,l,h,m,v,C){super(l,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=m,this._formField=C,this._uid="mat-input-"+cZ++,this.focused=!1,this.stateChanges=new Ge,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>WF().has(k)),this._iOSKeyupListener=k=>{const O=k.target;!O.value&&0===O.selectionStart&&0===O.selectionEnd&&(O.setSelectionRange(1,1),O.setSelectionRange(0,0))};const D=this._elementRef.nativeElement,T=D.nodeName.toLowerCase();this._inputValueAccessor=h||D,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&v.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===T,this._isTextarea="textarea"===T,this._isInFormField=!!C,this._isNativeSelect&&(this.controlType=D.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=bn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(_i.required)??!1}set required(e){this._required=bn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&WF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=bn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){lZ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(vr),P(Il,10),P(Nm,8),P($u,8),P(FS),P(aZ,10),P(oZ),P(Yt),P(ZS,8))},n.\u0275dir=De({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&Vt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Ru("disabled",i.disabled)("required",i.required),Wn("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),di("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[gn([{provide:w0,useExisting:n}]),Ne,Yi]}),n})(),dZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[FS],imports:[MN,C0,fi,MN,C0]}),n})();function eM(n){return n&&"function"==typeof n.connect&&!(n instanceof vE)}class TN{applyChanges(t,e,i,r,s){t.forEachOperation((a,l,h)=>{let m,v;if(null==a.previousIndex){const C=i(a,l,h);m=e.createEmbeddedView(C.templateRef,C.context,C.index),v=1}else null==h?(e.remove(l),v=3):(m=e.get(l),e.move(m,h),v=2);s&&s({context:m?.context,operation:v,record:a})})}detach(){}}class kN{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ge,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const lv=new Ie("_ViewRepeater"),fZ=["trigger"],pZ=["panel"];function gZ(n,t){if(1&n&&(ce(0,"span",8),Oe(1),he()),2&n){const e=Nn();ke(1),Hi(e.placeholder)}}function mZ(n,t){if(1&n&&(ce(0,"span",12),Oe(1),he()),2&n){const e=Nn(2);ke(1),Hi(e.triggerValue)}}function vZ(n,t){1&n&&er(0,0,["*ngSwitchCase","true"])}function yZ(n,t){1&n&&(ce(0,"span",9),St(1,mZ,2,1,"span",10),St(2,vZ,1,0,"ng-content",11),he()),2&n&&(Ke("ngSwitch",!!Nn().customTrigger),ke(2),Ke("ngSwitchCase",!0))}function _Z(n,t){if(1&n){const e=La();ce(0,"div",13)(1,"div",14,15),Vt("@transformPanel.done",function(r){return Ks(e),ii(Nn()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Ks(e),ii(Nn()._handleKeydown(r))}),er(3,1),he()()}if(2&n){const e=Nn();Ke("@transformPanelWrap",void 0),ke(1),bk("mat-select-panel ",e._getPanelTheme(),""),fc("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Ke("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),Wn("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const bZ=[[["mat-select-trigger"]],"*"],wZ=["mat-select-trigger","*"],IN={transformPanelWrap:No("transformPanelWrap",[cr("* => void",m0("@transformPanel",[g0()],{optional:!0}))]),transformPanel:No("transformPanel",[$i("void",xn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),$i("showing",xn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),$i("showing-multiple",xn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),cr("void => *",kr("120ms cubic-bezier(0, 0, 0.2, 1)")),cr("* => void",kr("100ms 25ms linear",xn({opacity:0})))])};let RN=0;const PN=new Ie("mat-select-scroll-strategy"),EZ=new Ie("MAT_SELECT_CONFIG"),SZ={provide:PN,deps:[la],useFactory:function DZ(n){return()=>n.scrollStrategies.reposition()}};class MZ{constructor(t,e){this.source=t,this.value=e}}const TZ=Qm(p0(ju(TL(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Ge}})))),AZ=new Ie("MatSelectTrigger");let kZ=(()=>{class n extends TZ{constructor(e,i,r,s,a,l,h,m,v,C,D,T,k,O){super(a,s,h,m,C),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=l,this._parentFormField=v,this._liveAnnouncer=k,this._defaultOptions=O,this._panelOpen=!1,this._compareWith=(B,V)=>B===V,this._uid="mat-select-"+RN++,this._triggerAriaLabelledBy=null,this._destroy=new Ge,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+RN++,this._panelDoneAnimatingStream=new Ge,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=ym(()=>{const B=this.options;return B?B.changes.pipe(Ua(B),Fo(()=>rr(...B.map(V=>V.onSelectionChange)))):this._ngZone.onStable.pipe(gr(1),Fo(()=>this.optionSelectionChanges))}),this.openedChange=new dn,this._openedStream=this.openedChange.pipe(mr(B=>B),vt(()=>{})),this._closedStream=this.openedChange.pipe(mr(B=>!B),vt(()=>{})),this.selectionChange=new dn,this.valueChange=new dn,this.ngControl&&(this.ngControl.valueAccessor=this),null!=O?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=O.typeaheadDebounceInterval),this._scrollStrategyFactory=T,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(D)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(_i.required)??!1}set required(e){this._required=bn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=bn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=bn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=oo(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new kN(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(lL(),zn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(zn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Ua(null),zn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Rl(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;a.onKeydown(e);const h=this.selected;h&&l!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Rl(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const l=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(l?h.select():h.deselect())})}else{const l=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==l&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(gr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new $9(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(zn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(zn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=rr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(zn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),rr(...this.options.map(i=>i._stateChanges)).pipe(zn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(P(sh),P(Mr),P(Yt),P(FS),P(Et),P(yo,8),P(Nm,8),P($u,8),P(ZS,8),P(Il,10),_s("tabindex"),P(PN),P(RS),P(EZ,8))},n.\u0275dir=De({type:n,viewQuery:function(e,i){if(1&e&&(hi(fZ,5),hi(pZ,5),hi(aL,5)),2&e){let r;Gt(r=Wt())&&(i.trigger=r.first),Gt(r=Wt())&&(i.panel=r.first),Gt(r=Wt())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ne,Yi]}),n})(),xp=(()=>{class n extends kZ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(zn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(gr(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=LL(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function E7(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new MZ(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let m=this._selectionModel.selected[0]||this.options.first;a=m&&m.group?32:16}r||(a*=-1);const l=0-(e.left+a-(r?s:0)),h=e.right+a-i.width+(r?0:s);l>0?a+=l+8:h>0&&(a-=h+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,l=Math.floor(256/s);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-l))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*h-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,l=Math.abs(this._offsetY),m=Math.min(this._getItemCount()*i,256)-l-this._triggerRect.height;m>a?this._adjustPanelUp(m,a):l>s?this._adjustPanelDown(l,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let l;l=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),l+=LL(l,this.options,this.optionGroups);const h=r/2;this._scrollTop=this._calculateOverlayScroll(l,h,a),this._offsetY=this._calculateOverlayOffsetY(l,h,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=un({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(zi(r,AZ,5),zi(r,ah,5),zi(r,FL,5)),2&e){let s;Gt(s=Wt())&&(i.customTrigger=s.first),Gt(s=Wt())&&(i.options=s),Gt(s=Wt())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&Vt("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(Wn("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),di("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[gn([{provide:w0,useExisting:n},{provide:PL,useExisting:n}]),Ne],ngContentSelectors:wZ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(Po(bZ),ce(0,"div",0,1),Vt("click",function(){return i.toggle()}),ce(3,"div",2),St(4,gZ,2,1,"span",3),St(5,yZ,3,2,"span",4),he(),ce(6,"div",5),rn(7,"div",6),he()(),St(8,_Z,4,14,"ng-template",7),Vt("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=zd(1);Wn("aria-owns",i.panelOpen?i.id+"-panel":null),ke(3),Ke("ngSwitch",i.empty),Wn("id",i._valueId),ke(1),Ke("ngSwitchCase",!0),ke(1),Ke("ngSwitchCase",!1),ke(3),Ke("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[fm,pm,iE,BR,aL,oL],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[IN.transformPanelWrap,IN.transformPanel]},changeDetection:0}),n})(),FN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[SZ],imports:[ja,Zm,NL,fi,Jb,C0,NL,fi]}),n})();function IZ(n,t){1&n&&(ce(0,"mat-error"),Oe(1,"Number must be greater than 0"),he())}function RZ(n,t){1&n&&(ce(0,"mat-error"),Oe(1,"Number must be greater than 0"),he())}function OZ(n,t){1&n&&(ce(0,"mat-error"),Oe(1,"Number must be greater than 0"),he())}function PZ(n,t){1&n&&(ce(0,"mat-error"),Oe(1,"Number must be greater than 0"),he())}function FZ(n,t){if(1&n&&(ce(0,"mat-option",15),Oe(1),he()),2&n){const e=t.$implicit;Ke("value",e.enumName),ke(1),k_("",e.name," - electricity price multiplier : ",e.electricityPrice,"")}}function LZ(n,t){if(1&n&&(Qi(0),ce(1,"div",10)(2,"mat-form-field"),rn(3,"input",11),ce(4,"mat-error"),Oe(5,"Enter a value between 1 and 10"),he()(),ce(6,"mat-form-field"),rn(7,"input",12),ce(8,"mat-error"),Oe(9,"Enter a value between 0 and 100000"),he()(),ce(10,"mat-form-field")(11,"mat-select",13),St(12,FZ,2,3,"mat-option",14),he()()(),Ji()),2&n){const e=t.index,i=Nn();ke(1),Ke("formGroupName",e),ke(11),Ke("ngForOf",i.COUNTRIES)}}let NZ=(()=>{class n{constructor(e,i,r,s,a){this.activatedRoute=e,this.router=i,this.formBuilder=r,this.snackBar=s,this.parametersService=a,this.nodesType1FC=new Ar(n.INIT_NODES_COUNT,[_i.required,_i.min(1)]),this.nodesType2FC=new Ar(n.INIT_NODES_COUNT,[_i.required,_i.min(1)]),this.nodesType3FC=new Ar(n.INIT_NODES_COUNT,[_i.required,_i.min(1)]),this.nodesType4FC=new Ar(n.INIT_NODES_COUNT,[_i.required,_i.min(1)]),this.minersFormArray=this.formBuilder.array([]),this.form=this.formBuilder.group({nodesType1FC:this.nodesType1FC,nodesType2FC:this.nodesType2FC,nodesType3FC:this.nodesType3FC,nodesType4FC:this.nodesType4FC,miners:this.minersFormArray}),this.COUNTRIES=so,this.minerNodesBeforeChange=this.parametersService.getMinerNodes(),this.numberOfNodes=4*n.INIT_NODES_COUNT}get miners(){return this.form.controls.miners}ngOnInit(){this.numberOfNodes=this.parametersService.getAllNodes();for(let e=0;e<5;e++)this.miners.push(this.getDefaultMinerFormGroup());this.nodesType3FC.valueChanges.pipe(Hn(e=>{this.nodesType3FC.invalid&&(this.miners.clear(),this.minerNodesBeforeChange=0)})).subscribe(),this.form.markAllAsTouched()}formValidation(){return this.form.valid}onClick(){this.snackBar.open("Przechodzenie do symulacji","",{duration:500}),this.setNodes(),this.router.navigate([MP],{relativeTo:this.activatedRoute.parent})}setNodes(){this.parametersService.setFullNodes(this.nodesType1FC.value),this.parametersService.setLightNodes(this.nodesType2FC.value),this.parametersService.setMinerNodes(this.nodesType3FC.value),this.parametersService.setListeningNodes(this.nodesType4FC.value),this.parametersService.setInitialMinersData(this.miners.value)}setNumberOfNodes(){this.numberOfNodes=this.nodesType1FC.value+this.nodesType2FC.value+this.nodesType3FC.value+this.nodesType4FC.value}setMinersNumber(){const e=this.minerNodesBeforeChange,i=this.nodesType3FC.value;if(this.setNumberOfNodes(),e<i)for(let r=e;r<i;r++)this.miners.push(this.getDefaultMinerFormGroup());else for(let r=e;r>i;r--)this.miners.removeAt(this.miners.length-1);this.minerNodesBeforeChange=i,this.form.markAllAsTouched()}getDefaultMinerFormGroup(){return this.formBuilder.group({power:new Ar(1,[_i.required,_i.min(1),_i.max(10)]),country:new Ar("POLAND",[_i.required]),money:new Ar(100,[_i.required,_i.min(0),_i.max(1e5)])})}}return n.INIT_NODES_COUNT=5,n.\u0275fac=function(e){return new(e||n)(P(Vu),P(hs),P(hS),P(z7),P(yp))},n.\u0275cmp=un({type:n,selectors:[["app-initial-configuration"]],decls:31,vars:8,consts:[["fxLayout","column","fxLayoutAlign","space-evenly center","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","nodesType1FC","matInput","",3,"change"],[4,"ngIf"],["type","number","formControlName","nodesType2FC","matInput","",3,"change"],["type","number","formControlName","nodesType4FC","matInput","",3,"change"],["type","number","formControlName","nodesType3FC","matInput","",3,"change"],["formArrayName","miners"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","row","fxLayoutGap","10px",3,"formGroupName"],["matInput","","type","number","formControlName","power","placeholder","Computing power TFlops"],["matInput","","type","number","formControlName","money","placeholder","Initial budget $"],["formControlName","country","placeholder","Country"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"h2"),Oe(2,"Set the initial number of nodes in the simulation"),he(),ce(3,"div",1)(4,"mat-form-field")(5,"mat-label"),Oe(6,"Number of full nodes:"),he(),ce(7,"input",2),Vt("change",function(){return i.setNumberOfNodes()}),he(),St(8,IZ,2,0,"mat-error",3),he(),ce(9,"mat-form-field")(10,"mat-label"),Oe(11,"Number of light nodes:"),he(),ce(12,"input",4),Vt("change",function(){return i.setNumberOfNodes()}),he(),St(13,RZ,2,0,"mat-error",3),he(),ce(14,"mat-form-field")(15,"mat-label"),Oe(16,"Number of listening nodes:"),he(),ce(17,"input",5),Vt("change",function(){return i.setNumberOfNodes()}),he(),St(18,OZ,2,0,"mat-error",3),he(),ce(19,"mat-form-field")(20,"mat-label"),Oe(21,"Number of miner nodes:"),he(),ce(22,"input",6),Vt("change",function(){return i.setMinersNumber()}),he(),St(23,PZ,2,0,"mat-error",3),he(),Qi(24,7),St(25,LZ,13,2,"ng-container",8),Ji(),he(),ce(26,"button",9),Vt("click",function(){return i.onClick()}),ce(27,"span"),Oe(28),he(),ce(29,"mat-icon"),Oe(30,"done"),he()()()),2&e&&(ke(3),Ke("formGroup",i.form),ke(5),Ke("ngIf",i.nodesType1FC.errors),ke(5),Ke("ngIf",i.nodesType2FC.errors),ke(5),Ke("ngIf",i.nodesType4FC.errors),ke(5),Ke("ngIf",i.nodesType3FC.errors),ke(2),Ke("ngForOf",i.miners.controls),ke(1),Ke("disabled",!i.formValidation()),ke(2),ar("Start the simulation with ",i.numberOfNodes," nodes "))},dependencies:[qd,Pu,Bo,Uu,Ka,YS,wp,ch,av,xc,JS,ap,Bm,lp,Bb,$u,zm,Vm,Hm,xp,ah]}),n})();class uv{constructor(t,e){this.name=t,this.path=e}}function BZ(n,t){}class T0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let LN=(()=>{class n extends t0{constructor(e,i,r,s,a,l,h,m){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=h,this._focusMonitor=m,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>{this._portalOutlet.hasAttached();const C=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),C},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=_S(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=_S();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=_S())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(IS),P(hn,8),P(T0),P(h0),P(Yt),P(Ym),P(Wa))},n.\u0275cmp=un({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&hi(qm,7),2&e){let r;Gt(r=Wt())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&Wn("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[Ne],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&St(0,BZ,0,0,"ng-template",0)},dependencies:[qm],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class tM{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Ge,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Rl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const NN=new Ie("DialogScrollStrategy"),VZ=new Ie("DialogData"),HZ=new Ie("DefaultDialogConfig"),$Z={provide:NN,deps:[la],useFactory:function zZ(n){return()=>n.scrollStrategies.block()}};let jZ=0,BN=(()=>{class n{constructor(e,i,r,s,a,l){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ge,this._afterOpenedAtThisLevel=new Ge,this._ariaHiddenElements=new Map,this.afterAllClosed=ym(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ua(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new T0,...i}).id=i.id||"cdk-dialog-"+jZ++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),l=new tM(a,i),h=this._attachContainer(a,l,i);return l.containerInstance=h,this._attachDialogContent(e,l,h,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){nM(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){nM(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),nM(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new o0({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:T0,useValue:r},{provide:tM,useValue:i},{provide:Ym,useValue:e}];let l;r.container?"function"==typeof r.container?l=r.container:(l=r.container.type,a.push(...r.container.providers(r))):l=LN;const h=new hp(l,r.viewContainerRef,or.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,i,r,s){if(e instanceof zr){const a=this._createInjector(s,i,r,void 0);let l={$implicit:s.data,dialogRef:i};s.templateContext&&(l={...l,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new e0(e,null,l,a))}else{const a=this._createInjector(s,i,r,this._injector),l=r.attachComponentPortal(new hp(e,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=l.instance}}_createInjector(e,i,r,s){const a=e.injector||e.viewContainerRef?.injector,l=[{provide:VZ,useValue:e.data},{provide:tM,useValue:i}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(i,e,r)):l.push(...e.providers)),e.direction&&(!a||!a.get(yo,null,en.Optional))&&l.push({provide:yo,useValue:{value:e.direction,change:Ft()}}),or.create({parent:a||s,providers:l})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(or),le(HZ,8),le(n,12),le(a0),le(NN))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();function nM(n,t){let e=n.length;for(;e--;)t(n[e])}let UZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[BN,$Z],imports:[Zm,fp,PS,fp]}),n})();function GZ(n,t){}const Dp={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},WZ={dialogContainer:No("dialogContainer",[$i("void, exit",xn({opacity:0,transform:"scale(0.7)"})),$i("enter",xn({transform:"none"})),cr("* => enter",VL([kr("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",xn({transform:"none",opacity:1})),m0("@*",g0(),{optional:!0})]),Dp),cr("* => void, * => exit",VL([kr("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",xn({opacity:0})),m0("@*",g0(),{optional:!0})]),Dp)])};class A0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Dp.params.enterAnimationDuration,this.exitAnimationDuration=Dp.params.exitAnimationDuration}}let qZ=(()=>{class n extends LN{constructor(e,i,r,s,a,l,h,m){super(e,i,r,s,a,l,h,m),this._animationStateChanged=new dn}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(IS),P(hn,8),P(A0),P(h0),P(Yt),P(Ym),P(Wa))},n.\u0275cmp=un({type:n,selectors:[["ng-component"]],features:[Ne],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),KZ=(()=>{class n extends qZ{constructor(e,i,r,s,a,l,h,m,v){super(e,i,r,s,a,l,h,v),this._changeDetectorRef=m,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Dp.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Dp.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(IS),P(hn,8),P(A0),P(h0),P(Yt),P(Ym),P(Mr),P(Wa))},n.\u0275cmp=un({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&T_("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(Ru("id",i._config.id),Wn("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),I_("@dialogContainer",i._getAnimationState()))},features:[Ne],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&St(0,GZ,0,0,"ng-template",0)},dependencies:[qm],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[WZ.dialogContainer]}}),n})();class dv{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Ge,this._beforeClosed=new Ge,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(mr(r=>"opened"===r.state),gr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(mr(r=>"closed"===r.state),gr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),rr(this.backdropClick(),this.keydownEvents().pipe(mr(r=>27===r.keyCode&&!this.disableClose&&!Rl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),VN(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(mr(e=>"closing"===e.state),gr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function VN(n,t,e){return n._closeInteractionType=t,n.close(e)}const iM=new Ie("MatDialogData"),YZ=new Ie("mat-dialog-default-options"),HN=new Ie("mat-dialog-scroll-strategy"),XZ={provide:HN,deps:[la],useFactory:function ZZ(n){return()=>n.scrollStrategies.block()}};let QZ=0,JZ=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=m,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ge,this._afterOpenedAtThisLevel=new Ge,this._idPrefix="mat-dialog-",this.afterAllClosed=ym(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ua(void 0))),this._scrollStrategy=l,this._dialog=i.get(BN)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new A0,...i}).id=i.id||`${this._idPrefix}${QZ++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:A0,useValue:i},{provide:T0,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,l,h)=>(r=new this._dialogRefConstructor(a,i,h),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){Au()},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),hv=(()=>{class n extends JZ{constructor(e,i,r,s,a,l,h,m){super(e,i,s,l,h,a,dv,KZ,iM,m)}}return n.\u0275fac=function(e){return new(e||n)(le(la),le(or),le(um,8),le(YZ,8),le(HN),le(n,12),le(a0),le(Xr,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),eX=0,rM=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=zN(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){VN(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(P(dv,8),P(Et),P(hv))},n.\u0275dir=De({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&Vt("click",function(s){return i._onButtonClick(s)}),2&e&&Wn("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Yi]}),n})(),tX=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+eX++}ngOnInit(){this._dialogRef||(this._dialogRef=zN(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(P(dv,8),P(Et),P(hv))},n.\u0275dir=De({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&Ru("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),nX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=De({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),iX=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=De({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&di("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function zN(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let rX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[hv,XZ],imports:[UZ,Zm,fp,fi,fi]}),n})(),sX=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-init-config-dialog"]],decls:12,vars:1,consts:[["mat-dialog-title",""],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(e,i){1&e&&(ce(0,"h2",0),Oe(1," Are you sure you want to return to the initial nodes configuration of the simulation?"),he(),ce(2,"mat-dialog-content")(3,"b"),Oe(4,"This will end the currently running simulation!"),he(),rn(5,"br")(6,"br"),he(),ce(7,"mat-dialog-actions",1)(8,"button",2),Oe(9,"Cancel"),he(),ce(10,"button",3),Oe(11,"Initial nodes configuration"),he()()),2&e&&(ke(10),Ke("mat-dialog-close",!0))},dependencies:[Bo,Ka,xc,rM,tX,nX,iX]}),n})();class k0{constructor(t,e,i=null,r=[],s=0,a=!1){this._children=[],this._weight=1,this._fullNodeLastBlock=!1,this._id=t,this._minedBy=e,this._parent=i,this._children=r,this._weight=this._parent?this._parent.weight+1:s,this._fullNodeLastBlock=a}get id(){return this._id}set id(t){this._id=t}get minedBy(){return this._minedBy}get weight(){return this._weight}set weight(t){this._weight=t}get parent(){return this._parent}set parent(t){this._parent=t}get children(){return this._children}set children(t){this._children=t}get fullNodeLastBlock(){return this._fullNodeLastBlock}set fullNodeLastBlock(t){this._fullNodeLastBlock=t}}var Ui=(()=>{return(n=Ui||(Ui={}))[n.Miner=0]="Miner",n[n.Full=1]="Full",n[n.Spv=2]="Spv",n[n.Listening=3]="Listening",Ui;var n})(),Vo=(()=>{return(n=Vo||(Vo={}))[n.LongestChain=0]="LongestChain",n[n.GHOST=1]="GHOST",Vo;var n})();class ca{}ca.STEP_INTERVAL=1e3,ca.DAY_INTERVAL=10*ca.STEP_INTERVAL,ca.HOUR_INTERVAL=ca.DAY_INTERVAL/24,ca.MONTH_INTERVAL=300*ca.STEP_INTERVAL;class dh{constructor(t,e,i,r){this.id=t,this.nodeType=e,this.country=i,this.money=r,this.blockChainLength=1,this.mined=0,this.neighbours=[],this.alive=!0,this.computingPower=0,this.blockChain=new k0(-1,-1),this.blockChainMap=new Map,this.blockChainSize=0,this._maxWeight=0,this._maxWeightLeaf=-1,this.nodeType==Ui.Full&&(this.blockChainMap=new Map,this.blockChain=new k0(-1,-1),this.blockChainMap.set(-1,this.blockChain))}connect(t){this.isConnected(t)||this.neighbours.push(t)}detachMiner(t){this.neighbours=this.neighbours.filter(e=>e!==t)}isConnected(t){return this.neighbours.includes(t)}settlePayment(t){return t*=NF(this.country),this.nodeType!=Ui.Miner||(this.money<t?(this.alive=!1,!1):(this.money-=t,!0))}receiveReward(t){this.money+=t}getLast(t){if(this.nodeType!=Ui.Full)return this.nodeType==Ui.Miner?this.lastMined:this.lastBlock;{let e=this.findLastBlock(t);if(e)return e.fullNodeLastBlock=!0,e}}getParent(){return this.lastBlock}mineBlock(t){this.lastMined=t}addBlock(t){if(!t)return;const e=new k0(t.id,t.minedBy,t.parent,[],t.weight,t.fullNodeLastBlock);this.nodeType==Ui.Full&&this.blockChain?this.blockChainMap.has(e.id)||(e.parent&&this.blockChainMap.has(e.parent.id)?this.blockChainMap.get(e.parent.id)?.children?.push(e):this.blockChain.children?.push(e),this.blockChainMap.set(e.id,e),this.blockChainSize++):this.nodeType==Ui.Miner?(e.fullNodeLastBlock||!this.lastBlock)&&(this.lastBlock=e):this.lastBlock=e}findLastBlock(t){if(this.nodeType==Ui.Full&&this.blockChain){if(t==Vo.LongestChain){let e=this.longestPath(this.blockChain)[0];return null==e?void 0:this.blockChainMap.get(e)}if(t==Vo.GHOST)return this.updateWeights(),this._maxWeight=-1/0,this._maxWeightLeaf=-1,this.findGHOSTLeaf(this.blockChain),this.blockChainMap.get(this._maxWeightLeaf)}}longestPath(t){if(!t)return[];let e=[];for(let s of t.children)e.push(this.longestPath(s));let i=[],r=0;for(let s of e)s.length>r&&(r=s?.length,i=s);return i.push(t.id),i}findGHOSTLeaf(t){if(t)if(0==t.children.length)t.weight>this._maxWeight&&(this._maxWeight=t.weight,this._maxWeightLeaf=t.id);else for(let e of t.children)this.findGHOSTLeaf(e)}updateWeights(){let t=new Set,e=new Array,i=this.blockChainMap.get(-1);if(i)for(i.weight=0,t.add(-1),e.push(-1);e.length>0;){const r=e.shift();if(!r)break;let s=this.blockChainMap.get(r);if(!s)break;s.weight=1+(s.parent?s.parent.weight+s.children?.length:s.children?.length);for(let a of s.children)t.has(a.id)||(t.add(a.id),e.push(a.id))}}}class ua{constructor(t){this.nodes=t}static generateGraph(t,e,i,r,s,a=.1){let l=new Map,h=0;const m=t+i+r,v=m*(m-1)/2;let C=0,D=-1,T=new dh(h,Ui.Full,jm(),0);l.set(h,T),h+=1;for(let V=1;V<t;V++){let q=new dh(h,Ui.Full,jm(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}for(let V=0;V<r;V++){let q=new dh(h,Ui.Listening,jm(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}for(let V=0;V<i;V++){let q=new dh(h,Ui.Spv,jm(),0);D=ua.genrateRandomNumber(h-1);let te=l.get(D);q.connect(D),te?.connect(h),C+=1,l.set(h,q),h+=1}const k=h-1;let O=0,B=v*a-C;for(;O<B;){let V=ua.genrateRandomNumber(k),q=ua.genrateRandomNumber(k);V!=q&&(l.get(V)?.isConnected(q)||(l.get(V)?.connect(q),l.get(q)?.connect(V),O+=1))}for(let V=0;V<e;V++){D=ua.genrateRandomNumber(k);let q=new dh(h,Ui.Miner,s[V].country,s[V].money);q.computingPower=s[V].power;let te=l.get(D);q.connect(D),te?.connect(h),l.set(h,q),h+=1}return new ua(l)}static genrateRandomNumber(t){return Math.floor(Math.random()*(t+1))}}const{isArray:lX}=Array;function fv(n=0,t=Xb){return n<0&&(n=0),mS(n,n,t)}class hh{constructor(t,e){this.eventType=t,this.eventData=e}}var Ho=(()=>{return(n=Ho||(Ho={}))[n.INITIALIZATION=0]="INITIALIZATION",n[n.BLOCK_MINED=1]="BLOCK_MINED",n[n.BLOCK_RECEIVED=2]="BLOCK_RECEIVED",n[n.UPDATE_LAST_BLOCK=3]="UPDATE_LAST_BLOCK",Ho;var n})();class Ep{constructor(){this.senderId=0,this.receiverId=0}}function sM(n,t){return Math.floor(Math.random()*(t-n+1)+n)}class jN{constructor(t,e,i,r,s){this.romania=t,this.poland=e,this.spain=i,this.germany=r,this.greatBritain=s}pushData(t){this.romania.push(t.romania),this.poland.push(t.poland),this.spain.push(t.spain),this.germany.push(t.germany),this.greatBritain.push(t.greatBritain)}}class UN{constructor(t,e,i,r,s){this.romania=t,this.poland=e,this.spain=i,this.germany=r,this.greatBritain=s}getInitialData(){return[[this.romania],[this.poland],[this.spain],[this.germany],[this.greatBritain]]}}let GN=(()=>{class n{constructor(){this.event=new yi(new hh(Ho.INITIALIZATION,new Ep))}getSimulationEvent(){return this.event.asObservable()}emitSimulationEvent(e){this.event.next(e)}emitBlockMined(){let e=new Ep,i=new hh(Ho.BLOCK_MINED,e);this.emitSimulationEvent(i)}emitBlockchainUpdate(){let e=new Ep,i=new hh(Ho.UPDATE_LAST_BLOCK,e);this.emitSimulationEvent(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WN=(()=>{class n{constructor(){this.step=new yi(""),this.stepSemaphore=!1}getStep(){return this.step.asObservable()}emitStep(){this.stepSemaphore&&(this.blockSemaphore(),this.step.next(""))}unblockSemaphore(){this.stepSemaphore=!0}blockSemaphore(){this.stepSemaphore=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qN=(()=>{class n{constructor(e){this.parametersService=e,this.payment$=new yi(this.parametersService.getElectricityPrice())}getPayment(){return this.payment$.asObservable()}emitPayment(){this.payment$.next(this.parametersService.getElectricityPrice())}}return n.\u0275fac=function(e){return new(e||n)(le(yp))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KN=(()=>{class n{constructor(){this.addMiner$=new yi(-1)}getAddMiner(){return this.addMiner$.asObservable()}emitStart(e){this.addMiner$.next(e)}emitStop(){this.addMiner$.next(-1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YN=(()=>{class n{constructor(){this.updateTimer$=new yi(null)}emitUpdateTime(){this.updateTimer$.next(null)}getUpdateTime(){return this.updateTimer$.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZN=(()=>{class n{constructor(e,i,r,s,a){this.eventService=e,this.stepService=i,this.paymentService=r,this.addMinerService=s,this.timerService=a}startSimulation(e){this.interval?.unsubscribe(),this.interval=fv(ca.STEP_INTERVAL/e).pipe(Hn(()=>{this.stepService.emitStep(),this.timerService.emitUpdateTime()})).subscribe(),this.interval2?.unsubscribe(),this.interval2=fv(ca.DAY_INTERVAL/e).pipe(Hn(()=>{this.eventService.emitBlockMined()})).subscribe(),this.interval3?.unsubscribe(),this.interval3=fv(ca.MONTH_INTERVAL/e).pipe(Hn(()=>{this.paymentService.emitPayment()})).subscribe(),this.interval4?.unsubscribe(),this.interval4=fv(ca.DAY_INTERVAL/e).pipe(Hn(()=>{this.eventService.emitBlockchainUpdate()})).subscribe(),this.addMinerService.emitStart(e)}stopSimulation(){this.interval?.unsubscribe(),this.interval2?.unsubscribe(),this.interval3?.unsubscribe(),this.addMinerService.emitStop()}}return n.\u0275fac=function(e){return new(e||n)(le(GN),le(WN),le(qN),le(KN),le(YN))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XN=(()=>{class n{constructor(){this.TIME_TO_LIVE=7,this.$activeEdges=new yi([{edge:"",ttl:0}]),this.activeEdges=[]}addEdge(e,i){this.activeEdges.push({edge:`${e}_${i}`,ttl:this.TIME_TO_LIVE}),this.emitEdges()}emitEdges(){this.$activeEdges.next(this.activeEdges)}depleteTTL(){this.activeEdges=this.activeEdges.filter(e=>e.ttl>=1),this.activeEdges.forEach(e=>{e.ttl-=1})}getEdges(){return this.$activeEdges.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pv=(()=>{class n{constructor(e){this.edgeService=e,this.graph=new yi({graph:new ua(new Map),activeEdges:[{edge:"",ttl:0}]}),this.activeEdges=[],this.edgeService.getEdges().subscribe(i=>{this.activeEdges=i,this.emitGraph(this.graph.getValue().graph)})}getGraph(){return this.graph.asObservable()}emitGraph(e){this.graph.next({graph:e,activeEdges:this.activeEdges})}}return n.\u0275fac=function(e){return new(e||n)(le(XN))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QN=(()=>{class n{constructor(){this.$minerListChange=new yi("")}get(){return this.$minerListChange.asObservable()}emit(){this.$minerListChange.next("")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dX=(()=>{class n{constructor(){this.$idEmitter=new yi(1)}get(){return this.$idEmitter.asObservable()}emit(){this.$idEmitter.next(this.$idEmitter.value+1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oM=(()=>{class n{constructor(){this.minersToDelete=new yi(new Array(""))}getMinersToDelete(){return this.minersToDelete.asObservable()}emitMinersToDelete(e){this.minersToDelete.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gv{constructor(t,e,i){this.total=t,this.country=e,this.monthNumber=i}}let aM=(()=>{class n{constructor(){this.dataEmitter$=new yi(new gv([],null,1)),this.requestEmitter$=new yi(1),this.totalData=[],this.countryData=null,this.monthNumber=1}emitData(){this.dataEmitter$.next(new gv(this.totalData,this.countryData,this.monthNumber))}getData(){return this.dataEmitter$.asObservable()}emitRequest(e){this.requestEmitter$.next(e)}getRequest(){return this.requestEmitter$.asObservable()}addData(e,i,r){if(this.totalData.push(e),this.monthNumber=r,null===this.countryData){const s=i.getInitialData();this.countryData=new jN(s[0],s[1],s[2],s[3],s[4])}else this.countryData.pushData(i)}getCountryChartTitle(){return"The chart shows the number of miners from each country in a given month of the simulation"}getTotalChartTitle(){return"The chart shows the number of miners from all countries in a given month of the simulation"}getXAxisLabel(){return"Month"}getYAxisLabel(){return"Miners amount"}getCountryChartId(){return"minersAmountByCountry"}getTotalChartId(){return"minersAmountTotal"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lM=(()=>{class n{constructor(){this.dataEmitter$=new yi(new gv([],null,1)),this.requestEmitter$=new yi(1),this.totalData=[],this.countryData=null,this.monthNumber=1}emitData(){this.dataEmitter$.next(new gv(this.totalData,this.countryData,this.monthNumber))}getData(){return this.dataEmitter$.asObservable()}emitRequest(e){this.requestEmitter$.next(e)}getRequest(){return this.requestEmitter$.asObservable()}addData(e,i,r){if(this.totalData.push(e),this.monthNumber=r,null===this.countryData){const s=i.getInitialData();this.countryData=new jN(s[0],s[1],s[2],s[3],s[4])}else this.countryData.pushData(i)}getCountryChartTitle(){return"The chart shows the average amount of money possessed by miners in each country"}getTotalChartTitle(){return"The chart shows the overall average amount of money possessed by all miners"}getXAxisLabel(){return"Month"}getYAxisLabel(){return"Average amount of money [$]"}getCountryChartId(){return"meanMoneyByCountry"}getTotalChartId(){return"meanMoneyTotal"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JN=(()=>{class n{constructor(){this.protocol=Vo.LongestChain}changeProtocol(e){this.protocol=e?Vo.LongestChain:Vo.GHOST}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e2=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,T,k,O){this.parametersService=e,this.buttonsService=i,this.visualisationService=r,this.stepService=s,this.eventService=a,this.paymentService=l,this.minerService=h,this.blockchainService=m,this.addMinerService=v,this.edgeService=C,this.minersDeletingService=D,this.minersAmountChartService=T,this.meanMoneyChartService=k,this.protocolService=O,this.graph=new ua(new Map),this.nextId=0,this.minersToDelete=[],this.deadMiners=[],this.nextMinerID=this.parametersService.getAllNodes()}initializeSimulation(){(function uX(...n){const t=Oh(n),e=function cX(n){return 1===n.length&&lX(n[0])?n[0]:n}(n);return e.length?new tt(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let a=0;!i.closed&&a<e.length;a++)wr(e[a]).subscribe(On(i,l=>{if(r[a].push(l),r.every(h=>h.length)){const h=r.map(m=>m.shift());i.next(t?t(...h):h),r.some((m,v)=>!m.length&&s[v])&&i.complete()}},()=>{s[a]=!0,!r[a].length&&i.complete()}));return()=>{r=s=null}}):js})([this.stepService.getStep(),this.eventService.getSimulationEvent()]).pipe(Hn(([e,i])=>{if(i instanceof hh){switch(i.eventType){case Ho.INITIALIZATION:this.handleInitialization();break;case Ho.BLOCK_MINED:this.handleBlockMined(i.eventData);break;case Ho.BLOCK_RECEIVED:this.handleBlockReceived(i.eventData);break;case Ho.UPDATE_LAST_BLOCK:this.handleBlockchainUpdate(i.eventData)}this.visualisationService.emitGraph(this.graph),this.minerService.emit()}this.stepService.unblockSemaphore()})).subscribe(),this.paymentService.getPayment().pipe(Hn(e=>{this.graph.nodes.forEach(i=>{i.settlePayment(e)||(this.deadMiners.push(i),this.minersToDelete.push(""+i.id),i.neighbours.forEach(r=>{this.graph.nodes.get(r)?.detachMiner(i.id)}),this.graph.nodes.delete(i.id),this.minerService.emit())}),this.minersDeletingService.emitMinersToDelete(this.minersToDelete),this.minersToDelete=[]})).subscribe(),this.blockchainService.get().subscribe(e=>{this.nextId=e}),this.addMinerService.getAddMiner().pipe(Hn(e=>{e>0?this.startAddingMiners(e):this.stopAddingMiners(),this.edgeService.depleteTTL()})).subscribe(),this.minersAmountChartService.getRequest().pipe(Hn(e=>{const i=this.collectMinerAmountData();this.minersAmountChartService.addData(i.total,i.country,e),this.minersAmountChartService.emitData()})).subscribe(),this.meanMoneyChartService.getRequest().pipe(Hn(e=>{const i=this.collectMeanMoneyData();this.meanMoneyChartService.addData(i.total,i.country,e),this.meanMoneyChartService.emitData()})).subscribe()}startAddingMiners(e){this.addMinerFrequencySubscription=this.parametersService.getAddNewMinerFrequency().pipe(Hn(i=>{i>0?this.addMinerSubscription=fv(ca.MONTH_INTERVAL/(i*e)).pipe(Hn(()=>{this.addNewMiner(),this.visualisationService.emitGraph(this.graph)})).subscribe():this.addMinerSubscription?.unsubscribe()})).subscribe()}stopAddingMiners(){this.addMinerFrequencySubscription?.unsubscribe(),this.addMinerSubscription?.unsubscribe()}addNewMiner(){let e=this.nextMinerID;this.nextMinerID+=1;const i=this.getRandomNonMiner(),r=new dh(e,Ui.Miner,jm(),sM(50,150));r.computingPower=sM(1,10),r.connect(i.id),i.connect(r.id),this.graph.nodes.set(e,r)}addNewMinerWithParams(e,i,r){let s=this.nextMinerID;this.nextMinerID+=1;const a=this.getRandomNonMiner(),l=new dh(s,Ui.Miner,e,i);l.computingPower=r,l.connect(a.id),a.connect(l.id),this.graph.nodes.set(s,l)}handleInitialization(){this.graph=ua.generateGraph(this.parametersService.getFullNodes(),this.parametersService.getMinerNodes(),this.parametersService.getLightNodes(),this.parametersService.getListeningNodes(),this.parametersService.getInitialMinersData())}handleBlockMined(e){let i=[];this.graph.nodes.forEach((h,m)=>{if(h.nodeType==Ui.Miner)for(let v=0;v<h.computingPower;v++)i.push(m)});let r=sM(0,i.length-1),s=i[r],a=this.graph.nodes.get(s);if(void 0===a)return;let l=new k0(this.nextId,a.id,a.getParent());a.mineBlock(l),this.blockchainService.emit(),a.mined++,a.blockChainLength++,a.receiveReward(this.parametersService.getReward()),a.neighbours.forEach(h=>{let m=new Ep;m.senderId=s,m.receiverId=h,this.edgeService.addEdge(m.senderId,m.receiverId),this.edgeService.addEdge(m.receiverId,m.senderId),this.eventService.emitSimulationEvent(new hh(Ho.BLOCK_RECEIVED,m))}),this.edgeService.depleteTTL()}handleBlockReceived(e){let i=this.graph?.nodes.get(e.senderId),r=this.graph?.nodes.get(e.receiverId);if(!i||!r)return;const s=i.getLast(this.protocolService.protocol);r.getLast(this.protocolService.protocol)?.id!=s?.id&&(r.addBlock(s),r.neighbours.forEach(l=>{if(l===e.senderId)return;let h=new Ep;h.senderId=e.receiverId,h.receiverId=l,this.edgeService.addEdge(h.senderId,h.receiverId),this.edgeService.addEdge(h.receiverId,h.senderId),this.eventService.emitSimulationEvent(new hh(Ho.BLOCK_RECEIVED,h))}),this.edgeService.depleteTTL())}handleBlockchainUpdate(e){let i=Array.from(this.graph.nodes.values()).filter(r=>r.nodeType==Ui.Full).reduce((r,s)=>r.blockChainSize>s.blockChainSize?r:s);i.neighbours.forEach(r=>{let s=new Ep;s.senderId=i.id,s.receiverId=r,this.eventService.emitSimulationEvent(new hh(Ho.BLOCK_RECEIVED,s))})}getMiners(){return Array.from(this.graph.nodes.values()).filter((e,i)=>e.nodeType==Ui.Miner||e.money>0)}getRandomNonMiner(){const e=this.getNonMiners();return e[Math.floor(Math.random()*e.length)]}getNonMiners(){return Array.from(this.graph.nodes.values()).filter((e,i)=>e.nodeType!=Ui.Miner)}collectMinerAmountData(){const e=this.getMiners(),i=e.length;let r={romania:0,poland:0,spain:0,germany:0,greatBritain:0};e.forEach(a=>{switch(a.country){case so[0].enumName:r.romania++;break;case so[1].enumName:r.poland++;break;case so[2].enumName:r.spain++;break;case so[3].enumName:r.germany++;break;case so[4].enumName:r.greatBritain++;break;default:console.log("NO SUCH COUNTRY")}});const s=new UN(r.romania.toString(),r.poland.toString(),r.spain.toString(),r.germany.toString(),r.greatBritain.toString());return{total:i.toString(),country:s}}collectMeanMoneyData(){const e=this.getMiners(),i=0!==e.length?e.length:1;let r={romania:0,poland:0,spain:0,germany:0,greatBritain:0},s={romania:0,poland:0,spain:0,germany:0,greatBritain:0},a=0;e.forEach(m=>{switch(a+=m.money,m.country){case so[0].enumName:r.romania++,s.romania+=m.money;break;case so[1].enumName:r.poland++,s.poland+=m.money;break;case so[2].enumName:r.spain++,s.spain+=m.money;break;case so[3].enumName:r.germany++,s.germany+=m.money;break;case so[4].enumName:r.greatBritain++,s.greatBritain+=m.money;break;default:console.log("NO SUCH COUNTRY")}});for(let m in r)0===r[m]&&(r[m]=1);const l=new UN((s.romania/r.romania).toString(),(s.poland/r.poland).toString(),(s.spain/r.spain).toString(),(s.germany/r.germany).toString(),(s.greatBritain/r.greatBritain).toString());return{total:(a/i).toString(),country:l}}}return n.\u0275fac=function(e){return new(e||n)(le(yp),le(ZN),le(pv),le(WN),le(GN),le(qN),le(QN),le(dX),le(KN),le(XN),le(oM),le(aM),le(lM),le(JN))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hX=["*"],fX=["tabListContainer"],pX=["tabList"],gX=["tabListInner"],mX=["nextPaginator"],vX=["previousPaginator"],wX=["mat-tab-nav-bar",""],CX=new Ie("MatInkBarPositioner",{providedIn:"root",factory:function xX(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let t2=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=s}alignToElement(e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(gr(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Yt),P(CX),P(Xr,8))},n.\u0275dir=De({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&di("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const n2=nh({passive:!0});let SX=(()=>{class n{constructor(e,i,r,s,a,l,h){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=a,this._platform=l,this._animationMode=h,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ge,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ge,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new dn,this.indexFocused=new dn,a.runOutsideAngular(()=>{th(e.nativeElement,"mouseleave").pipe(zn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=bn(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=oo(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){th(this._previousPaginator.nativeElement,"touchstart",n2).pipe(zn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),th(this._nextPaginator.nativeElement,"touchstart",n2).pipe(zn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Ft("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new j9(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(gr(1)).subscribe(r),rr(e,i,this._items.changes,this._itemsResized()).pipe(zn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(zn(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?js:this._items.changes.pipe(Ua(this._items),Fo(e=>new tt(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>i.next(s));return e.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),MS(1),mr(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Rl(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=i.elementRef.nativeElement;let l,h;"ltr"==this._getLayoutDirection()?(l=s,h=l+a):(h=this._tabListInner.nativeElement.offsetWidth-s,l=h-a);const m=this.scrollDistance,v=this.scrollDistance+r;l<m?this.scrollDistance-=m-l+60:h>v&&(this.scrollDistance+=h-v+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),mS(650,100).pipe(zn(rr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(e);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Mr),P(sh),P(yo,8),P(Yt),P(vr),P(Xr,8))},n.\u0275dir=De({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),MX=0,s2=(()=>{class n extends SX{constructor(e,i,r,s,a,l,h){super(e,s,a,i,r,l,h),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-background-${this.backgroundColor}`),e&&i.add(`mat-background-${e}`),this._backgroundColor=e}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=bn(e)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Ua(null),zn(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const e=this._items.toArray();for(let i=0;i<e.length;i++)if(e[i].active)return this.selectedIndex=i,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=e[i].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(yo,8),P(Yt),P(Mr),P(sh),P(vr),P(Xr,8))},n.\u0275dir=De({type:n,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[Ne]}),n})(),o2=(()=>{class n extends s2{constructor(e,i,r,s,a,l,h){super(e,i,r,s,a,l,h)}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(yo,8),P(Yt),P(Mr),P(sh),P(vr),P(Xr,8))},n.\u0275cmp=un({type:n,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(e,i,r){if(1&e&&zi(r,a2,5),2&e){let s;Gt(s=Wt())&&(i._items=s)}},viewQuery:function(e,i){if(1&e&&(hi(t2,7),hi(fX,7),hi(pX,7),hi(gX,7),hi(mX,5),hi(vX,5)),2&e){let r;Gt(r=Wt())&&(i._inkBar=r.first),Gt(r=Wt())&&(i._tabListContainer=r.first),Gt(r=Wt())&&(i._tabList=r.first),Gt(r=Wt())&&(i._tabListInner=r.first),Gt(r=Wt())&&(i._nextPaginator=r.first),Gt(r=Wt())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(e,i){2&e&&(Wn("role",i._getRole()),di("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())("mat-primary","warn"!==i.color&&"accent"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[Ne],attrs:wX,ngContentSelectors:hX,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(Po(),ce(0,"button",0,1),Vt("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),rn(2,"div",2),he(),ce(3,"div",3,4),Vt("keydown",function(s){return i._handleKeydown(s)}),ce(5,"div",5,6),Vt("cdkObserveContent",function(){return i._onContentChanges()}),ce(7,"div",7,8),er(9),he(),rn(10,"mat-ink-bar"),he()(),ce(11,"button",9,10),Vt("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),rn(13,"div",2),he()),2&e&&(di("mat-tab-header-pagination-disabled",i._disableScrollBefore),Ke("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),ke(5),di("_mat-animation-noopable","NoopAnimations"===i._animationMode),ke(6),di("mat-tab-header-pagination-disabled",i._disableScrollAfter),Ke("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[vp,TS,t2],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}.mat-tab-link::before{margin:5px}@media(max-width: 599px){.mat-tab-link{min-width:72px}}"],encapsulation:2}),n})();const TX=p0(Qm(ju(class{})));let AX=(()=>{class n extends TX{constructor(e,i,r,s,a,l){super(),this._tabNavBar=e,this.elementRef=i,this._focusMonitor=a,this._isActive=!1,this.id="mat-tab-link-"+MX++,this.rippleConfig=r||{},this.tabIndex=parseInt(s)||0,"NoopAnimations"===l&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(e){const i=bn(e);i!==this._isActive&&(this._isActive=i,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(e){this._tabNavBar.tabPanel&&32===e.keyCode&&this.elementRef.nativeElement.click()}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}}return n.\u0275fac=function(e){return new(e||n)(P(s2),P(Et),P(NS,8),_s("tabindex"),P(Wa),P(Xr,8))},n.\u0275dir=De({type:n,inputs:{active:"active",id:"id"},features:[Ne]}),n})(),a2=(()=>{class n extends AX{constructor(e,i,r,s,a,l,h,m){super(e,i,a,l,h,m),this._tabLinkRipple=new OL(this,r,i,s),this._tabLinkRipple.setupTriggerEvents(i.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return n.\u0275fac=function(e){return new(e||n)(P(o2),P(Et),P(Yt),P(vr),P(NS,8),_s("tabindex"),P(Wa),P(Xr,8))},n.\u0275dir=De({type:n,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(e,i){1&e&&Vt("focus",function(){return i._handleFocus()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(Wn("aria-controls",i._getAriaControls())("aria-current",i._getAriaCurrent())("aria-disabled",i.disabled)("aria-selected",i._getAriaSelected())("id",i.id)("tabIndex",i._getTabIndex())("role",i._getRole()),di("mat-tab-disabled",i.disabled)("mat-tab-label-active",i.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[Ne]}),n})(),kX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[ja,fi,fp,ev,l0,PS,fi]}),n})();const IX=["sliderWrapper"],da=nh({passive:!1}),LX={provide:Lo,useExisting:ni(()=>cM),multi:!0};class NX{}const BX=p0(Xm(ju(class{constructor(n){this._elementRef=n}}),"accent"));let cM=(()=>{class n extends BX{constructor(e,i,r,s,a,l,h,m){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this._dir=s,this._ngZone=l,this._animationMode=m,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new dn,this.input=new dn,this.valueChange=new dn,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=ne.EMPTY,this._pointerDown=v=>{this.disabled||this._isSliding||!mv(v)&&0!==v.button||this._ngZone.run(()=>{this._touchId=mv(v)?function VX(n,t){for(let e=0;e<n.touches.length;e++){const i=n.touches[e].target;if(t===i||t.contains(i))return n.touches[e].identifier}}(v,this._elementRef.nativeElement):void 0;const C=c2(v,this._touchId);if(C){const D=this.value;this._isSliding="pointer",this._lastPointerEvent=v,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(v),this._focusHostElement(),this._updateValueFromPosition(C),this._valueOnSlideStart=D,v.cancelable&&v.preventDefault(),D!=this.value&&this._emitInputEvent()}})},this._pointerMove=v=>{if("pointer"===this._isSliding){const C=c2(v,this._touchId);if(C){v.cancelable&&v.preventDefault();const D=this.value;this._lastPointerEvent=v,this._updateValueFromPosition(C),D!=this.value&&this._emitInputEvent()}}},this._pointerUp=v=>{"pointer"===this._isSliding&&(!mv(v)||"number"!=typeof this._touchId||uM(v.changedTouches,this._touchId))&&(v.cancelable&&v.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=h,this.tabIndex=parseInt(a)||0,l.runOutsideAngular(()=>{const v=e.nativeElement;v.addEventListener("mousedown",this._pointerDown,da),v.addEventListener("touchstart",this._pointerDown,da)})}get invert(){return this._invert}set invert(e){this._invert=bn(e)}get max(){return this._max}set max(e){this._max=oo(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=oo(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=oo(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=bn(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?oo(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let i=oo(e,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=bn(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const e=this.percent,r=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${r})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,l={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const h=this._shouldInvertAxis();let m;m=this.vertical?h?"Bottom":"Top":h?"Right":"Left",l[`padding${m}`]=`${this._getThumbGap()}px`}return l}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,da),e.removeEventListener("touchstart",this._pointerDown,da),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||Rl(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const i=this._document,r=mv(e),a=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,da),i.addEventListener(a,this._pointerUp,da),r&&i.addEventListener("touchcancel",this._pointerUp,da);const l=this._getWindow();typeof l<"u"&&l&&l.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,da),e.removeEventListener("mouseup",this._pointerUp,da),e.removeEventListener("touchmove",this._pointerMove,da),e.removeEventListener("touchend",this._pointerUp,da),e.removeEventListener("touchcancel",this._pointerUp,da);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(e){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let a=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(a=1-a),0===a)this.value=this.min;else if(1===a)this.value=this.max;else{const l=this._calculateValue(a),h=Math.round((l-this.min)/this.step)*this.step+this.min;this.value=this._clamp(h,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=l2(e)?e:0}_createChangeEvent(e=this.value){let i=new NX;return i.source=this,i.value=e,i}_calculatePercentage(e){const i=((e||0)-this.min)/(this.max-this.min);return l2(i)?i:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,i=0,r=1){return Math.max(i,Math.min(e,r))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(P(Et),P(Wa),P(Mr),P(yo,8),_s("tabindex"),P(Yt),P(hn),P(Xr,8))},n.\u0275cmp=un({type:n,selectors:[["mat-slider"]],viewQuery:function(e,i){if(1&e&&hi(IX,5),2&e){let r;Gt(r=Wt())&&(i._sliderWrapper=r.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,i){1&e&&Vt("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&e&&(Ru("tabIndex",i.tabIndex),Wn("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",i.valueText??i.displayValue)("aria-orientation",i.vertical?"vertical":"horizontal"),di("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[gn([LX]),Ne],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,i){1&e&&(ce(0,"div",0,1)(2,"div",2),rn(3,"div",3)(4,"div",4),he(),ce(5,"div",5),rn(6,"div",6),he(),ce(7,"div",7),rn(8,"div",8)(9,"div",9),ce(10,"div",10)(11,"span",11),Oe(12),he()()()()),2&e&&(ke(3),Ke("ngStyle",i._getTrackBackgroundStyles()),ke(1),Ke("ngStyle",i._getTrackFillStyles()),ke(1),Ke("ngStyle",i._getTicksContainerStyles()),ke(1),Ke("ngStyle",i._getTicksStyles()),ke(1),Ke("ngStyle",i._getThumbContainerStyles()),ke(5),Hi(i.displayValue))},dependencies:[nb],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),n})();function l2(n){return!isNaN(n)&&isFinite(n)}function mv(n){return"t"===n.type[0]}function c2(n,t){let e;return e=mv(n)?"number"==typeof t?uM(n.touches,t)||uM(n.changedTouches,t):n.touches[0]||n.changedTouches[0]:n,e?{x:e.clientX,y:e.clientY}:void 0}function uM(n,t){for(let e=0;e<n.length;e++)if(n[e].identifier===t)return n[e]}let HX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[ja,fi,fi]}),n})(),zX=(()=>{class n{constructor(e){this.buttonsService=e,this.disabled=!1,this.value=1}ngOnInit(){}startSimulation(){this.disabled=!0,this.buttonsService.startSimulation(this.value)}stopSimulation(){this.buttonsService.stopSimulation(),this.disabled=!1}getButtonTitle(){return this.disabled?"Stop":"Start"}}return n.\u0275fac=function(e){return new(e||n)(P(ZN))},n.\u0275cmp=un({type:n,selectors:[["app-buttons"]],decls:7,vars:8,consts:[["fxLayout","column"],["fxLayout","row","fxLayoutAlign","end start","fxLayoutGap","10px",1,"buttons"],["fxFlex","200px",3,"disabled","max","min","step","thumbLabel","ngModel","ngModelChange"],["mat-fab","",3,"color","click"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"h3"),Oe(2," Choose simulation speed: "),he(),ce(3,"div",1)(4,"mat-slider",2),Vt("ngModelChange",function(s){return i.value=s}),he(),ce(5,"button",3),Vt("click",function(){return i.disabled?i.stopSimulation():i.startSimulation()}),Oe(6),he()()()),2&e&&(ke(4),Ke("disabled",i.disabled)("max",100)("min",1)("step",1)("thumbLabel",!0)("ngModel",i.value),ke(1),Ke("color",i.disabled?"accent":"primary"),ke(1),ar(" ",i.getButtonTitle()," "))},dependencies:[Bo,Uu,Ka,qS,xc,lp,sS,cM]}),n})(),$X=(()=>{class n{transform(e){const i=Math.floor(e/10),r=Math.floor(i/360),s=Math.floor((i-360*r)/30),a=i%30;return r>0?r.toString()+" years "+s.toString()+" months "+a.toString()+" days":s>0?s.toString()+" months "+a.toString()+" days":a.toString()+" days"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=ys({name:"simulationTimer",type:n,pure:!0}),n})(),jX=(()=>{class n{constructor(e,i,r){this.timerService=e,this.minersAmountChartService=i,this.meanMoneyChartService=r,this.stepCounter=0,this.monthCounter=0}ngOnInit(){this.timerService.getUpdateTime().pipe(Hn(()=>this.updateSimulationTimer())).subscribe()}updateSimulationTimer(){this.stepCounter++;const e=Math.floor(Math.floor(this.stepCounter/10)/30);this.monthCounter!==e&&(this.monthCounter=e,this.minersAmountChartService.emitRequest(this.monthCounter),this.meanMoneyChartService.emitRequest(this.monthCounter))}}return n.\u0275fac=function(e){return new(e||n)(P(YN),P(aM),P(lM))},n.\u0275cmp=un({type:n,selectors:[["app-simulation-timer"]],decls:6,vars:3,consts:[["fxLayout","column"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"h3"),Oe(2," Simulation time: "),he(),ce(3,"h1"),Oe(4),pc(5,"simulationTimer"),he()()),2&e&&(ke(4),ar(" ",gc(5,1,i.stepCounter)," "))},dependencies:[Bo,$X]}),n})();const UX=["button"],GX=["*"],u2=new Ie("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),d2=new Ie("MatButtonToggleGroup"),WX={provide:Lo,useExisting:ni(()=>dM),multi:!0};let h2=0;class f2{constructor(t,e){this.source=t,this.value=e}}let dM=(()=>{class n{constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+h2++,this.valueChange=new dn,this.change=new dn,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=bn(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=bn(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=bn(e),this._markButtonsForCheck()}ngOnInit(){this._selectionModel=new kN(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const i=new f2(e,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,r=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(e,r)):this._updateModelValue(e,r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(P(Mr),P(u2,8))},n.\u0275dir=De({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,r){if(1&e&&zi(r,hM,5),2&e){let s;Gt(s=Wt())&&(i._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(Wn("aria-disabled",i.disabled),di("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[gn([WX,{provide:d2,useExisting:n}])]}),n})();const qX=Qm(class{});let hM=(()=>{class n extends qX{constructor(e,i,r,s,a,l){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new dn;const h=Number(a);this.tabIndex=h||0===h?h:null,this.buttonToggleGroup=e,this.appearance=l&&l.appearance?l.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=bn(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=bn(e)}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+h2++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new f2(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(e){return new(e||n)(P(d2,8),P(Mr),P(Et),P(Wa),_s("tabindex"),P(u2,8))},n.\u0275cmp=un({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&hi(UX,5),2&e){let r;Gt(r=Wt())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&Vt("focus",function(){return i.focus()}),2&e&&(Wn("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),di("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[Ne],ngContentSelectors:GX,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(Po(),ce(0,"button",0,1),Vt("click",function(){return i._onButtonClick()}),ce(2,"span",2),er(3),he()(),rn(4,"span",3)(5,"span",4)),2&e){const r=zd(1);Ke("id",i.buttonId)("disabled",i.disabled||null),Wn("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),ke(5),Ke("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[vp],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),KX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[fi,ev,fi]}),n})(),YX=(()=>{class n{constructor(e){this.protocolService=e,this.toggleButtonValue="default",this.protocol=Vo.LongestChain}ngOnInit(){}changeProtocol(){this.protocol=this.protocol===Vo.LongestChain?Vo.GHOST:Vo.LongestChain,console.log(this.protocol),this.protocolService.changeProtocol(this.protocol===Vo.LongestChain)}}return n.\u0275fac=function(e){return new(e||n)(P(JN))},n.\u0275cmp=un({type:n,selectors:[["app-protocol-switch"]],decls:9,vars:0,consts:[["fxLayout","column"],["value","0",1,"toggle-group",3,"change"],["group","matButtonToggleGroup"],["value","0"],["value","1"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"h3"),Oe(2," Choose protocol: "),he(),ce(3,"mat-button-toggle-group",1,2),Vt("change",function(){return i.changeProtocol()}),ce(5,"mat-button-toggle",3),Oe(6,"Longest Chain"),he(),ce(7,"mat-button-toggle",4),Oe(8,"GHOST"),he()()())},dependencies:[Bo,dM,hM]}),n})();function ZX(n,t){if(1&n&&(ce(0,"a",5,6),Oe(2),he()),2&n){const e=t.$implicit;Ke("active",zd(1).isActive)("routerLink",e.path),ke(2),ar(" ",e.name," ")}}let XX=(()=>{class n{constructor(e,i,r){this.parametersService=e,this.simulationService=i,this.dialog=r,this.nodesCount=10,this.tabs=[new uv("Network",qE),new uv("Miners","miners"),new uv("Parameters",AP),new uv("Blockchain",kP),new uv("Charts","charts")]}ngOnInit(){this.nodesCount=this.parametersService.getAllNodes(),this.simulationService.initializeSimulation()}goBackToInitConfig(){this.dialog.open(sX).afterClosed().subscribe(i=>{i&&(location.href=WE)})}}return n.\u0275fac=function(e){return new(e||n)(P(yp),P(e2),P(hv))},n.\u0275cmp=un({type:n,selectors:[["app-simulation"]],decls:15,vars:3,consts:[["fxLayout","column","fxLayoutAlign","space-between","fxLayoutGap","1vh",1,"container"],["fxLayout","row","fxLayoutAlign","space-between"],["mat-raised-button","","color","primary",2,"position","relative","top","50%",3,"click"],["mat-tab-nav-bar",""],["fxFlex","","mat-tab-link","","routerLinkActive","",3,"active","routerLink",4,"ngFor","ngForOf"],["fxFlex","","mat-tab-link","","routerLinkActive","",3,"active","routerLink"],["rla","routerLinkActive"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"div",1)(2,"div")(3,"button",2),Vt("click",function(){return i.goBackToInitConfig()}),ce(4,"span"),Oe(5,"Initial nodes configuration "),he(),ce(6,"mat-icon"),Oe(7,"undo"),he()()(),rn(8,"app-simulation-timer")(9,"app-protocol-switch")(10,"app-buttons"),he(),ce(11,"div")(12,"nav",3),St(13,ZX,3,3,"a",4),he()()(),rn(14,"router-outlet")),2&e&&(ke(2),fc("height",4,"rem"),ke(11),Ke("ngForOf",i.tabs))},dependencies:[qd,xb,Ob,vP,o2,a2,Bo,Uu,Ka,qS,av,xc,zX,jX,YX],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}"]}),n})();var vv=N(6864),QX=N(3811),JX=N(8061),eQ=N(9208),p2="tippy-content",m2="tippy-arrow",v2="tippy-svg-arrow",qu={passive:!0,capture:!0},y2=function(){return document.body};function fM(n,t,e){return Array.isArray(n)?n[t]??(Array.isArray(e)?e[t]:e):n}function pM(n,t){var e={}.toString.call(n);return 0===e.indexOf("[object")&&e.indexOf(t+"]")>-1}function _2(n,t){return"function"==typeof n?n.apply(void 0,t):n}function b2(n,t){return 0===t?n:function(i){clearTimeout(e),e=setTimeout(function(){n(i)},t)};var e}function Ku(n){return[].concat(n)}function w2(n,t){-1===n.indexOf(t)&&n.push(t)}function Sp(n){return[].slice.call(n)}function x2(n){return Object.keys(n).reduce(function(t,e){return void 0!==n[e]&&(t[e]=n[e]),t},{})}function fh(){return document.createElement("div")}function R0(n){return["Element","Fragment"].some(function(t){return pM(n,t)})}function vM(n,t){n.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function yv(n,t){n.forEach(function(e){e&&e.setAttribute("data-state",t)})}function yM(n,t,e){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[i](r,e)})}function S2(n,t){for(var e=t;e;){var i;if(n.contains(e))return!0;e=null==e.getRootNode||null==(i=e.getRootNode())?void 0:i.host}return!1}var Ol={isTouch:!1},M2=0;function lQ(){Ol.isTouch||(Ol.isTouch=!0,window.performance&&document.addEventListener("mousemove",T2))}function T2(){var n=performance.now();n-M2<20&&(Ol.isTouch=!1,document.removeEventListener("mousemove",T2)),M2=n}function cQ(){var n=document.activeElement;(function D2(n){return!(!n||!n._tippy||n._tippy.reference!==n)})(n)&&n.blur&&!n._tippy.state.isVisible&&n.blur()}var hQ=!!(typeof window<"u"&&typeof document<"u")&&!!window.msCrypto,_o=Object.assign({appendTo:y2,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),mQ=Object.keys(_o);function O2(n){var e=(n.plugins||[]).reduce(function(i,r){var l,s=r.name;return s&&(i[s]=void 0!==n[s]?n[s]:null!=(l=_o[s])?l:r.defaultValue),i},{});return Object.assign({},n,e)}function P2(n,t){var e=Object.assign({},t,{content:_2(t.content,[n])},t.ignoreAttributes?{}:function yQ(n,t){return(t?Object.keys(O2(Object.assign({},_o,{plugins:t}))):mQ).reduce(function(r,s){var a=(n.getAttribute("data-tippy-"+s)||"").trim();if(!a)return r;if("content"===s)r[s]=a;else try{r[s]=JSON.parse(a)}catch{r[s]=a}return r},{})}(n,t.plugins));return e.aria=Object.assign({},_o.aria,e.aria),e.aria={expanded:"auto"===e.aria.expanded?t.interactive:e.aria.expanded,content:"auto"===e.aria.content?t.interactive?null:"describedby":e.aria.content},e}function _M(n,t){n.innerHTML=t}function F2(n){var t=fh();return!0===n?t.className=m2:(t.className=v2,R0(n)?t.appendChild(n):_M(t,n)),t}function L2(n,t){R0(t.content)?(_M(n,""),n.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?_M(n,t.content):n.textContent=t.content)}function O0(n){var t=n.firstElementChild,e=Sp(t.children);return{box:t,content:e.find(function(i){return i.classList.contains(p2)}),arrow:e.find(function(i){return i.classList.contains(m2)||i.classList.contains(v2)}),backdrop:e.find(function(i){return i.classList.contains("tippy-backdrop")})}}function N2(n){var t=fh(),e=fh();e.className="tippy-box",e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var i=fh();function r(s,a){var l=O0(t),h=l.box,m=l.content,v=l.arrow;a.theme?h.setAttribute("data-theme",a.theme):h.removeAttribute("data-theme"),"string"==typeof a.animation?h.setAttribute("data-animation",a.animation):h.removeAttribute("data-animation"),a.inertia?h.setAttribute("data-inertia",""):h.removeAttribute("data-inertia"),h.style.maxWidth="number"==typeof a.maxWidth?a.maxWidth+"px":a.maxWidth,a.role?h.setAttribute("role",a.role):h.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&L2(m,n.props),a.arrow?v?s.arrow!==a.arrow&&(h.removeChild(v),h.appendChild(F2(a.arrow))):h.appendChild(F2(a.arrow)):v&&h.removeChild(v)}return i.className=p2,i.setAttribute("data-state","hidden"),L2(i,n.props),t.appendChild(e),e.appendChild(i),r(n.props,n.props),{popper:t,onUpdate:r}}N2.$$tippy=!0;var bQ=1,P0=[],F0=[];function wQ(n,t){var i,r,s,v,C,D,O,e=P2(n,Object.assign({},_o,O2(x2(t)))),a=!1,l=!1,h=!1,m=!1,T=[],k=b2(Dz,e.interactiveDebounce),B=bQ++,q=function rQ(n){return n.filter(function(t,e){return n.indexOf(t)===e})}(e.plugins),$={id:B,reference:n,popper:fh(),popperInstance:null,props:e,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:q,clearDelayTimeouts:function Uce(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)},setProps:function Gce(Ue){if(!$.state.isDestroyed){kt("onBeforeUpdate",[$,Ue]),Cz();var jt=$.props,Dn=P2(n,Object.assign({},jt,x2(Ue),{ignoreAttributes:!0}));$.props=Dn,Hp(),jt.interactiveDebounce!==Dn.interactiveDebounce&&(es(),k=b2(Dz,Dn.interactiveDebounce)),jt.triggerTarget&&!Dn.triggerTarget?Ku(jt.triggerTarget).forEach(function(Ti){Ti.removeAttribute("aria-expanded")}):Dn.triggerTarget&&n.removeAttribute("aria-expanded"),xi(),Ct(),Xe&&Xe(jt,Dn),$.popperInstance&&(Tz(),ZT().forEach(function(Ti){requestAnimationFrame(Ti._tippy.popperInstance.forceUpdate)})),kt("onAfterUpdate",[$,Ue])}},setContent:function Wce(Ue){$.setProps({content:Ue})},show:function qce(){var Ue=$.state.isVisible,jt=$.state.isDestroyed,Dn=!$.state.isEnabled,Ti=Ol.isTouch&&!$.props.touch,gi=fM($.props.duration,0,_o.duration);if(!(Ue||jt||Dn||Ti||Un().hasAttribute("disabled")||(kt("onShow",[$],!1),!1===$.props.onShow($)))){if($.state.isVisible=!0,Zt()&&(_e.style.visibility="visible"),Ct(),Qa(),$.state.isMounted||(_e.style.transition="none"),Zt()){var lo=$n();vM([lo.box,lo.content],0)}D=function(){var Ah;if($.state.isVisible&&!m){if(m=!0,_e.style.transition=$.props.moveTransition,Zt()&&$.props.animation){var XT=$n(),Kw=XT.box,$p=XT.content;vM([Kw,$p],gi),yv([Kw,$p],"visible")}tn(),xi(),w2(F0,$),null==(Ah=$.popperInstance)||Ah.forceUpdate(),kt("onMount",[$]),$.props.animation&&Zt()&&function Bc(Ue,jt){ao(Ue,jt)}(gi,function(){$.state.isShown=!0,kt("onShown",[$])})}},function zce(){var jt,Ue=$.props.appendTo,Dn=Un();(jt=$.props.interactive&&Ue===y2||"parent"===Ue?Dn.parentNode:_2(Ue,[Dn])).contains(_e)||jt.appendChild(_e),$.state.isMounted=!0,Tz()}()}},hide:function Kce(){var Ue=!$.state.isVisible,jt=$.state.isDestroyed,Dn=!$.state.isEnabled,Ti=fM($.props.duration,1,_o.duration);if(!(Ue||jt||Dn)&&(kt("onHide",[$],!1),!1!==$.props.onHide($))){if($.state.isVisible=!1,$.state.isShown=!1,m=!1,a=!1,Zt()&&(_e.style.visibility="hidden"),es(),Ja(),Ct(!0),Zt()){var gi=$n(),lo=gi.box,ma=gi.content;$.props.animation&&(vM([lo,ma],Ti),yv([lo,ma],"hidden"))}tn(),xi(),$.props.animation?Zt()&&function ps(Ue,jt){ao(Ue,function(){!$.state.isVisible&&_e.parentNode&&_e.parentNode.contains(_e)&&jt()})}(Ti,$.unmount):$.unmount()}},hideWithInteractivity:function Yce(Ue){Mi().addEventListener("mousemove",k),w2(P0,k),k(Ue)},enable:function $ce(){$.state.isEnabled=!0},disable:function jce(){$.hide(),$.state.isEnabled=!1},unmount:function Zce(){$.state.isVisible&&$.hide(),$.state.isMounted&&(Az(),ZT().forEach(function(Ue){Ue._tippy.unmount()}),_e.parentNode&&_e.parentNode.removeChild(_e),F0=F0.filter(function(Ue){return Ue!==$}),$.state.isMounted=!1,kt("onHidden",[$]))},destroy:function Xce(){$.state.isDestroyed||($.clearDelayTimeouts(),$.unmount(),Cz(),delete n._tippy,$.state.isDestroyed=!0,kt("onDestroy",[$]))}};if(!e.render)return $;var pe=e.render($),_e=pe.popper,Xe=pe.onUpdate;_e.setAttribute("data-tippy-root",""),_e.id="tippy-"+$.id,$.popper=_e,n._tippy=$,_e._tippy=$;var ut=q.map(function(Ue){return Ue.fn($)}),Rt=n.hasAttribute("aria-expanded");return Hp(),xi(),Ct(),kt("onCreate",[$]),e.showOnCreate&&kz(),_e.addEventListener("mouseenter",function(){$.props.interactive&&$.state.isVisible&&$.clearDelayTimeouts()}),_e.addEventListener("mouseleave",function(){$.props.interactive&&$.props.trigger.indexOf("mouseenter")>=0&&Mi().addEventListener("mousemove",k)}),$;function $t(){var Ue=$.props.touch;return Array.isArray(Ue)?Ue:[Ue,0]}function sn(){return"hold"===$t()[0]}function Zt(){var Ue;return!(null==(Ue=$.props.render)||!Ue.$$tippy)}function Un(){return O||n}function Mi(){var Ue=Un().parentNode;return Ue?function E2(n){var t,i=Ku(n)[0];return null!=i&&null!=(t=i.ownerDocument)&&t.body?i.ownerDocument:document}(Ue):document}function $n(){return O0(_e)}function pt(Ue){return $.state.isMounted&&!$.state.isVisible||Ol.isTouch||v&&"focus"===v.type?0:fM($.props.delay,Ue?0:1,_o.delay)}function Ct(Ue){void 0===Ue&&(Ue=!1),_e.style.pointerEvents=$.props.interactive&&!Ue?"":"none",_e.style.zIndex=""+$.props.zIndex}function kt(Ue,jt,Dn){var Ti;void 0===Dn&&(Dn=!0),ut.forEach(function(gi){gi[Ue]&&gi[Ue].apply(gi,jt)}),Dn&&(Ti=$.props)[Ue].apply(Ti,jt)}function tn(){var Ue=$.props.aria;if(Ue.content){var jt="aria-"+Ue.content,Dn=_e.id;Ku($.props.triggerTarget||n).forEach(function(gi){var lo=gi.getAttribute(jt);if($.state.isVisible)gi.setAttribute(jt,lo?lo+" "+Dn:Dn);else{var ma=lo&&lo.replace(Dn,"").trim();ma?gi.setAttribute(jt,ma):gi.removeAttribute(jt)}})}}function xi(){!Rt&&$.props.aria.expanded&&Ku($.props.triggerTarget||n).forEach(function(jt){$.props.interactive?jt.setAttribute("aria-expanded",$.state.isVisible&&jt===Un()?"true":"false"):jt.removeAttribute("aria-expanded")})}function es(){Mi().removeEventListener("mousemove",k),P0=P0.filter(function(Ue){return Ue!==k})}function qi(Ue){if(!Ol.isTouch||!h&&"mousedown"!==Ue.type){var jt=Ue.composedPath&&Ue.composedPath()[0]||Ue.target;if(!$.props.interactive||!S2(_e,jt)){if(Ku($.props.triggerTarget||n).some(function(Dn){return S2(Dn,jt)})){if(Ol.isTouch||$.state.isVisible&&$.props.trigger.indexOf("click")>=0)return}else kt("onClickOutside",[$,Ue]);!0===$.props.hideOnClick&&($.clearDelayTimeouts(),$.hide(),l=!0,setTimeout(function(){l=!1}),$.state.isMounted||Ja())}}}function As(){h=!0}function bi(){h=!1}function Qa(){var Ue=Mi();Ue.addEventListener("mousedown",qi,!0),Ue.addEventListener("touchend",qi,qu),Ue.addEventListener("touchstart",bi,qu),Ue.addEventListener("touchmove",As,qu)}function Ja(){var Ue=Mi();Ue.removeEventListener("mousedown",qi,!0),Ue.removeEventListener("touchend",qi,qu),Ue.removeEventListener("touchstart",bi,qu),Ue.removeEventListener("touchmove",As,qu)}function ao(Ue,jt){var Dn=$n().box;function Ti(gi){gi.target===Dn&&(yM(Dn,"remove",Ti),jt())}if(0===Ue)return jt();yM(Dn,"remove",C),yM(Dn,"add",Ti),C=Ti}function el(Ue,jt,Dn){void 0===Dn&&(Dn=!1),Ku($.props.triggerTarget||n).forEach(function(gi){gi.addEventListener(Ue,jt,Dn),T.push({node:gi,eventType:Ue,handler:jt,options:Dn})})}function Hp(){sn()&&(el("touchstart",xz,{passive:!0}),el("touchend",Ez,{passive:!0})),function iQ(n){return n.split(/\s+/).filter(Boolean)}($.props.trigger).forEach(function(Ue){if("manual"!==Ue)switch(el(Ue,xz),Ue){case"mouseenter":el("mouseleave",Ez);break;case"focus":el(hQ?"focusout":"blur",Sz);break;case"focusin":el("focusout",Sz)}})}function Cz(){T.forEach(function(Ue){Ue.node.removeEventListener(Ue.eventType,Ue.handler,Ue.options)}),T=[]}function xz(Ue){var jt,Dn=!1;if($.state.isEnabled&&!Mz(Ue)&&!l){var Ti="focus"===(null==(jt=v)?void 0:jt.type);v=Ue,O=Ue.currentTarget,xi(),!$.state.isVisible&&function mM(n){return pM(n,"MouseEvent")}(Ue)&&P0.forEach(function(gi){return gi(Ue)}),"click"===Ue.type&&($.props.trigger.indexOf("mouseenter")<0||a)&&!1!==$.props.hideOnClick&&$.state.isVisible?Dn=!0:kz(Ue),"click"===Ue.type&&(a=!Dn),Dn&&!Ti&&qw(Ue)}}function Dz(Ue){var jt=Ue.target,Dn=Un().contains(jt)||_e.contains(jt);"mousemove"===Ue.type&&Dn||function aQ(n,t){var e=t.clientX,i=t.clientY;return n.every(function(r){var s=r.popperRect,a=r.popperState,h=r.props.interactiveBorder,m=function C2(n){return n.split("-")[0]}(a.placement),v=a.modifiersData.offset;return!v||s.top-i+("bottom"===m?v.top.y:0)>h||i-s.bottom-("top"===m?v.bottom.y:0)>h||s.left-e+("right"===m?v.left.x:0)>h||e-s.right-("left"===m?v.right.x:0)>h})}(ZT().concat(_e).map(function(gi){var lo,zp=null==(lo=gi._tippy.popperInstance)?void 0:lo.state;return zp?{popperRect:gi.getBoundingClientRect(),popperState:zp,props:e}:null}).filter(Boolean),Ue)&&(es(),qw(Ue))}function Ez(Ue){if(!(Mz(Ue)||$.props.trigger.indexOf("click")>=0&&a)){if($.props.interactive)return void $.hideWithInteractivity(Ue);qw(Ue)}}function Sz(Ue){$.props.trigger.indexOf("focusin")<0&&Ue.target!==Un()||$.props.interactive&&Ue.relatedTarget&&_e.contains(Ue.relatedTarget)||qw(Ue)}function Mz(Ue){return!!Ol.isTouch&&sn()!==Ue.type.indexOf("touch")>=0}function Tz(){Az();var Ue=$.props,jt=Ue.popperOptions,Dn=Ue.placement,Ti=Ue.offset,gi=Ue.getReferenceClientRect,lo=Ue.moveTransition,ma=Zt()?O0(_e).arrow:null,zp=gi?{getBoundingClientRect:gi,contextElement:gi.contextElement||Un()}:n,Ah=[{name:"offset",options:{offset:Ti}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!lo}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Kw){var $p=Kw.state;if(Zt()){var QT=$n().box;["placement","reference-hidden","escaped"].forEach(function(Yw){"placement"===Yw?QT.setAttribute("data-placement",$p.placement):$p.attributes.popper["data-popper-"+Yw]?QT.setAttribute("data-"+Yw,""):QT.removeAttribute("data-"+Yw)}),$p.attributes.popper={}}}}];Zt()&&ma&&Ah.push({name:"arrow",options:{element:ma,padding:3}}),Ah.push.apply(Ah,jt?.modifiers||[]),$.popperInstance=(0,JX.fi)(zp,_e,Object.assign({},jt,{placement:Dn,onFirstUpdate:D,modifiers:Ah}))}function Az(){$.popperInstance&&($.popperInstance.destroy(),$.popperInstance=null)}function ZT(){return Sp(_e.querySelectorAll("[data-tippy-root]"))}function kz(Ue){$.clearDelayTimeouts(),Ue&&kt("onTrigger",[$,Ue]),Qa();var jt=pt(!0),Dn=$t(),gi=Dn[1];Ol.isTouch&&"hold"===Dn[0]&&gi&&(jt=gi),jt?i=setTimeout(function(){$.show()},jt):$.show()}function qw(Ue){if($.clearDelayTimeouts(),kt("onUntrigger",[$,Ue]),$.state.isVisible){if(!($.props.trigger.indexOf("mouseenter")>=0&&$.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Ue.type)>=0&&a)){var jt=pt(!1);jt?r=setTimeout(function(){$.state.isVisible&&$.hide()},jt):s=requestAnimationFrame(function(){$.hide()})}}else Ja()}}function Yu(n,t){void 0===t&&(t={});var e=_o.plugins.concat(t.plugins||[]);!function uQ(){document.addEventListener("touchstart",lQ,qu),window.addEventListener("blur",cQ)}();var i=Object.assign({},t,{plugins:e}),l=function oQ(n){return R0(n)?[n]:function sQ(n){return pM(n,"NodeList")}(n)?Sp(n):Array.isArray(n)?n:Sp(document.querySelectorAll(n))}(n).reduce(function(h,m){var v=m&&wQ(m,i);return v&&h.push(v),h},[]);return R0(n)?l[0]:l}Yu.defaultProps=_o,Yu.setDefaultProps=function(t){Object.keys(t).forEach(function(i){_o[i]=t[i]})},Yu.currentInput=Ol,Object.assign({},eQ.Z,{effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow)}}),Yu.setDefaultProps({render:N2});const H2=Yu,AQ=["cy"];vv.use(QX);let kQ=(()=>{class n{constructor(e,i){this.visualisationService=e,this.minersToDeleteService=i,this.id2tip={},this.minersToDelete=[],this.activeEdges=[],this.cy=vv({}),this.visualisationSub1=this.visualisationService.getGraph().pipe(Hn(r=>{this.graph=r.graph,this.activeEdges=r.activeEdges})).subscribe(),this.cy.destroyed()||this.cy.destroy()}ngOnInit(){this.cy=vv({container:document.getElementById("cy"),style:[{selector:"node",style:{width:"20px",height:"20px","font-size":"5px","background-color":function(e){switch(e.data("value.type")){case 0:return"red";case 1:return"green";case 2:return"blue";default:return"orange"}},label:function(e){return e.id()}}},{selector:"edge",style:{width:1}},{selector:":parent",style:{"background-opacity":.333}}]}),this.createNodes(this.graph),this.createEdges(),this.visualisationSub2&&this.visualisationSub2.unsubscribe(),this.visualisationSub2=this.visualisationService.getGraph().pipe(Hn(e=>{this.updateNodes(e.graph),this.cy.remove("edge"),this.cy.forceRender(),this.createEdges(),this.makeTooltips(),this.cy.layout({name:"cose",animate:!1,randomize:!1,refresh:0,padding:50}).run(),this.cy.nodes().lock(),this.cy.nodes().on("click ",i=>{this.id2tip[i.target.id()].show()})})).subscribe()}createNodes(e){e.nodes.forEach(i=>{this.cy.add(i.nodeType===Ui.Miner?{data:{id:""+i.id,value:{mined:i.mined,money:i.money,type:i.nodeType,country:i.country,computingPower:i.computingPower,neighbours:i.neighbours}}}:{data:{id:""+i.id,value:{type:i.nodeType,neighbours:i.neighbours}}})})}createEdges(){this.cy.nodes().forEach(e=>{e.data("value.neighbours").forEach(i=>{const r=`${i}_${e.id()}`,s=`${e.id()}_${i}`;this.cy.getElementById(r).length>0||(this.cy.add({data:{id:e.id()+"_"+i,source:""+e.id(),target:""+i}}),this.activeEdges.forEach(a=>{a.edge===s&&a.ttl>0&&this.cy.getElementById(s).style({"line-color":"red"})}))})})}updateNodes(e){this.minersToDeleteSub&&this.minersToDeleteSub.unsubscribe(),this.minersToDeleteSub=this.minersToDeleteService.getMinersToDelete().subscribe(i=>{this.minersToDelete=i}),this.minersToDelete.forEach(i=>{this.cy.getElementById(i).remove()}),e.nodes.forEach(i=>{i.nodeType===Ui.Miner?this.cy.getElementById(""+i.id).id()==""+i.id?this.cy.getElementById(""+i.id).data("value",{computingPower:i.computingPower,country:i.country,mined:i.mined,money:i.money,type:i.nodeType,neighbours:i.neighbours}):(this.cy.getElementById(""+i.id).removeData(),this.cy.add({data:{id:""+i.id,value:{mined:i.mined,money:i.money,type:i.nodeType,country:i.country,computingPower:i.computingPower,neighbours:i.neighbours}}})):this.cy.getElementById(""+i.id).data("value",{type:i.nodeType,neighbours:i.neighbours})})}makeTooltips(){this.cy.nodes().forEach(e=>{let i=e.popperRef();this.id2tip[e.id()]=H2(document.createElement("div"),{getReferenceClientRect:i.getBoundingClientRect,trigger:"manual",placement:"bottom",content:()=>{let r=document.createElement("div");return r.setAttribute("style","font-size:1em; padding-top: 2vh"),e.data("value.type")===Ui.Miner&&(r.innerHTML=`Mined: ${e._private.data.value.mined}, Money: ${e._private.data.value.money}$, Power: ${e._private.data.value.computingPower}, Country: ${BF(e._private.data.value.country)}`),r}})})}ngOnDestroy(){this.visualisationSub1.unsubscribe(),this.visualisationSub2.unsubscribe(),this.minersToDeleteSub.unsubscribe(),null!==document.getElementById("cy")&&document.getElementById("cy").remove(),this.cy.destroy()}}return n.\u0275fac=function(e){return new(e||n)(P(pv),P(oM))},n.\u0275cmp=un({type:n,selectors:[["app-network"]],viewQuery:function(e,i){if(1&e&&hi(AQ,5),2&e){let r;Gt(r=Wt())&&(i.el=r.first)}},decls:12,vars:0,consts:[["fxLayout","row","fxLayoutAlign","start center",2,"padding-left","1vw"],[1,"miner"],[1,"full"],[1,"listening"],[1,"light"],[1,"line"],["id","cy"]],template:function(e,i){1&e&&(ce(0,"div",0),Oe(1," Miner node: "),rn(2,"span",1),Oe(3," Full node: "),rn(4,"span",2),Oe(5," Listening node: "),rn(6,"span",3),Oe(7," Light node: "),rn(8,"span",4),Oe(9," Active edge: "),rn(10,"span",5),he(),rn(11,"div",6))},dependencies:[Bo,Ka],styles:["#cy[_ngcontent-%COMP%]{width:100%;height:70%;position:relative;top:0;left:0}.miner[_ngcontent-%COMP%]{height:25px;width:25px;background-color:red;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.full[_ngcontent-%COMP%]{height:25px;width:25px;background-color:green;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.listening[_ngcontent-%COMP%]{height:25px;width:25px;background-color:#00f;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.light[_ngcontent-%COMP%]{height:25px;width:25px;background-color:orange;border-radius:50%;display:inline-block;margin-left:.5vw;margin-right:1vw}.line[_ngcontent-%COMP%]{height:3px;width:50px;background-color:red;display:inline-block;margin-left:.5vw;margin-right:1vw}"]}),n})();const RQ=[[["caption"]],[["colgroup"],["col"]]],OQ=["caption","colgroup, col"];function wM(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=bn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Mp=new Ie("CDK_TABLE");let Tp=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(P(zr))},n.\u0275dir=De({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Ap=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(P(zr))},n.\u0275dir=De({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),N0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(P(zr))},n.\u0275dir=De({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class NQ{}const BQ=wM(NQ);let Mc=(()=>{class n extends BQ{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=bn(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(P(Mp,8))},n.\u0275dir=De({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(zi(r,Tp,5),zi(r,Ap,5),zi(r,N0,5)),2&e){let s;Gt(s=Wt())&&(i.cell=s.first),Gt(s=Wt())&&(i.headerCell=s.first),Gt(s=Wt())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[gn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ne]}),n})();class CM{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let xM=(()=>{class n extends CM{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(P(Mc),P(Et))},n.\u0275dir=De({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ne]}),n})(),DM=(()=>{class n extends CM{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(P(Mc),P(Et))},n.\u0275dir=De({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ne]}),n})();class $2{constructor(){this.tasks=[],this.endTasks=[]}}const EM=new Ie("_COALESCED_STYLE_SCHEDULER");let j2=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ge}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new $2,this._getScheduleObservable().pipe(zn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new $2;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?ai(Promise.resolve(void 0)):this._ngZone.onStable.pipe(gr(1))}}return n.\u0275fac=function(e){return new(e||n)(le(Yt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),SM=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof bv?e.headerCell.template:this instanceof wv?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(P(zr),P(Tl))},n.\u0275dir=De({type:n,features:[Yi]}),n})();class VQ extends SM{}const HQ=wM(VQ);let bv=(()=>{class n extends HQ{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(P(zr),P(Tl),P(Mp,8))},n.\u0275dir=De({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Ne,Yi]}),n})();class zQ extends SM{}const $Q=wM(zQ);let wv=(()=>{class n extends $Q{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(P(zr),P(Tl),P(Mp,8))},n.\u0275dir=De({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Ne,Yi]}),n})(),B0=(()=>{class n extends SM{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(P(zr),P(Tl),P(Mp,8))},n.\u0275dir=De({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Ne]}),n})(),Tc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(P(Zr))},n.\u0275dir=De({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&Dl(0,0)},dependencies:[Tc],encapsulation:2}),n})(),AM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&Dl(0,0)},dependencies:[Tc],encapsulation:2}),n})(),V0=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(P(zr))},n.\u0275dir=De({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const U2=["top","bottom","left","right"];class jQ{constructor(t,e,i,r,s=!0,a=!0,l){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(D=>D)&&!i.some(D=>D))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,l=this._getCellWidths(s,r),h=this._getStickyStartColumnPositions(l,e),m=this._getStickyEndColumnPositions(l,i),v=e.lastIndexOf(!0),C=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const D="rtl"===this.direction,T=D?"right":"left",k=D?"left":"right";for(const O of t)for(let B=0;B<a;B++){const V=O.children[B];e[B]&&this._addStickyStyle(V,T,h[B],B===v),i[B]&&this._addStickyStyle(V,k,m[B],B===C)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:l.slice(0,v+1).map((O,B)=>e[B]?O:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===C?[]:l.slice(C).map((O,B)=>i[B+C]?O:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],l=[],h=[];for(let v=0,C=0;v<r.length;v++){if(!s[v])continue;a[v]=C;const D=r[v];h[v]=this._isNativeHtmlTable?Array.from(D.children):[D];const T=D.getBoundingClientRect().height;C+=T,l[v]=T}const m=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let v=0;v<r.length;v++){if(!s[v])continue;const C=a[v],D=v===m;for(const T of h[v])this._addStickyStyle(T,i,C,D)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:a,elements:h}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:a,elements:h})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);U2.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of U2)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const kM=new Ie("CDK_SPL");let H0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(P(Zr),P(Et))},n.\u0275dir=De({type:n,selectors:[["","rowOutlet",""]]}),n})(),z0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(P(Zr),P(Et))},n.\u0275dir=De({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),$0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(P(Zr),P(Et))},n.\u0275dir=De({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),j0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(P(Zr),P(Et))},n.\u0275dir=De({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),U0=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,T){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=h,this._viewRepeater=m,this._coalescedStyleScheduler=v,this._viewportRuler=C,this._stickyPositioningListener=D,this._ngZone=T,this._onDestroy=new Ge,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new dn,this.viewChange=new yi({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=l,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=bn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=bn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(zn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),eM(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&Yt.isInAngularZone()?this._ngZone.onStable.pipe(gr(1),zn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let l=0;l<i.length;l++)this._renderRows[l].rowDef===s&&a.push(i[l]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<a.length;l++){let h=a[l];const m=this._cachedRenderRowsMap.get(h.data);m.has(h.rowDef)?m.get(h.rowDef).push(h):m.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const l=r&&r.has(a)?r.get(a):[];if(l.length){const h=l.shift();return h.dataIndex=i,h}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),G0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=G0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=G0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=G0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,l)=>a||!!l.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],eM(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;eM(this.dataSource)?e=this.dataSource.connect(this):function IQ(n){return!!n&&(n instanceof tt||j(n.lift)&&j(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ft(this.dataSource)),this._renderChangeSubscription=e.pipe(zn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(l=>this._columnDefsByName.get(l)),s=r.map(l=>l.sticky),a=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Tc.mostRecentCellOutlet&&Tc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new jQ(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ft()).pipe(zn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(P(Tl),P(Mr),P(Et),_s("role"),P(yo,8),P(hn),P(vr),P(lv),P(EM),P(sh),P(kM,12),P(Yt,8))},n.\u0275cmp=un({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(zi(r,V0,5),zi(r,Mc,5),zi(r,B0,5),zi(r,bv,5),zi(r,wv,5)),2&e){let s;Gt(s=Wt())&&(i._noDataRow=s.first),Gt(s=Wt())&&(i._contentColumnDefs=s),Gt(s=Wt())&&(i._contentRowDefs=s),Gt(s=Wt())&&(i._contentHeaderRowDefs=s),Gt(s=Wt())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(hi(H0,7),hi(z0,7),hi($0,7),hi(j0,7)),2&e){let r;Gt(r=Wt())&&(i._rowOutlet=r.first),Gt(r=Wt())&&(i._headerRowOutlet=r.first),Gt(r=Wt())&&(i._footerRowOutlet=r.first),Gt(r=Wt())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&di("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[gn([{provide:Mp,useExisting:n},{provide:lv,useClass:TN},{provide:EM,useClass:j2},{provide:kM,useValue:null}])],ngContentSelectors:OQ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(Po(RQ),er(0),er(1,1),Dl(2,0)(3,1)(4,2)(5,3))},dependencies:[H0,z0,$0,j0],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function G0(n,t){return n.concat(Array.from(t))}let GQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[wS]}),n})();const WQ=[[["caption"]],[["colgroup"],["col"]]],qQ=["caption","colgroup, col"];let W2=(()=>{class n extends U0{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=un({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&di("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[gn([{provide:lv,useClass:TN},{provide:U0,useExisting:n},{provide:Mp,useExisting:n},{provide:EM,useClass:j2},{provide:kM,useValue:null}]),Ne],ngContentSelectors:qQ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(Po(WQ),er(0),er(1,1),Dl(2,0)(3,1)(4,2)(5,3))},dependencies:[H0,z0,$0,j0],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),IM=(()=>{class n extends Tp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","matCellDef",""]],features:[gn([{provide:Tp,useExisting:n}]),Ne]}),n})(),RM=(()=>{class n extends Ap{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","matHeaderCellDef",""]],features:[gn([{provide:Ap,useExisting:n}]),Ne]}),n})(),OM=(()=>{class n extends Mc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[gn([{provide:Mc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ne]}),n})(),PM=(()=>{class n extends xM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Ne]}),n})(),FM=(()=>{class n extends DM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Ne]}),n})(),q2=(()=>{class n extends bv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[gn([{provide:bv,useExisting:n}]),Ne]}),n})(),K2=(()=>{class n extends B0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[gn([{provide:B0,useExisting:n}]),Ne]}),n})(),Y2=(()=>{class n extends MM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=un({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[gn([{provide:MM,useExisting:n}]),Ne],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&Dl(0,0)},dependencies:[Tc],encapsulation:2}),n})(),Z2=(()=>{class n extends AM{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=bt(n)))(i||n)}}(),n.\u0275cmp=un({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[gn([{provide:AM,useExisting:n}]),Ne],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&Dl(0,0)},dependencies:[Tc],encapsulation:2}),n})(),iJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[GQ,fi,fi]}),n})();class X2 extends class sJ extends class hZ{}{constructor(t=[]){super(),this._renderData=new yi([]),this._filter=new yi(""),this._internalPageChanges=new Ge,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(HF(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,l)=>{let h=this.sortingDataAccessor(a,r),m=this.sortingDataAccessor(l,r);const v=typeof h,C=typeof m;v!==C&&("number"===v&&(h+=""),"number"===C&&(m+=""));let D=0;return null!=h&&null!=m?h>m?D=1:h<m&&(D=-1):null!=h?D=1:null!=m&&(D=-1),D*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,l)=>a+e[l]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new yi(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?rr(this._sort.sortChange,this._sort.initialized):Ft(null),e=this._paginator?rr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ft(null),r=Qf([this._data,this._filter]).pipe(vt(([l])=>this._filterData(l))),s=Qf([r,t]).pipe(vt(([l])=>this._orderData(l))),a=Qf([s,e]).pipe(vt(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(l=>this._renderData.next(l))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}function oJ(n,t){if(1&n&&(ce(0,"mat-option",9),Oe(1),he()),2&n){const e=t.$implicit;Ke("value",e.enumName),ke(1),Hi(e.name)}}let aJ=(()=>{class n{constructor(e,i,r,s){this.dialogRef=e,this.formBuilder=i,this.visualizationService=r,this.data=s,this.minerMoneyFC=new Ar(this.data.miner.money,[_i.required,_i.min(1)]),this.minerPowerFC=new Ar(this.data.miner.computingPower,[_i.required,_i.min(1),_i.max(10)]),this.minerCountryFC=new Ar(this.data.miner.country,[_i.required]),this.form=this.formBuilder.group({minerMoneyFC:this.minerMoneyFC,minerPowerFC:this.minerPowerFC,minerCountryFC:this.minerCountryFC}),this.graph=new ua(new Map),this.COUNTRIES=so,this.minerToEdit=s.miner}ngOnInit(){this.visualizationService.getGraph().subscribe(e=>{this.graph=e.graph})}formValidation(){return this.form.valid}minerEdited(){this.graph.nodes.get(this.minerToEdit.id).money=this.minerMoneyFC.value,this.graph.nodes.get(this.minerToEdit.id).computingPower=this.minerPowerFC.value,this.graph.nodes.get(this.minerToEdit.id).country=this.minerCountryFC.value,this.dialogRef.close(this.graph)}}return n.\u0275fac=function(e){return new(e||n)(P(dv),P(hS),P(pv),P(iM))},n.\u0275cmp=un({type:n,selectors:[["app-edit-miner"]],decls:30,vars:3,consts:[["fxLayout","column","fxLayoutAlign","space-evenly center","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","minerMoneyFC","matInput",""],["type","number","formControlName","minerPowerFC","matInput",""],["formControlName","minerCountryFC"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-dialog-close",""],[3,"value"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"h2"),Oe(2,"Edit parameters of the selected miner"),he(),ce(3,"div",1)(4,"mat-form-field")(5,"mat-label"),Oe(6,"Amount of miner's money $:"),he(),rn(7,"input",2),ce(8,"mat-error"),Oe(9,"Number must be greater than 1"),he()(),ce(10,"mat-form-field")(11,"mat-label"),Oe(12,"Miner computing power TFlops:"),he(),rn(13,"input",3),ce(14,"mat-error"),Oe(15,"Enter a value between 1 and 10"),he()(),ce(16,"mat-form-field")(17,"mat-label"),Oe(18,"Country:"),he(),ce(19,"mat-select",4),St(20,oJ,2,2,"mat-option",5),he()()(),ce(21,"div",6)(22,"button",7),Vt("click",function(){return i.minerEdited()}),Oe(23," Done "),ce(24,"mat-icon"),Oe(25,"done"),he()(),ce(26,"button",8),Oe(27," Cancel "),ce(28,"mat-icon"),Oe(29,"close"),he()()()()),2&e&&(ke(3),Ke("formGroup",i.form),ke(17),Ke("ngForOf",i.COUNTRIES),ke(2),Ke("disabled",!i.formValidation()))},dependencies:[qd,Bo,Uu,Ka,YS,wp,ch,av,xc,JS,ap,Bm,lp,Bb,$u,zm,rM,xp,ah]}),n})();function lJ(n,t){1&n&&(ce(0,"mat-error"),Oe(1,"Number must be greater than 0"),he())}function cJ(n,t){if(1&n&&(ce(0,"mat-option",14),Oe(1),he()),2&n){const e=t.$implicit;Ke("value",e.enumName),ke(1),k_("",e.name," - electricity price multiplier: ",e.electricityPrice," / month")}}function uJ(n,t){if(1&n&&(Qi(0),ce(1,"div",9)(2,"mat-form-field"),rn(3,"input",10),ce(4,"mat-error"),Oe(5,"Enter a value between 1 and 10"),he()(),ce(6,"mat-form-field"),rn(7,"input",11),ce(8,"mat-error"),Oe(9,"Enter a value between 0 and 100000"),he()(),ce(10,"mat-form-field")(11,"mat-select",12),St(12,cJ,2,3,"mat-option",13),he()()(),Ji()),2&n){const e=t.index,i=Nn();ke(1),Ke("formGroupName",e),ke(11),Ke("ngForOf",i.COUNTRIES)}}let dJ=(()=>{class n{constructor(e,i,r){this.formBuilder=e,this.dialogRef=i,this.data=r,this.numberOfMinersFC=new Ar(1,[_i.required,_i.min(1)]),this.minersFormArray=this.formBuilder.array([]),this.form=this.formBuilder.group({numberOfMinersFC:this.numberOfMinersFC,miners:this.minersFormArray}),this.minerNodesBeforeChange=1,this.COUNTRIES=so}get miners(){return this.form.controls.miners}ngOnInit(){this.miners.push(this.getDefaultMinerFormGroup()),this.numberOfMinersFC.valueChanges.pipe(Hn(e=>{this.numberOfMinersFC.invalid&&(this.miners.clear(),this.minerNodesBeforeChange=0)})).subscribe(),this.form.markAllAsTouched()}formValidation(){return this.form.valid}setMinersNumber(){const e=this.minerNodesBeforeChange,i=this.numberOfMinersFC.value;if(e<i)for(let r=e;r<i;r++)this.miners.push(this.getDefaultMinerFormGroup());else for(let r=e;r>i;r--)this.miners.removeAt(this.miners.length-1);this.minerNodesBeforeChange=i,this.form.markAllAsTouched()}getDefaultMinerFormGroup(){return this.formBuilder.group({power:new Ar(1,[_i.required,_i.min(1),_i.max(10)]),country:new Ar("POLAND",[_i.required]),money:new Ar(100,[_i.required,_i.min(0),_i.max(1e5)])})}onClick(){this.dialogRef.close(this.miners.value)}}return n.\u0275fac=function(e){return new(e||n)(P(hS),P(dv),P(iM))},n.\u0275cmp=un({type:n,selectors:[["app-add-miner"]],decls:19,vars:5,consts:[["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","20px"],["fxLayout","column","fxLayoutGap","20px",2,"width","200px","margin","20px",3,"formGroup"],["type","number","formControlName","numberOfMinersFC","matInput","",3,"change"],[4,"ngIf"],["formArrayName","miners"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","mat-dialog-close",""],["fxLayout","row","fxLayoutGap","10px",3,"formGroupName"],["matInput","","type","number","formControlName","power","placeholder","Computing power TFlops"],["matInput","","type","number","formControlName","money","placeholder","Initial budget $"],["formControlName","country","placeholder","Country"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"div",1)(2,"mat-form-field")(3,"mat-label"),Oe(4,"Number of miner nodes:"),he(),ce(5,"input",2),Vt("change",function(){return i.setMinersNumber()}),he(),St(6,lJ,2,0,"mat-error",3),he(),Qi(7,4),St(8,uJ,13,2,"ng-container",5),Ji(),he(),ce(9,"div",6)(10,"button",7),Vt("click",function(){return i.onClick()}),ce(11,"span"),Oe(12),he(),ce(13,"mat-icon"),Oe(14,"add"),he()(),ce(15,"button",8),Oe(16," Cancel "),ce(17,"mat-icon"),Oe(18,"close"),he()()()()),2&e&&(ke(1),Ke("formGroup",i.form),ke(5),Ke("ngIf",i.numberOfMinersFC.errors),ke(2),Ke("ngForOf",i.miners.controls),ke(2),Ke("disabled",!i.formValidation()),ke(2),ar("Add ",i.numberOfMinersFC.value," new miner/s "))},dependencies:[qd,Pu,Bo,Uu,Ka,YS,wp,ch,av,xc,JS,ap,Bm,lp,Bb,$u,zm,Vm,Hm,rM,xp,ah]}),n})();const hJ=["tooltip"],Q2="tooltip-panel",J2=nh({passive:!0}),eB=new Ie("mat-tooltip-scroll-strategy"),mJ={provide:eB,deps:[la],useFactory:function gJ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},vJ=new Ie("mat-tooltip-default-options",{providedIn:"root",factory:function yJ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let _J=(()=>{class n{constructor(e,i,r,s,a,l,h,m,v,C,D,T){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=l,this._ariaDescriber=h,this._focusMonitor=m,this._dir=C,this._defaultOptions=D,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ge,this._scrollStrategy=v,this._document=T,D&&(D.position&&(this.position=D.position),D.touchGestures&&(this.touchGestures=D.touchGestures)),C.change.pipe(zn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=bn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=oo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=oo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(zn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,J2)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new hp(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(zn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(zn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${Q2}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(zn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(zn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(zn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Rl(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(gr(1),zn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const l=this._overlayRef;if(l){const h=`${this._cssClassPrefix}-${Q2}-`;l.removePanelClass(h+this._currentPosition),l.addPanelClass(h+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,J2)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Au()},n.\u0275dir=De({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),tB=(()=>{class n extends _J{constructor(e,i,r,s,a,l,h,m,v,C,D,T){super(e,i,r,s,a,l,h,m,v,C,D,T),this._tooltipComponent=wJ}}return n.\u0275fac=function(e){return new(e||n)(P(la),P(Et),P(qF),P(Zr),P(Yt),P(vr),P(gL),P(Wa),P(eB),P(yo,8),P(vJ,8),P(hn))},n.\u0275dir=De({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Ne]}),n})(),bJ=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Ge,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(P(Mr),P(Xr,8))},n.\u0275dir=De({type:n}),n})(),wJ=(()=>{class n extends bJ{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(P(Mr),P(c0),P(Xr,8))},n.\u0275cmp=un({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&hi(hJ,7),2&e){let r;Gt(r=Wt())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&Vt("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&fc("zoom",i.isVisible()?1:null)},features:[Ne],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(ce(0,"div",0,1),Vt("animationend",function(s){return i._handleAnimationEnd(s)}),pc(2,"async"),Oe(3),he()),2&e){let r;di("mat-tooltip-handset",null==(r=gc(2,4,i._isHandset))?null:r.matches),Ke("ngClass",i.tooltipClass),ke(3),Hi(i.message)}},dependencies:[fm,HR],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[mJ],imports:[PS,ja,Zm,fi,fi,Jb]}),n})();function CJ(n,t){if(1&n&&(ce(0,"mat-option",19),Oe(1),he()),2&n){const e=t.$implicit;Ke("value",e),ke(1),ar(" ",e," ")}}function xJ(n,t){if(1&n){const e=La();ce(0,"mat-form-field",16)(1,"mat-select",17),Vt("selectionChange",function(r){return Ks(e),ii(Nn(2)._changePageSize(r.value))}),St(2,CJ,2,2,"mat-option",18),he()()}if(2&n){const e=Nn(2);Ke("appearance",e._formFieldAppearance)("color",e.color),ke(1),Ke("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),ke(1),Ke("ngForOf",e._displayedPageSizeOptions)}}function DJ(n,t){if(1&n&&(ce(0,"div",20),Oe(1),he()),2&n){const e=Nn(2);ke(1),Hi(e.pageSize)}}function EJ(n,t){if(1&n&&(ce(0,"div",12)(1,"div",13),Oe(2),he(),St(3,xJ,3,8,"mat-form-field",14),St(4,DJ,2,1,"div",15),he()),2&n){const e=Nn();ke(2),ar(" ",e._intl.itemsPerPageLabel," "),ke(1),Ke("ngIf",e._displayedPageSizeOptions.length>1),ke(1),Ke("ngIf",e._displayedPageSizeOptions.length<=1)}}function SJ(n,t){if(1&n){const e=La();ce(0,"button",21),Vt("click",function(){return Ks(e),ii(Nn().firstPage())}),ta(),ce(1,"svg",7),rn(2,"path",22),he()()}if(2&n){const e=Nn();Ke("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),Wn("aria-label",e._intl.firstPageLabel)}}function MJ(n,t){if(1&n){const e=La();ta(),ef(),ce(0,"button",23),Vt("click",function(){return Ks(e),ii(Nn().lastPage())}),ta(),ce(1,"svg",7),rn(2,"path",24),he()()}if(2&n){const e=Nn();Ke("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),Wn("aria-label",e._intl.lastPageLabel)}}let W0=(()=>{class n{constructor(){this.changes=new Ge,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AJ={provide:W0,deps:[[new Js,new vl,W0]],useFactory:function TJ(n){return n||new W0}},IJ=new Ie("MAT_PAGINATOR_DEFAULT_OPTIONS"),RJ=ju(AL(class{}));let OJ=(()=>{class n extends RJ{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new dn,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:a,hidePageSize:l,showFirstLastButtons:h}=r;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=l&&(this._hidePageSize=l),null!=h&&(this._showFirstLastButtons=h)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(oo(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=oo(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(oo(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>oo(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=bn(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=bn(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){Au()},n.\u0275dir=De({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[Ne]}),n})(),PJ=(()=>{class n extends OJ{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(P(W0),P(Mr),P(IJ,8))},n.\u0275cmp=un({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[Ne],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"div",1),St(2,EJ,5,3,"div",2),ce(3,"div",3)(4,"div",4),Oe(5),he(),St(6,SJ,3,5,"button",5),ce(7,"button",6),Vt("click",function(){return i.previousPage()}),ta(),ce(8,"svg",7),rn(9,"path",8),he()(),ef(),ce(10,"button",9),Vt("click",function(){return i.nextPage()}),ta(),ce(11,"svg",7),rn(12,"path",10),he()(),St(13,MJ,3,5,"button",11),he()()()),2&e&&(ke(2),Ke("ngIf",!i.hidePageSize),ke(3),ar(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),ke(1),Ke("ngIf",i.showFirstLastButtons),ke(1),Ke("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),Wn("aria-label",i._intl.previousPageLabel),ke(3),Ke("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),Wn("aria-label",i._intl.nextPageLabel),ke(3),Ke("ngIf",i.showFirstLastButtons))},dependencies:[qd,Pu,xc,wp,xp,ah,tB],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),FJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[AJ],imports:[ja,BS,FN,nB,fi]}),n})();const LJ=["mat-sort-header",""];function NJ(n,t){if(1&n){const e=La();ce(0,"div",3),Vt("@arrowPosition.start",function(){return Ks(e),ii(Nn()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return Ks(e),ii(Nn()._disableViewStateAnimation=!1)}),rn(1,"div",4),ce(2,"div",5),rn(3,"div",6)(4,"div",7)(5,"div",8),he()()}if(2&n){const e=Nn();Ke("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),ke(2),Ke("@indicator",e._getArrowDirectionState()),ke(1),Ke("@leftPointer",e._getArrowDirectionState()),ke(1),Ke("@rightPointer",e._getArrowDirectionState())}}const BJ=["*"],iB=new Ie("MAT_SORT_DEFAULT_OPTIONS"),VJ=AL(ju(class{}));let rB=(()=>{class n extends VJ{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Ge,this.start="asc",this._direction="",this.sortChange=new dn}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=bn(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function HJ(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(P(iB,8))},n.\u0275dir=De({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Ne,Yi]}),n})();const Zu=f7.ENTERING+" "+h7.STANDARD_CURVE,kp={indicator:No("indicator",[$i("active-asc, asc",xn({transform:"translateY(0px)"})),$i("active-desc, desc",xn({transform:"translateY(10px)"})),cr("active-asc <=> active-desc",kr(Zu))]),leftPointer:No("leftPointer",[$i("active-asc, asc",xn({transform:"rotate(-45deg)"})),$i("active-desc, desc",xn({transform:"rotate(45deg)"})),cr("active-asc <=> active-desc",kr(Zu))]),rightPointer:No("rightPointer",[$i("active-asc, asc",xn({transform:"rotate(45deg)"})),$i("active-desc, desc",xn({transform:"rotate(-45deg)"})),cr("active-asc <=> active-desc",kr(Zu))]),arrowOpacity:No("arrowOpacity",[$i("desc-to-active, asc-to-active, active",xn({opacity:1})),$i("desc-to-hint, asc-to-hint, hint",xn({opacity:.54})),$i("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",xn({opacity:0})),cr("* => asc, * => desc, * => active, * => hint, * => void",kr("0ms")),cr("* <=> *",kr(Zu))]),arrowPosition:No("arrowPosition",[cr("* => desc-to-hint, * => desc-to-active",kr(Zu,tv([xn({transform:"translateY(-25%)"}),xn({transform:"translateY(0)"})]))),cr("* => hint-to-desc, * => active-to-desc",kr(Zu,tv([xn({transform:"translateY(0)"}),xn({transform:"translateY(25%)"})]))),cr("* => asc-to-hint, * => asc-to-active",kr(Zu,tv([xn({transform:"translateY(25%)"}),xn({transform:"translateY(0)"})]))),cr("* => hint-to-asc, * => active-to-asc",kr(Zu,tv([xn({transform:"translateY(0)"}),xn({transform:"translateY(-25%)"})]))),$i("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",xn({transform:"translateY(0)"})),$i("hint-to-desc, active-to-desc, desc",xn({transform:"translateY(-25%)"})),$i("hint-to-asc, active-to-asc, asc",xn({transform:"translateY(25%)"}))]),allowChildren:No("allowChildren",[cr("* <=> *",[m0("@*",g0(),{optional:!0})])])};let q0=(()=>{class n{constructor(){this.changes=new Ge}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $J={provide:q0,deps:[[new Js,new vl,q0]],useFactory:function zJ(n){return n||new q0}},jJ=ju(class{});let UJ=(()=>{class n extends jJ{constructor(e,i,r,s,a,l,h,m){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=s,this._focusMonitor=a,this._elementRef=l,this._ariaDescriber=h,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",m?.arrowPosition&&(this.arrowPosition=m?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=bn(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=rr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(P(q0),P(Mr),P(rB,8),P("MAT_SORT_HEADER_COLUMN_DEF",8),P(Wa),P(Et),P(gL,8),P(iB,8))},n.\u0275cmp=un({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&Vt("click",function(){return i._handleClick()})("keydown",function(s){return i._handleKeydown(s)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(Wn("aria-sort",i._getAriaSortAttribute()),di("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[Ne],attrs:LJ,ngContentSelectors:BJ,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(Po(),ce(0,"div",0)(1,"div",1),er(2),he(),St(3,NJ,6,6,"div",2),he()),2&e&&(di("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),Wn("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),ke(3),Ke("ngIf",i._renderArrow()))},dependencies:[Pu],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[kp.indicator,kp.leftPointer,kp.rightPointer,kp.arrowOpacity,kp.arrowPosition,kp.allowChildren]},changeDetection:0}),n})(),GJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:[$J],imports:[ja,fi]}),n})();const WJ=["activeMinersPaginator"],qJ=["deadMinersPaginator"],KJ=["activeMinersSort"],YJ=["deadMinersSort"];function ZJ(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"ID"),he())}function XJ(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),he()),2&n){const e=t.$implicit;ke(1),Hi(e.id)}}function QJ(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Money"),he())}function JJ(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),pc(2,"currency"),he()),2&n){const e=t.$implicit;ke(1),Hi(gc(2,1,e.money))}}function eee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Computing power"),he())}function tee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),he()),2&n){const e=t.$implicit;ke(1),ar("",e.computingPower," TFlops")}}function nee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Blocks mined"),he())}function iee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),he()),2&n){const e=t.$implicit;ke(1),Hi(e.mined)}}function ree(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Country"),he())}function see(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),he()),2&n){const e=t.$implicit,i=Nn();ke(1),Hi(i.getCountryName(e.country))}}function oee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Electricity price (per month)"),he())}function aee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),pc(2,"currency"),he()),2&n){const e=t.$implicit,i=Nn();ke(1),Hi(gc(2,1,i.calculateElectricity(e.country)))}}function lee(n,t){1&n&&(ce(0,"mat-header-cell"),Oe(1,"Actions"),he())}function cee(n,t){if(1&n){const e=La();ce(0,"mat-cell")(1,"button",22),Vt("click",function(){const s=Ks(e).$implicit;return ii(Nn().edit(s))}),ce(2,"mat-icon"),Oe(3,"edit"),he()()()}}function uee(n,t){1&n&&rn(0,"mat-header-row")}function dee(n,t){1&n&&rn(0,"mat-row")}function hee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"ID"),he())}function fee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),he()),2&n){const e=t.$implicit;ke(1),Hi(e.id)}}function pee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Money"),he())}function gee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),pc(2,"currency"),he()),2&n){const e=t.$implicit;ke(1),Hi(gc(2,1,e.money))}}function mee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Computing power"),he())}function vee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),he()),2&n){const e=t.$implicit;ke(1),ar("",e.computingPower," TFlops")}}function yee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Blocks mined"),he())}function _ee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),he()),2&n){const e=t.$implicit;ke(1),Hi(e.mined)}}function bee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Country"),he())}function wee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),he()),2&n){const e=t.$implicit,i=Nn();ke(1),Hi(i.getCountryName(e.country))}}function Cee(n,t){1&n&&(ce(0,"mat-header-cell",21),Oe(1,"Electricity price (per month) "),he())}function xee(n,t){if(1&n&&(ce(0,"mat-cell"),Oe(1),pc(2,"currency"),he()),2&n){const e=t.$implicit,i=Nn();ke(1),Hi(gc(2,1,i.calculateElectricity(e.country)))}}function Dee(n,t){1&n&&rn(0,"mat-header-row")}function Eee(n,t){1&n&&rn(0,"mat-row")}const sB=function(){return[5,10,20]};let See=(()=>{class n{constructor(e,i,r,s,a,l){this.simulationService=e,this.minerService=i,this.parametersService=r,this.minersDeletingService=s,this.dialog=a,this.visualizationService=l,this.minerList=new X2,this.deadMinerList=new X2,this.displayedColumns=["id","money","power","mined","country","electricity","edit"],this.displayedColumnsWithoutEdit=["id","money","power","mined","country","electricity"],this.minerList.data=this.simulationService.getMiners(),this.deadMinerList.data=this.simulationService.deadMiners}ngOnDestroy(){this.minerDataSub.unsubscribe(),this.deadMinerDataSub.unsubscribe()}ngAfterViewInit(){this.minerList.paginator=this.activeMinersPaginator,this.minerList.sort=this.activeMinersSort,this.deadMinerList.paginator=this.deadMinersPaginator,this.deadMinerList.sort=this.deadMinersSort,this.getData(),this.getDeadMinersData()}calculateElectricity(e){return NF(e)*this.parametersService.getElectricityPrice()}getCountryName(e){return BF(e)}getData(){this.minerDataSub&&this.minerDataSub.unsubscribe(),this.minerDataSub=this.minerService.get().pipe(Hn(()=>{this.minerList.data=this.simulationService.getMiners(),this.deadMinerList.data=this.simulationService.deadMiners}),Ga(e=>(console.log(e.error.error),Ft({})))).subscribe()}getDeadMinersData(){this.deadMinerDataSub&&this.deadMinerDataSub.unsubscribe(),this.deadMinerDataSub=this.minersDeletingService.getMinersToDelete().pipe(Hn(()=>{this.deadMinerList.data=this.simulationService.deadMiners}),Ga(e=>(console.log(e.error.error),Ft({})))).subscribe()}edit(e){this.dialog.open(aJ,{width:"700px",data:{miner:e}}).afterClosed().subscribe(r=>{r&&this.visualizationService.emitGraph(r)})}addMiner(){this.dialog.open(dJ,{width:"700px"}).afterClosed().subscribe(i=>{if(i){for(var r=0;r<i.length;r++)this.simulationService.addNewMinerWithParams(i[r].country,i[r].money,i[r].power);this.getData(),this.getDeadMinersData()}})}}return n.\u0275fac=function(e){return new(e||n)(P(e2),P(QN),P(yp),P(oM),P(hv),P(pv))},n.\u0275cmp=un({type:n,selectors:[["app-miners"]],viewQuery:function(e,i){if(1&e&&(hi(WJ,5),hi(qJ,5),hi(KJ,5),hi(YJ,5)),2&e){let r;Gt(r=Wt())&&(i.activeMinersPaginator=r.first),Gt(r=Wt())&&(i.deadMinersPaginator=r.first),Gt(r=Wt())&&(i.activeMinersSort=r.first),Gt(r=Wt())&&(i.deadMinersSort=r.first)}},decls:64,vars:10,consts:[[1,"container"],[1,"activeHeader"],["mat-raised-button","","color","accent",2,"margin-left","30px",3,"click"],["matSort","",3,"dataSource"],["activeMinersSort","matSort"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","money"],["matColumnDef","power"],["matColumnDef","mined"],["matColumnDef","country"],["matColumnDef","electricity"],["matColumnDef","edit"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["activeMinersPaginator",""],["deadMinersSort","matSort"],["deadMinersPaginator",""],["mat-sort-header",""],["mat-icon-button","","matTooltip","Edytuj","matTooltipPosition","right",3,"click"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"div",1)(2,"span"),Oe(3,"Active miners"),he(),ce(4,"button",2),Vt("click",function(){return i.addMiner()}),ce(5,"span"),Oe(6,"Add miner"),he(),ce(7,"mat-icon"),Oe(8,"add"),he()()(),ce(9,"mat-table",3,4),Qi(11,5),St(12,ZJ,2,0,"mat-header-cell",6),St(13,XJ,2,1,"mat-cell",7),Ji(),Qi(14,8),St(15,QJ,2,0,"mat-header-cell",6),St(16,JJ,3,3,"mat-cell",7),Ji(),Qi(17,9),St(18,eee,2,0,"mat-header-cell",6),St(19,tee,2,1,"mat-cell",7),Ji(),Qi(20,10),St(21,nee,2,0,"mat-header-cell",6),St(22,iee,2,1,"mat-cell",7),Ji(),Qi(23,11),St(24,ree,2,0,"mat-header-cell",6),St(25,see,2,1,"mat-cell",7),Ji(),Qi(26,12),St(27,oee,2,0,"mat-header-cell",6),St(28,aee,3,3,"mat-cell",7),Ji(),Qi(29,13),St(30,lee,2,0,"mat-header-cell",14),St(31,cee,4,0,"mat-cell",7),Ji(),St(32,uee,1,0,"mat-header-row",15),St(33,dee,1,0,"mat-row",16),he(),rn(34,"mat-paginator",17,18),ce(36,"span"),Oe(37,"Removed miners"),he(),rn(38,"br")(39,"br"),ce(40,"mat-table",3,19),Qi(42,5),St(43,hee,2,0,"mat-header-cell",6),St(44,fee,2,1,"mat-cell",7),Ji(),Qi(45,8),St(46,pee,2,0,"mat-header-cell",6),St(47,gee,3,3,"mat-cell",7),Ji(),Qi(48,9),St(49,mee,2,0,"mat-header-cell",6),St(50,vee,2,1,"mat-cell",7),Ji(),Qi(51,10),St(52,yee,2,0,"mat-header-cell",6),St(53,_ee,2,1,"mat-cell",7),Ji(),Qi(54,11),St(55,bee,2,0,"mat-header-cell",6),St(56,wee,2,1,"mat-cell",7),Ji(),Qi(57,12),St(58,Cee,2,0,"mat-header-cell",6),St(59,xee,3,3,"mat-cell",7),Ji(),St(60,Dee,1,0,"mat-header-row",15),St(61,Eee,1,0,"mat-row",16),he(),rn(62,"mat-paginator",17,20),he()),2&e&&(ke(9),Ke("dataSource",i.minerList),ke(23),Ke("matHeaderRowDef",i.displayedColumns),ke(1),Ke("matRowDefColumns",i.displayedColumns),ke(1),Ke("pageSizeOptions",yD(8,sB)),ke(6),Ke("dataSource",i.deadMinerList),ke(20),Ke("matHeaderRowDef",i.displayedColumnsWithoutEdit),ke(1),Ke("matRowDefColumns",i.displayedColumnsWithoutEdit),ke(1),Ke("pageSizeOptions",yD(9,sB)))},dependencies:[W2,RM,q2,OM,IM,K2,PM,FM,Y2,Z2,av,xc,PJ,rB,UJ,tB,rE],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw;font-size:x-large}.activeHeader[_ngcontent-%COMP%]{position:relative;display:inline-block}"]}),n})();const Mee=["*",[["mat-card-footer"]]],Tee=["*","mat-card-footer"];let Aee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=De({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),kee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=De({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Iee=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(P(Xr,8))},n.\u0275cmp=un({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&di("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Tee,decls:2,vars:0,template:function(e,i){1&e&&(Po(Mee),er(0),er(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),Ree=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[fi,fi]}),n})(),Oee=(()=>{class n{constructor(e){this.parametersService=e,this.electricityPrice=1,this.frequency=1,this.reward=5}ngOnInit(){this.setSliders()}setSliders(){this.electricityPrice=this.parametersService.getElectricityPrice(),this.reward=this.parametersService.getReward(),this.frequency=this.parametersService.getFrequency()}onElectricityPriceChange(e){this.parametersService.setElectricityPrice(e.value),this.electricityPrice=e.value}onFrequencyChange(e){this.parametersService.emitAddNewMinerFrequency(e.value),this.parametersService.setFrequency(e.value),this.frequency=e.value}onRewardChange(e){this.parametersService.setReward(e.value),this.reward=e.value}}return n.\u0275fac=function(e){return new(e||n)(P(yp))},n.\u0275cmp=un({type:n,selectors:[["app-parameters"]],decls:31,vars:13,consts:[[1,"container"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","10px"],["fxLayout","column","fxLayoutAlign","space-around start"],["thumbLabel","",3,"value","max","change"],["thumbLabel","",3,"value","min","max","change"],["thumbLabel","",3,"value","change"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-title"),Oe(4,"Set electricity price"),he(),ce(5,"div",2)(6,"mat-card-subtitle"),Oe(7,"Current electricity price: "),ce(8,"mat-label"),Oe(9),pc(10,"currency"),he()(),ce(11,"mat-slider",3),Vt("change",function(s){return i.onElectricityPriceChange(s)}),he()()(),ce(12,"mat-card")(13,"mat-card-title"),Oe(14,"Set frequency of adding a new miner"),he(),ce(15,"div",2)(16,"mat-card-subtitle"),Oe(17,"Current frequency of adding a new miner to the network: "),ce(18,"mat-label"),Oe(19),he()(),ce(20,"mat-slider",4),Vt("change",function(s){return i.onFrequencyChange(s)}),he()()(),ce(21,"mat-card")(22,"mat-card-title"),Oe(23,"Set reward for mining a block"),he(),ce(24,"div",2)(25,"mat-card-subtitle"),Oe(26,"Current reward: "),ce(27,"mat-label"),Oe(28),pc(29,"currency"),he()(),ce(30,"mat-slider",5),Vt("change",function(s){return i.onRewardChange(s)}),he()()()()()),2&e&&(ke(9),ar("",gc(10,9,i.electricityPrice)," / month"),ke(2),Ke("value",i.electricityPrice)("max",10),ke(8),ar("",i.frequency," / month"),ke(1),Ke("value",i.frequency)("min",0)("max",10),ke(8),ar("",gc(29,11,i.reward)," "),ke(2),Ke("value",i.reward))},dependencies:[Bo,Uu,Ka,ch,cM,Iee,Aee,kee,rE],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}mat-slider[_ngcontent-%COMP%]{width:50vw}mat-card[_ngcontent-%COMP%]{background-color:#ded7ea}mat-label[_ngcontent-%COMP%]{font-weight:700}"]}),n})();const Pee=["cy"];function Fee(n,t){if(1&n&&(ce(0,"mat-option",10),Oe(1),he()),2&n){const e=t.$implicit;Ke("value",e.id),ke(1),ar(" ",e.id," ")}}let Lee=(()=>{class n{constructor(e){this.visualisationService=e,this.cy=vv({}),this.id2tip={},this.toggleButtonValue="default",this.fullNodes=[],this.selectedNodeId="default"}onValChange(e){this.toggleButtonValue=e,this.cleanHighlighting(),this.changeProtocol()}onNodeChange(e){this.selectedNodeId=e,this.cleanHighlighting(),this.refresh()}ngOnInit(){this.refresh()}refresh(){this.cy=vv({container:document.getElementById("cy"),style:[{selector:"node",style:{width:"100px",height:"100px",shape:"round-rectangle","background-color":"#e0d4ec",label:e=>-1==e.data("block").id?"root":"block "+e.data("block").id}},{selector:"edge",style:{width:3,"curve-style":"bezier"}},{selector:".highlighted",style:{"line-color":"#683cb4","border-width":"3px","border-color":"#683cb4"}}]}),this.visualisationSub&&this.visualisationSub.unsubscribe(),this.visualisationSub=this.visualisationService.getGraph().pipe(Hn(e=>{let i=e.graph;this.cy.remove("node"),this.cy.remove("edge"),this.fullNodes=Array.from(i.nodes.values()).filter((r,s)=>r.nodeType==Ui.Full),this.node="default"===this.selectedNodeId?this.fullNodes[0]:this.fullNodes.find(r=>r.id.toString()==this.selectedNodeId),this.createBlockchainGraph(),this.makeTooltips(),this.cy.nodes().on("click",r=>{this.id2tip[r.target.id()].show()}),this.cy.layout({name:"breadthfirst",directed:!0}).run()})).subscribe()}changeProtocol(){let e;if(this.cleanHighlighting(),"default"!=this.toggleButtonValue){const r=this.cy.elements().dijkstra({root:"#-1"});if("longestChain"==this.toggleButtonValue){const s=this.cy.nodes().leaves();let a=0,l="";for(let h=0;h<s.length;h++){let m=r.distanceTo(this.cy.$("#"+s[h].id()));m>a&&(a=m,l="#"+s[h].id())}e=r.pathTo(this.cy.$(l)),this.highlightPath(e)}else{this.cy.$("#-1").data("block").weight=0,this.cy.elements().bfs({root:"#-1",visit:function(a,l,h,m,v){h&&(a.data("block").weight=1+h.data("block").weight)}});const s=this.cy.nodes().max(function(a){return a.data("block").weight});e=r.pathTo(s.ele),this.highlightPath(e)}}}highlightPath(e){for(let i=0;i<e.length;i++)e[i].addClass("highlighted")}cleanHighlighting(){this.cy.nodes().forEach(e=>{e.removeClass("highlighted")}),this.cy.edges().forEach(e=>{e.removeClass("highlighted")})}createBlockchainGraph(){let e=new Set,i=new Array;e.add(-1),i.push(-1);let r=0;for(this.cy.add({group:"nodes",data:{id:"-1",block:this.node?.blockChain}});i.length>0;){const s=i.shift();if(!s)break;let a=this.node?.blockChainMap.get(s);if(!a)break;for(let l of a.children)e.has(l.id)||(e.add(l.id),i.push(l.id),this.cy.add({group:"nodes",data:{id:l.id.toString(),block:l}}),this.cy.add({group:"edges",data:{id:"edge_"+r.toString(),source:a.id.toString(),target:l.id.toString()}}),r++)}}makeTooltips(){this.cy.nodes().forEach(e=>{let i=e.popperRef();this.id2tip[e.id()]=H2(document.createElement("div"),{getReferenceClientRect:i.getBoundingClientRect,trigger:"manual",placement:"bottom",content:()=>{let r=document.createElement("div");return r.setAttribute("style","font-size:1em; padding-top: 2vh"),r.innerHTML="-1"===e._private.data.id?"Root":`Mined by: ${e._private.data.block._minedBy}`,r}})})}ngOnDestroy(){this.visualisationSub.unsubscribe(),null!==document.getElementById("cy")&&document.getElementById("cy").remove(),this.cy.destroy()}}return n.\u0275fac=function(e){return new(e||n)(P(pv))},n.\u0275cmp=un({type:n,selectors:[["app-blockchain"]],viewQuery:function(e,i){if(1&e&&hi(Pee,5),2&e){let r;Gt(r=Wt())&&(i.el=r.first)}},decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","start center",1,"container",2,"padding-left","1vw"],[1,"toggle-group",3,"value","change"],["group","matButtonToggleGroup"],["value","default"],["value","longestChain"],["value","GHOST"],[1,"node-select"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","cy"],[3,"value"]],template:function(e,i){if(1&e){const r=La();ce(0,"div",0)(1,"mat-button-toggle-group",1,2),Vt("change",function(){Ks(r);const a=zd(2);return ii(i.onValChange(a.value))}),ce(3,"mat-button-toggle",3),Oe(4,"Default"),he(),ce(5,"mat-button-toggle",4),Oe(6,"Longest Chain"),he(),ce(7,"mat-button-toggle",5),Oe(8,"GHOST"),he()(),ce(9,"mat-form-field",6)(10,"mat-select",7),Vt("selectionChange",function(a){return i.onNodeChange(a.value)}),ce(11,"mat-option",3),Oe(12,"Default"),he(),St(13,Fee,2,2,"mat-option",8),he()()(),rn(14,"div",9)}2&e&&(ke(1),Ke("value",i.toggleButtonValue),ke(9),Ke("value",i.selectedNodeId),ke(3),Ke("ngForOf",i.fullNodes))},dependencies:[qd,Bo,Ka,wp,dM,hM,xp,ah],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}#cy[_ngcontent-%COMP%]{width:100%;height:70%;position:relative;top:0;left:0}.toggle-group[_ngcontent-%COMP%]{margin:1vh}.node-select[_ngcontent-%COMP%]{margin:1vh;width:100px}"]}),n})();function Ip(n){return n+.5|0}const Ac=(n,t,e)=>Math.max(Math.min(n,e),t);function Cv(n){return Ac(Ip(2.55*n),0,255)}function Xu(n){return Ac(Ip(255*n),0,255)}function kc(n){return Ac(Ip(n/2.55)/100,0,1)}function oB(n){return Ac(Ip(100*n),0,100)}const ha={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},LM=[..."0123456789ABCDEF"],Nee=n=>LM[15&n],Bee=n=>LM[(240&n)>>4]+LM[15&n],K0=n=>(240&n)>>4==(15&n);const jee=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aB(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function Uee(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Gee(n,t,e){const i=aB(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function NM(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),l=(s+a)/2;let h,m,v;return s!==a&&(v=s-a,m=l>.5?v/(2-s-a):v/(s+a),h=function Wee(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,v,s),h=60*h+.5),[0|h,m||0,l]}function BM(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Xu)}function VM(n,t,e){return BM(aB,n,t,e)}function lB(n){return(n%360+360)%360}const cB={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Y0;const ete=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,HM=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Rp=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Z0(n,t,e){if(n){let i=NM(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=VM(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function dB(n,t){return n&&Object.assign(t||{},n)}function hB(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Xu(n[3]))):(t=dB(n,{r:0,g:0,b:0,a:1})).a=Xu(t.a),t}function rte(n){return"r"===n.charAt(0)?function tte(n){const t=ete.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?Cv(a):Ac(255*a,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Cv(i):Ac(i,0,255)),r=255&(t[4]?Cv(r):Ac(r,0,255)),s=255&(t[6]?Cv(s):Ac(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function Yee(n){const t=jee.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?Cv(+t[5]):Xu(+t[5]));const r=lB(+t[2]),s=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function qee(n,t,e){return BM(Gee,n,t,e)}(r,s,a):"hsv"===t[1]?function Kee(n,t,e){return BM(Uee,n,t,e)}(r,s,a):VM(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class Op{constructor(t){if(t instanceof Op)return t;const e=typeof t;let i;"object"===e?i=hB(t):"string"===e&&(i=function Hee(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*ha[n[1]],g:255&17*ha[n[2]],b:255&17*ha[n[3]],a:5===t?17*ha[n[4]]:255}:(7===t||9===t)&&(e={r:ha[n[1]]<<4|ha[n[2]],g:ha[n[3]]<<4|ha[n[4]],b:ha[n[5]]<<4|ha[n[6]],a:9===t?ha[n[7]]<<4|ha[n[8]]:255})),e}(t)||function Jee(n){Y0||(Y0=function Qee(){const n={},t=Object.keys(uB),e=Object.keys(cB);let i,r,s,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],r=0;r<e.length;r++)s=e[r],l=l.replace(s,cB[s]);s=parseInt(uB[a],16),n[l]=[s>>16&255,s>>8&255,255&s]}return n}(),Y0.transparent=[0,0,0,0]);const t=Y0[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||rte(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=dB(this._rgb);return t&&(t.a=kc(t.a)),t}set rgb(t){this._rgb=hB(t)}rgbString(){return this._valid?function nte(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${kc(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function $ee(n){var t=(n=>K0(n.r)&&K0(n.g)&&K0(n.b)&&K0(n.a))(n)?Nee:Bee;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function Xee(n){if(!n)return;const t=NM(n),e=t[0],i=oB(t[1]),r=oB(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${kc(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,l=2*a-1,h=i.a-r.a,m=((l*h==-1?l:(l+h)/(1+l*h))+1)/2;s=1-m,i.r=255&m*i.r+s*r.r+.5,i.g=255&m*i.g+s*r.g+.5,i.b=255&m*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function ite(n,t,e){const i=Rp(kc(n.r)),r=Rp(kc(n.g)),s=Rp(kc(n.b));return{r:Xu(HM(i+e*(Rp(kc(t.r))-i))),g:Xu(HM(r+e*(Rp(kc(t.g))-r))),b:Xu(HM(s+e*(Rp(kc(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Op(this.rgb)}alpha(t){return this._rgb.a=Xu(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Ip(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Z0(this._rgb,2,t),this}darken(t){return Z0(this._rgb,2,-t),this}saturate(t){return Z0(this._rgb,1,t),this}desaturate(t){return Z0(this._rgb,1,-t),this}rotate(t){return function Zee(n,t){var e=NM(n);e[0]=lB(e[0]+t),e=VM(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Ic(){}const ste=(()=>{let n=0;return()=>n++})();function pi(n){return null===n||typeof n>"u"}function Gi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ri(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function _r(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function zo(n,t){return _r(n)?n:t}function Bn(n,t){return typeof n>"u"?t:n}const fB=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Bi(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Si(n,t,e,i){let r,s,a;if(Gi(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(ri(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function X0(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Q0(n){if(Gi(n))return n.map(Q0);if(ri(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Q0(n[e[r]]);return t}return n}function pB(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function ate(n,t,e,i){if(!pB(n))return;const r=t[n],s=e[n];ri(r)&&ri(s)?xv(r,s,i):t[n]=Q0(s)}function xv(n,t,e){const i=Gi(t)?t:[t],r=i.length;if(!ri(n))return n;const s=(e=e||{}).merger||ate;let a;for(let l=0;l<r;++l){if(a=i[l],!ri(a))continue;const h=Object.keys(a);for(let m=0,v=h.length;m<v;++m)s(h[m],n,a,e)}return n}function Dv(n,t){return xv(n,t,{merger:lte})}function lte(n,t,e){if(!pB(n))return;const i=t[n],r=e[n];ri(i)&&ri(r)?Dv(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Q0(r))}const gB={"":n=>n,x:n=>n.x,y:n=>n.y};function Qu(n,t){return(gB[t]||(gB[t]=function ute(n){const t=function cte(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function zM(n){return n.charAt(0).toUpperCase()+n.slice(1)}const fa=n=>typeof n<"u",Ju=n=>"function"==typeof n,mB=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},nr=Math.PI,Wi=2*nr,hte=Wi+nr,J0=Number.POSITIVE_INFINITY,fte=nr/180,br=nr/2,ph=nr/4,vB=2*nr/3,ed=Math.log10,Pl=Math.sign;function Ev(n,t,e){return Math.abs(n-t)<e}function yB(n){const t=Math.round(n);n=Ev(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ed(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Pp(n){return!isNaN(parseFloat(n))&&isFinite(n)}function _B(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ya(n){return n*(nr/180)}function $M(n){return n*(180/nr)}function bB(n){if(!_r(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function wB(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*nr&&(s+=Wi),{angle:s,distance:r}}function jM(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function mte(n,t){return(n-t+hte)%Wi-nr}function $o(n){return(n%Wi+Wi)%Wi}function Sv(n,t,e,i){const r=$o(n),s=$o(t),a=$o(e),l=$o(s-r),h=$o(a-r),m=$o(r-s),v=$o(r-a);return r===s||r===a||i&&s===a||l>h&&m<v}function fs(n,t,e){return Math.max(t,Math.min(e,n))}function Rc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function UM(n,t,e){e=e||(a=>n[a]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Oc=(n,t,e,i)=>UM(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),yte=(n,t,e)=>UM(n,e,i=>n[i][t]>=e),CB=["push","pop","shift","splice","unshift"];function xB(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(CB.forEach(s=>{delete n[s]}),delete n._chartjs)}function DB(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const EB=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function SB(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,EB.call(window,()=>{i=!1,n.apply(t,e)}))}}const GM=n=>"start"===n?"left":"end"===n?"right":"center",Bs=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function MB(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:l}=n,h=a.axis,{min:m,max:v,minDefined:C,maxDefined:D}=a.getUserBounds();C&&(r=fs(Math.min(Oc(l,a.axis,m).lo,e?i:Oc(t,h,a.getPixelForValue(m)).lo),0,i-1)),s=D?fs(Math.max(Oc(l,a.axis,v,!0).hi+1,e?0:Oc(t,h,a.getPixelForValue(v),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function TB(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const ew=n=>0===n||1===n,AB=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*Wi/e),kB=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Wi/e)+1,Mv={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*br),easeOutSine:n=>Math.sin(n*br),easeInOutSine:n=>-.5*(Math.cos(nr*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>ew(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ew(n)?n:AB(n,.075,.3),easeOutElastic:n=>ew(n)?n:kB(n,.075,.3),easeInOutElastic:n=>ew(n)?n:n<.5?.5*AB(2*n,.1125,.45):.5+.5*kB(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Mv.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Mv.easeInBounce(2*n):.5*Mv.easeOutBounce(2*n-1)+.5};function IB(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function RB(n){return IB(n)?n:new Op(n)}function WM(n){return IB(n)?n:new Op(n).saturate(.5).darken(.1).hexString()}const xte=["x","y","borderWidth","radius","tension"],Dte=["color","borderColor","backgroundColor"],OB=new Map;function Tv(n,t,e){return function Mte(n,t){t=t||{};const e=n+JSON.stringify(t);let i=OB.get(e);return i||(i=new Intl.NumberFormat(n,t),OB.set(e,i)),i}(t,e).format(n)}const PB={values:n=>Gi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),s=function Tte(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=ed(Math.abs(s)),l=Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(h,this.options.ticks.format),Tv(n,i,h)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(ed(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?PB.numeric.call(this,n,t,e):""}};var tw={formatters:PB};const gh=Object.create(null),qM=Object.create(null);function Av(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function KM(n,t,e){return"string"==typeof t?xv(Av(n,t),e):xv(Av(n,""),t)}class kte{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>WM(r.backgroundColor),this.hoverBorderColor=(i,r)=>WM(r.borderColor),this.hoverColor=(i,r)=>WM(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return KM(this,t,e)}get(t){return Av(this,t)}describe(t,e){return KM(qM,t,e)}override(t,e){return KM(gh,t,e)}route(t,e,i,r){const s=Av(this,t),a=Av(this,i),l="_"+e;Object.defineProperties(s,{[l]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[l],m=a[r];return ri(h)?Object.assign({},m,h):Bn(h,m)},set(h){this[l]=h}}})}apply(t){t.forEach(e=>e(this))}}var Ir=new kte({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Ete(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:Dte},numbers:{type:"number",properties:xte}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function Ste(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Ate(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function nw(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Rte(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const l=e.length;let h,m,v,C,D;for(h=0;h<l;h++)if(C=e[h],null!=C&&!0!==Gi(C))a=nw(n,r,s,a,C);else if(Gi(C))for(m=0,v=C.length;m<v;m++)D=C[m],null!=D&&!Gi(D)&&(a=nw(n,r,s,a,D));n.restore();const T=s.length/2;if(T>e.length){for(h=0;h<T;h++)delete r[s[h]];s.splice(0,T)}return a}function mh(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function FB(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function YM(n,t,e,i){LB(n,t,e,i,null)}function LB(n,t,e,i,r){let s,a,l,h,m,v,C,D;const T=t.pointStyle,k=t.rotation,O=t.radius;let B=(k||0)*fte;if(T&&"object"==typeof T&&(s=T.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(B),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),void n.restore();if(!(isNaN(O)||O<=0)){switch(n.beginPath(),T){default:r?n.ellipse(e,i,r/2,O,0,0,Wi):n.arc(e,i,O,0,Wi),n.closePath();break;case"triangle":v=r?r/2:O,n.moveTo(e+Math.sin(B)*v,i-Math.cos(B)*O),B+=vB,n.lineTo(e+Math.sin(B)*v,i-Math.cos(B)*O),B+=vB,n.lineTo(e+Math.sin(B)*v,i-Math.cos(B)*O),n.closePath();break;case"rectRounded":m=.516*O,h=O-m,a=Math.cos(B+ph)*h,C=Math.cos(B+ph)*(r?r/2-m:h),l=Math.sin(B+ph)*h,D=Math.sin(B+ph)*(r?r/2-m:h),n.arc(e-C,i-l,m,B-nr,B-br),n.arc(e+D,i-a,m,B-br,B),n.arc(e+C,i+l,m,B,B+br),n.arc(e-D,i+a,m,B+br,B+nr),n.closePath();break;case"rect":if(!k){h=Math.SQRT1_2*O,v=r?r/2:h,n.rect(e-v,i-h,2*v,2*h);break}B+=ph;case"rectRot":C=Math.cos(B)*(r?r/2:O),a=Math.cos(B)*O,l=Math.sin(B)*O,D=Math.sin(B)*(r?r/2:O),n.moveTo(e-C,i-l),n.lineTo(e+D,i-a),n.lineTo(e+C,i+l),n.lineTo(e-D,i+a),n.closePath();break;case"crossRot":B+=ph;case"cross":C=Math.cos(B)*(r?r/2:O),a=Math.cos(B)*O,l=Math.sin(B)*O,D=Math.sin(B)*(r?r/2:O),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a);break;case"star":C=Math.cos(B)*(r?r/2:O),a=Math.cos(B)*O,l=Math.sin(B)*O,D=Math.sin(B)*(r?r/2:O),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a),B+=ph,C=Math.cos(B)*(r?r/2:O),a=Math.cos(B)*O,l=Math.sin(B)*O,D=Math.sin(B)*(r?r/2:O),n.moveTo(e-C,i-l),n.lineTo(e+C,i+l),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a);break;case"line":a=r?r/2:Math.cos(B)*O,l=Math.sin(B)*O,n.moveTo(e-a,i-l),n.lineTo(e+a,i+l);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(B)*(r?r/2:O),i+Math.sin(B)*O);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function kv(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function iw(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function rw(n){n.restore()}function Ote(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Pte(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function vh(n,t,e,i,r,s={}){const a=Gi(t)?t:[t],l=s.strokeWidth>0&&""!==s.strokeColor;let h,m;for(n.save(),n.font=r.string,function Fte(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),pi(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),h=0;h<a.length;++h)m=a[h],s.backdrop&&Nte(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),pi(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(m,e,i,s.maxWidth)),n.fillText(m,e,i,s.maxWidth),Lte(n,e,i,m,s),i+=r.lineHeight;n.restore()}function Lte(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,h=e-s.actualBoundingBoxAscent,m=e+s.actualBoundingBoxDescent,v=r.strikethrough?(h+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,v),n.lineTo(l,v),n.stroke()}}function Nte(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Iv(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,-br,nr,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,nr,br,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,br,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-br,!0),n.lineTo(e+a.topLeft,i)}const Bte=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Vte=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Hte(n,t){const e=(""+n).match(Bte);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const zte=n=>+n||0;function ZM(n,t){const e={},i=ri(t),r=i?Object.keys(t):t,s=ri(n)?i?a=>Bn(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=zte(s(a));return e}function NB(n){return ZM(n,{top:"y",right:"x",bottom:"y",left:"x"})}function yh(n){return ZM(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Vs(n){const t=NB(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Jr(n,t){let e=Bn((n=n||{}).size,(t=t||Ir.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Bn(n.style,t.style);i&&!(""+i).match(Vte)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Bn(n.family,t.family),lineHeight:Hte(Bn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Bn(n.weight,t.weight),string:""};return r.string=function Ite(n){return!n||pi(n.size)||pi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function Rv(n,t,e,i){let s,a,l,r=!0;for(s=0,a=n.length;s<a;++s)if(l=n[s],void 0!==l&&(void 0!==t&&"function"==typeof l&&(l=l(t),r=!1),void 0!==e&&Gi(l)&&(l=l[e%l.length],r=!1),void 0!==l))return i&&!r&&(i.cacheable=!1),l}function td(n,t){return Object.assign(Object.create(n),t)}function XM(n,t=[""],e=n,i,r=(()=>n[0])){fa(i)||(i=$B("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:a=>XM([a,...n],t,e,i)};return new Proxy(s,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete n[0][l],!0),get:(a,l)=>VB(a,l,()=>function Zte(n,t,e,i){let r;for(const s of t)if(r=$B(jte(s,n),e),fa(r))return QM(n,r)?JM(e,i,n,r):r}(l,t,n,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,l)=>jB(a).includes(l),ownKeys:a=>jB(a),set(a,l,h){const m=a._storage||(a._storage=r());return a[l]=m[l]=h,delete a._keys,!0}})}function Fp(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:BB(n,i),setContext:s=>Fp(n,s,e,i),override:s=>Fp(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,l)=>VB(s,a,()=>function Ute(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let l=i[t];return Ju(l)&&a.isScriptable(t)&&(l=function Gte(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=e;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);return l.add(n),t=t(s,a||i),l.delete(n),QM(n,t)&&(t=JM(r._scopes,r,n,t)),t}(t,l,n,e)),Gi(l)&&l.length&&(l=function Wte(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=e;if(fa(s.index)&&i(n))t=t[s.index%t.length];else if(ri(t[0])){const h=t,m=r._scopes.filter(v=>v!==h);t=[];for(const v of h){const C=JM(m,r,n,v);t.push(Fp(C,s,a&&a[n],l))}}return t}(t,l,n,a.isIndexable)),QM(t,l)&&(l=Fp(l,r,s&&s[t],a)),l}(s,a,l)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,l)=>(n[a]=l,delete s[a],!0)})}function BB(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ju(e)?e:()=>e,isIndexable:Ju(i)?i:()=>i}}const jte=(n,t)=>n?n+zM(t):t,QM=(n,t)=>ri(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function VB(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function HB(n,t,e){return Ju(n)?n(t,e):n}const qte=(n,t)=>!0===n?t:"string"==typeof n?Qu(t,n):void 0;function Kte(n,t,e,i,r){for(const s of t){const a=qte(e,s);if(a){n.add(a);const l=HB(a._fallback,e,r);if(fa(l)&&l!==e&&l!==i)return l}else if(!1===a&&fa(i)&&e!==i)return null}return!1}function JM(n,t,e,i){const r=t._rootScopes,s=HB(t._fallback,e,i),a=[...n,...r],l=new Set;l.add(i);let h=zB(l,a,e,s||e,i);return!(null===h||fa(s)&&s!==e&&(h=zB(l,a,s,h,i),null===h))&&XM(Array.from(l),[""],r,s,()=>function Yte(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Gi(r)&&ri(e)?e:r||{}}(t,e,i))}function zB(n,t,e,i,r){for(;e;)e=Kte(n,t,e,i,r);return e}function $B(n,t){for(const e of t){if(!e)continue;const i=e[n];if(fa(i))return i}}function jB(n){let t=n._keys;return t||(t=n._keys=function Xte(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function UB(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let l,h,m,v;for(l=0,h=i;l<h;++l)m=l+e,v=t[m],a[l]={r:r.parse(Qu(v,s),m)};return a}const Qte=Number.EPSILON||1e-14,Lp=(n,t)=>t<n.length&&!n[t].skip&&n[t],GB=n=>"x"===n?"y":"x";function Jte(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,l=jM(s,r),h=jM(a,s);let m=l/(l+h),v=h/(l+h);m=isNaN(m)?0:m,v=isNaN(v)?0:v;const C=i*m,D=i*v;return{previous:{x:s.x-C*(a.x-r.x),y:s.y-C*(a.y-r.y)},next:{x:s.x+D*(a.x-r.x),y:s.y+D*(a.y-r.y)}}}function sw(n,t,e){return Math.max(Math.min(n,e),t)}function rne(n,t,e,i,r){let s,a,l,h;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),"monotone"===t.cubicInterpolationMode)!function nne(n,t="x"){const e=GB(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,l,h,m=Lp(n,0);for(a=0;a<i;++a)if(l=h,h=m,m=Lp(n,a+1),h){if(m){const v=m[t]-h[t];r[a]=0!==v?(m[e]-h[e])/v:0}s[a]=l?m?Pl(r[a-1])!==Pl(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function ene(n,t,e){const i=n.length;let r,s,a,l,h,m=Lp(n,0);for(let v=0;v<i-1;++v)if(h=m,m=Lp(n,v+1),h&&m){if(Ev(t[v],0,Qte)){e[v]=e[v+1]=0;continue}r=e[v]/t[v],s=e[v+1]/t[v],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),e[v]=r*a*t[v],e[v+1]=s*a*t[v])}})(n,r,s),function tne(n,t,e="x"){const i=GB(e),r=n.length;let s,a,l,h=Lp(n,0);for(let m=0;m<r;++m){if(a=l,l=h,h=Lp(n,m+1),!l)continue;const v=l[e],C=l[i];a&&(s=(v-a[e])/3,l[`cp1${e}`]=v-s,l[`cp1${i}`]=C-s*t[m]),h&&(s=(h[e]-v)/3,l[`cp2${e}`]=v+s,l[`cp2${i}`]=C+s*t[m])}}(n,s,t)}(n,r);else{let m=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)l=n[s],h=Jte(m,l,n[Math.min(s+1,a-(i?0:1))%a],t.tension),l.cp1x=h.previous.x,l.cp1y=h.previous.y,l.cp2x=h.next.x,l.cp2y=h.next.y,m=l}t.capBezierPoints&&function ine(n,t){let e,i,r,s,a,l=kv(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=l,l=e<i-1&&kv(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=sw(r.cp1x,t.left,t.right),r.cp1y=sw(r.cp1y,t.top,t.bottom)),l&&(r.cp2x=sw(r.cp2x,t.left,t.right),r.cp2y=sw(r.cp2y,t.top,t.bottom)))}(n,e)}function WB(){return typeof window<"u"&&typeof document<"u"}function eT(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ow(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const aw=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),one=["top","right","bottom","left"];function _h(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=one[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function bh(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=aw(e),s="border-box"===r.boxSizing,a=_h(r,"padding"),l=_h(r,"border","width"),{x:h,y:m,box:v}=function lne(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let l,h,a=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,s,n.target))l=r,h=s;else{const m=t.getBoundingClientRect();l=i.clientX-m.left,h=i.clientY-m.top,a=!0}return{x:l,y:h,box:a}}(n,e),C=a.left+(v&&l.left),D=a.top+(v&&l.top);let{width:T,height:k}=t;return s&&(T-=a.width+l.width,k-=a.height+l.height),{x:Math.round((h-C)/T*e.width/i),y:Math.round((m-D)/k*e.height/i)}}const lw=n=>Math.round(10*n)/10;function qB(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const dne=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function KB(n,t){const e=function sne(n,t){return aw(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wh(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function hne(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function fne(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=wh(n,r,e),l=wh(r,s,e),h=wh(s,t,e),m=wh(a,l,e),v=wh(l,h,e);return wh(m,v,e)}function Np(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function YB(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function ZB(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function XB(n){return"angle"===n?{between:Sv,compare:mte,normalize:$o}:{between:Rc,compare:(t,e)=>t-e,normalize:t=>t}}function QB({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function JB(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:l,between:h,normalize:m}=XB(i),{start:v,end:C,loop:D,style:T}=function mne(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:l}=XB(i),h=t.length;let D,T,{start:m,end:v,loop:C}=n;if(C){for(m+=h,v+=h,D=0,T=h;D<T&&a(l(t[m%h][i]),r,s);++D)m--,v--;m%=h,v%=h}return v<m&&(v+=h),{start:m,end:v,loop:C,style:n.style}}(n,t,e),k=[];let V,q,te,O=!1,B=null;for(let ut=v,Rt=v;ut<=C;++ut)q=t[ut%a],!q.skip&&(V=m(q[i]),V!==te&&(O=h(V,r,s),null===B&&(O||h(r,te,V)&&0!==l(r,te))&&(B=0===l(V,r)?ut:Rt),null!==B&&(!O||0===l(s,V)||h(s,te,V))&&(k.push(QB({start:B,end:ut,loop:D,count:a,style:T})),B=null),Rt=ut,te=V));return null!==B&&k.push(QB({start:B,end:C,loop:D,count:a,style:T})),k}function eV(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=JB(i[r],n.points,t);s.length&&e.push(...s)}return e}function nV(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function wne(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}class Cne{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(l=>l({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=EB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let h,a=s.length-1,l=!1;for(;a>=0;--a)h=s[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Pc=new Cne;const iV="transparent",xne={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=RB(n||iV),r=i.valid&&RB(t||iV);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Dne{constructor(t,e,i,r){const s=e[i];r=Rv([t.to,r,s,t.from]);const a=Rv([t.from,s,r]);this._active=!0,this._fn=t.fn||xne[t.type||typeof a],this._easing=Mv[t.easing]||Mv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Rv([t.to,e,r,t.from]),this._from=Rv([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let h;if(this._active=s!==l&&(a||e<i),!this._active)return this._target[r]=l,void this._notify(!0);e<0?this._target[r]=s:(h=e/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,l,h))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class rV{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ri(t))return;const e=Object.keys(Ir.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!ri(s))return;const a={};for(const l of e)a[l]=s[l];(Gi(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,e){const i=e.options,r=function Sne(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function Ene(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),l=Date.now();let h;for(h=a.length-1;h>=0;--h){const m=a[h];if("$"===m.charAt(0))continue;if("options"===m){r.push(...this._animateOptions(t,e));continue}const v=e[m];let C=s[m];const D=i.get(m);if(C){if(D&&C.active()){C.update(D,v,l);continue}C.cancel()}D&&D.duration?(s[m]=C=new Dne(D,t,m,v),r.push(C)):t[m]=v}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Pc.add(this._chart,i),!0):void 0}}function sV(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function oV(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function aV(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let a,l,h,m;if(null!==t){for(a=0,l=r.length;a<l;++a){if(h=+r[a],h===e){if(i.all)continue;break}m=n.values[h],_r(m)&&(s||0===t||Pl(t)===Pl(m))&&(t+=m)}return t}}function lV(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function Rne(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function cV(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function uV(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:l}=i,h=s.axis,m=a.axis,v=function kne(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,a,i),C=t.length;let D;for(let T=0;T<C;++T){const k=t[T],{[h]:O,[m]:B}=k;D=(k._stacks||(k._stacks={}))[m]=Rne(r,v,O),D[l]=B,D._top=cV(D,a,!0,i.type),D._bottom=cV(D,a,!1,i.type),(D._visualValues||(D._visualValues={}))[l]=B}}function tT(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Ov(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[e]&&delete s[i]._visualValues[e]}}}const nT=n=>"reset"===n||"none"===n,dV=(n,t)=>t?n:Object.assign({},n);class Za{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=lV(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ov(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(C,D,T,k)=>"x"===C?D:"r"===C?k:T,s=e.xAxisID=Bn(i.xAxisID,tT(t,"x")),a=e.yAxisID=Bn(i.yAxisID,tT(t,"y")),l=e.rAxisID=Bn(i.rAxisID,tT(t,"r")),h=e.indexAxis,m=e.iAxisID=r(h,s,a,l),v=e.vAxisID=r(h,a,s,l);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&xB(this._data,this),t._stacked&&Ov(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(ri(e))this._data=function Ane(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(e);else if(i!==e){if(i){xB(i,this);const r=this._cachedMeta;Ov(r),r._parsed=[]}e&&Object.isExtensible(e)&&function bte(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),CB.forEach(e=>{const i="_onData"+zM(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...s)}),a}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=lV(e.vScale,e),e.stack!==i.stack&&(r=!0,Ov(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&uV(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:a}=i,l=s.axis;let v,C,D,h=0===t&&e===r.length||i._sorted,m=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=r,i._sorted=!0,D=r;else{D=Gi(r[t])?this.parseArrayData(i,r,t,e):ri(r[t])?this.parseObjectData(i,r,t,e):this.parsePrimitiveData(i,r,t,e);const T=()=>null===C[l]||m&&C[l]<m[l];for(v=0;v<e;++v)i._parsed[v+t]=C=D[v],h&&(T()&&(h=!1),m=C);i._sorted=h}a&&uV(this,D)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:a}=t,l=s.axis,h=a.axis,m=s.getLabels(),v=s===a,C=new Array(r);let D,T,k;for(D=0,T=r;D<T;++D)k=D+i,C[D]={[l]:v||s.parse(m[k],k),[h]:a.parse(e[k],k)};return C}parseArrayData(t,e,i,r){const{xScale:s,yScale:a}=t,l=new Array(r);let h,m,v,C;for(h=0,m=r;h<m;++h)v=h+i,C=e[v],l[h]={x:s.parse(C[0],v),y:a.parse(C[1],v)};return l}parseObjectData(t,e,i,r){const{xScale:s,yScale:a}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,m=new Array(r);let v,C,D,T;for(v=0,C=r;v<C;++v)D=v+i,T=e[D],m[v]={x:s.parse(Qu(T,l),D),y:a.parse(Qu(T,h),D)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this._cachedMeta,a=e[t.axis];return aV({keys:oV(this.chart,!0),values:e._stacks[t.axis]._visualValues},a,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let a=null===s?NaN:s;const l=r&&i._stacks[e.axis];r&&l&&(r.values=l,a=aV(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,a=r.length,l=this._getOtherScale(t),h=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:oV(this.chart,!0),values:null})(e,i),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:C}=function Ine(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(l);let D,T;function k(){T=r[D];const O=T[l.axis];return!_r(T[t.axis])||v>O||C<O}for(D=0;D<a&&(k()||(this.updateRangeFromParsed(m,t,T,h),!s));++D);if(s)for(D=a-1;D>=0;--D)if(!k()){this.updateRangeFromParsed(m,t,T,h);break}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r][t.axis],_r(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function Tne(n){let t,e,i,r;return ri(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Bn(this.options.clip,function Mne(n,t,e){if(!1===e)return!1;const i=sV(n,e),r=sV(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,r=i.data||[],s=this.chart.chartArea,a=[],l=this._drawStart||0,h=this._drawCount||r.length-l,m=this.options.drawActiveElementsOnTop;let v;for(i.dataset&&i.dataset.draw(t,s,l,h),v=l;v<l+h;++v){const C=r[v];C.hidden||(C.active&&m?a.push(C):C.draw(t,s))}for(v=0;v<a.length;++v)a[v].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];s=a.$context||(a.$context=function Pne(n,t,e){return td(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function One(n,t){return td(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r="active"===e,s=this._cachedDataOpts,a=t+"-"+e,l=s[a],h=this.enableOptionSharing&&fa(i);if(l)return dV(l,h);const m=this.chart.config,v=m.datasetElementScopeKeys(this._type,t),C=r?[`${t}Hover`,"hover",t,""]:[t,""],D=m.getOptionScopes(this.getDataset(),v),T=Object.keys(Ir.elements[t]),O=m.resolveNamedOptions(D,T,()=>this.getContext(i,r,e),C);return O.$shared&&(O.$shared=h,s[a]=Object.freeze(dV(O,h))),O}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,a=`animation-${e}`,l=s[a];if(l)return l;let h;if(!1!==r.options.animation){const v=this.chart.config,C=v.datasetAnimationScopeKeys(this._type,e),D=v.getOptionScopes(this.getDataset(),C);h=v.createResolver(D,this.getContext(t,i,e))}const m=new rV(r,h&&h.animations);return h&&h._cacheable&&(s[a]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||nT(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:a}}updateElement(t,e,i,r){nT(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!nT(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[l,h,m]of this._syncList)this[l](h,m);this._syncList=[];const r=i.length,s=e.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,a=t+e;let l;const h=m=>{for(m.length+=e,l=m.length-1;l>=a;l--)m[l]=m[l-e]};for(h(s),l=t;l<a;++l)s[l]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Ov(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Nne(n){const t=n.iScale,e=function Lne(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=DB(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,a,l,i=t._length;const h=()=>{32767===a||-32768===a||(fa(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),h();for(l=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),h();return i}function hV(n,t,e,i){return Gi(n)?function Hne(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),l=Math.max(r,s);let h=a,m=l;Math.abs(a)>Math.abs(l)&&(h=l,m=a),t[e.axis]=m,t._custom={barStart:h,barEnd:m,start:r,end:s,min:a,max:l}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function fV(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),l=r===s,h=[];let m,v,C,D;for(m=e,v=e+i;m<v;++m)D=t[m],C={},C[r.axis]=l||r.parse(a[m],m),h.push(hV(D,C,s,m));return h}function iT(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function jne(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:l,reverse:h,top:m,bottom:v}=function $ne(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=v:(s[pV(v,a,l,h)]=!0,r=m)),s[pV(r,a,l,h)]=!0,n.borderSkipped=s}function pV(n,t,e,i){return i?(n=function Une(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=gV(n,e,t)):n=gV(n,t,e),n}function gV(n,t,e){return"start"===n?t:"end"===n?e:n}function Gne(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Bt(Za,"defaults",{}),Bt(Za,"datasetElementType",null),Bt(Za,"dataElementType",null);class cw extends Za{parsePrimitiveData(t,e,i,r){return fV(t,e,i,r)}parseArrayData(t,e,i,r){return fV(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:a}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,m="x"===s.axis?l:h,v="x"===a.axis?l:h,C=[];let D,T,k,O;for(D=i,T=i+r;D<T;++D)O=e[D],k={},k[s.axis]=s.parse(Qu(O,m),D),C.push(hV(Qu(O,v),k,a,D));return C}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),a=s._custom,l=iT(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s="reset"===r,{index:a,_cachedMeta:{vScale:l}}=this,h=l.getBasePixel(),m=l.isHorizontal(),v=this._getRuler(),{sharedOptions:C,includeOptions:D}=this._getSharedOptions(e,r);for(let T=e;T<e+i;T++){const k=this.getParsed(T),O=s||pi(k[l.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),B=this._calculateBarIndexPixels(T,v),V=(k._stacks||{})[l.axis],q={horizontal:m,base:O.base,enableBorderRadius:!V||iT(k._custom)||a===V._top||a===V._bottom,x:m?O.head:B.center,y:m?B.center:O.head,height:m?B.size:Math.abs(O.size),width:m?Math.abs(O.size):B.size};D&&(q.options=C||this.resolveDataElementOptions(T,t[T].active?"active":r));const te=q.options||t[T].options;jne(q,te,V,a),Gne(q,te,v.ratio),this.updateElement(t[T],T,q,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,a=[],l=h=>{const m=h.controller.getParsed(e),v=m&&m[h.vScale.axis];if(pi(v)||isNaN(v))return!0};for(const h of r)if((void 0===e||!l(h))&&((!1===s||-1===a.indexOf(h.stack)||void 0===s&&void 0===h.stack)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=void 0!==e?r.indexOf(e):-1;return-1===s?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,a;for(s=0,a=e.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=t.barThickness;return{min:l||Nne(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,h=this.getParsed(t),m=h._custom,v=iT(m);let k,O,C=h[e.axis],D=0,T=i?this.applyStack(e,h,i):C;T!==C&&(D=T-C,T=C),v&&(C=m.barStart,T=m.barEnd-m.barStart,0!==C&&Pl(C)!==Pl(m.barEnd)&&(D=0),D+=C);const B=pi(s)||v?D:s;let V=e.getPixelForValue(B);if(k=this.chart.getDataVisibility(t)?e.getPixelForValue(D+T):V,O=k-V,Math.abs(O)<a){O=function zne(n,t,e){return 0!==n?Pl(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(O,e,l)*a,C===l&&(V-=O/2);const q=e.getPixelForDecimal(0),te=e.getPixelForDecimal(1),$=Math.min(q,te),pe=Math.max(q,te);V=Math.max(Math.min(V,pe),$),k=V+O,i&&!v&&(h._stacks[e.axis]._visualValues[r]=e.getValueForPixel(k)-e.getValueForPixel(V))}if(V===e.getPixelForValue(l)){const q=Pl(O)*e.getLineWidthForValue(l)/2;V+=q,O-=q}return{size:O,base:V,head:k,center:k+O/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,a=Bn(r.maxBarThickness,1/0);let l,h;if(e.grouped){const m=s?this._getStackCount(t):e.stackCount,v="flex"===r.barThickness?function Vne(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,l=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;null===a&&(a=s-(null===l?t.end-t.start:l-s)),null===l&&(l=s+s-a);const m=s-(s-Math.min(a,l))/2*h;return{chunk:Math.abs(l-a)/2*h/i,ratio:e.barPercentage,start:m}}(t,e,r,m):function Bne(n,t,e,i){const r=e.barThickness;let s,a;return pi(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}(t,e,r,m),C=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);l=v.start+v.chunk*C+v.chunk/2,h=Math.min(a,v.chunk*v.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(a,e.min*e.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)null!==this.getParsed(s)[e.axis]&&i[s].draw(this._ctx)}}Bt(cw,"id","bar"),Bt(cw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Bt(cw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class uw extends Za{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let a=0;a<s.length;a++)s[a]._custom=Bn(e[i+a][2],this.resolveDataElementOptions(a+i).radius);return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let a=0;a<s.length;a++){const l=e[i+a];s[a]._custom=Bn(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),l=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y),m=a._custom;return{label:i[t]||"",value:"("+l+", "+h+(m?", "+m:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:h,includeOptions:m}=this._getSharedOptions(e,r),v=a.axis,C=l.axis;for(let D=e;D<e+i;D++){const T=t[D],k=!s&&this.getParsed(D),O={},B=O[v]=s?a.getPixelForDecimal(.5):a.getPixelForValue(k[v]),V=O[C]=s?l.getBasePixel():l.getPixelForValue(k[C]);O.skip=isNaN(B)||isNaN(V),m&&(O.options=h||this.resolveDataElementOptions(D,T.active?"active":r),s&&(O.options.radius=0)),this.updateElement(T,D,O,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==e&&(r.radius=0),r.radius+=Bn(i&&i._custom,s),r}}Bt(uw,"id","bubble"),Bt(uw,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Bt(uw,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Ch extends Za{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=i;else{let a,l,s=h=>+i[h];if(ri(i[t])){const{key:h="value"}=this._parsing;s=m=>+Qu(i[m],h)}for(a=t,l=t+e;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Ya(this.options.rotation-90)}_getCircumference(){return Ya(this.options.circumference)}_getRotationExtents(){let t=Wi,e=-Wi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),a=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),h=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,l),1),m=this._getRingWeight(this.index),{circumference:v,rotation:C}=this._getRotationExtents(),{ratioX:D,ratioY:T,offsetX:k,offsetY:O}=function Wne(n,t,e){let i=1,r=1,s=0,a=0;if(t<Wi){const l=n,h=l+t,m=Math.cos(l),v=Math.sin(l),C=Math.cos(h),D=Math.sin(h),T=(te,$,pe)=>Sv(te,l,h,!0)?1:Math.max($,$*e,pe,pe*e),k=(te,$,pe)=>Sv(te,l,h,!0)?-1:Math.min($,$*e,pe,pe*e),O=T(0,m,C),B=T(br,v,D),V=k(nr,m,C),q=k(nr+br,v,D);i=(O-V)/2,r=(B-q)/2,s=-(O+V)/2,a=-(B+q)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(C,v,h),q=Math.max(Math.min((i.width-a)/D,(i.height-a)/T)/2,0),te=fB(this.options.radius,q),pe=(te-Math.max(te*h,0))/this._getVisibleDatasetWeightTotal();this.offsetX=k*te,this.offsetY=O*te,r.total=this.calculateTotal(),this.outerRadius=te-pe*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-pe*m,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/Wi)}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,l=a.chartArea,v=(l.left+l.right)/2,C=(l.top+l.bottom)/2,D=s&&a.options.animation.animateScale,T=D?0:this.innerRadius,k=D?0:this.outerRadius,{sharedOptions:O,includeOptions:B}=this._getSharedOptions(e,r);let q,V=this._getRotation();for(q=0;q<e;++q)V+=this._circumference(q,s);for(q=e;q<e+i;++q){const te=this._circumference(q,s),$=t[q],pe={x:v+this.offsetX,y:C+this.offsetY,startAngle:V,endAngle:V+te,circumference:te,outerRadius:k,innerRadius:T};B&&(pe.options=O||this.resolveDataElementOptions(q,$.active?"active":r)),V+=te,this.updateElement($,q,pe,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r,i=0;for(r=0;r<e.length;r++){const s=t._parsed[r];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Wi*(Math.abs(t)/e):0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=Tv(this._cachedMeta._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,a,l,h;if(!t)for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),t=a.data,l=a.controller;break}if(!t)return 0;for(r=0,s=t.length;r<s;++r)h=l.resolveDataElementOptions(r),"inner"!==h.borderAlign&&(e=Math.max(e,h.borderWidth||0,h.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Bn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Bt(Ch,"id","doughnut"),Bt(Ch,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Bt(Ch,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t}),Bt(Ch,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class dw extends Za{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:l,count:h}=MB(e,r,a);this._drawStart=l,this._drawCount=h,TB(e)&&(l=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:m},t),this.updateElements(r,l,h,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l,_stacked:h,_dataset:m}=this._cachedMeta,{sharedOptions:v,includeOptions:C}=this._getSharedOptions(e,r),D=a.axis,T=l.axis,{spanGaps:k,segment:O}=this.options,B=Pp(k)?k:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||s||"none"===r,q=e+i,te=t.length;let $=e>0&&this.getParsed(e-1);for(let pe=0;pe<te;++pe){const _e=t[pe],Xe=V?_e:{};if(pe<e||pe>=q){Xe.skip=!0;continue}const ut=this.getParsed(pe),Rt=pi(ut[T]),$t=Xe[D]=a.getPixelForValue(ut[D],pe),sn=Xe[T]=s||Rt?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,ut,h):ut[T],pe);Xe.skip=isNaN($t)||isNaN(sn)||Rt,Xe.stop=pe>0&&Math.abs(ut[D]-$[D])>B,O&&(Xe.parsed=ut,Xe.raw=m.data[pe]),C&&(Xe.options=v||this.resolveDataElementOptions(pe,_e.active?"active":r)),V||this.updateElement(_e,pe,Xe,r),$=ut}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Bt(dw,"id","line"),Bt(dw,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Bt(dw,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Pv extends Za{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=Tv(this._cachedMeta._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return UB.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),l=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,i,r){const s="reset"===r,a=this.chart,h=a.options.animation,m=this._cachedMeta.rScale,v=m.xCenter,C=m.yCenter,D=m.getIndexAngle(0)-.5*nr;let k,T=D;const O=360/this.countVisibleElements();for(k=0;k<e;++k)T+=this._computeAngle(k,r,O);for(k=e;k<e+i;k++){const B=t[k];let V=T,q=T+this._computeAngle(k,r,O),te=a.getDataVisibility(k)?m.getDistanceFromCenterForValue(this.getParsed(k).r):0;T=q,s&&(h.animateScale&&(te=0),h.animateRotate&&(V=q=D));const $={x:v,y:C,innerRadius:0,outerRadius:te,startAngle:V,endAngle:q,options:this.resolveDataElementOptions(k,B.active?"active":r)};this.updateElement(B,k,$,r)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Ya(this.resolveDataElementOptions(t,e).angle||i):0}}Bt(Pv,"id","polarArea"),Bt(Pv,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Bt(Pv,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class rT extends Ch{}Bt(rT,"id","pie"),Bt(rT,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class hw extends Za{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return UB.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,"resize"!==t){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===r.length,options:a},t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,a="reset"===r;for(let l=e;l<e+i;l++){const h=t[l],m=this.resolveDataElementOptions(l,h.active?"active":r),v=s.getPointPositionForValue(l,this.getParsed(l).r),C=a?s.xCenter:v.x,D=a?s.yCenter:v.y,T={x:C,y:D,angle:v.angle,skip:isNaN(C)||isNaN(D),options:m};this.updateElement(h,l,T,r)}}}Bt(hw,"id","radar"),Bt(hw,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Bt(hw,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class fw extends Za{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,a=this.getParsed(t),l=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+h+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:a}=MB(e,i,r);if(this._drawStart=s,this._drawCount=a,TB(e)&&(s=0,a=i.length),this.options.showLine){const{dataset:l,_dataset:h}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!h._decimated,l.points=i;const m=this.resolveDatasetElementOptions(t);m.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:m},t)}this.updateElements(i,s,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s="reset"===r,{iScale:a,vScale:l,_stacked:h,_dataset:m}=this._cachedMeta,v=this.resolveDataElementOptions(e,r),C=this.getSharedOptions(v),D=this.includeOptions(r,C),T=a.axis,k=l.axis,{spanGaps:O,segment:B}=this.options,V=Pp(O)?O:Number.POSITIVE_INFINITY,q=this.chart._animationsDisabled||s||"none"===r;let te=e>0&&this.getParsed(e-1);for(let $=e;$<e+i;++$){const pe=t[$],_e=this.getParsed($),Xe=q?pe:{},ut=pi(_e[k]),Rt=Xe[T]=a.getPixelForValue(_e[T],$),$t=Xe[k]=s||ut?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,_e,h):_e[k],$);Xe.skip=isNaN(Rt)||isNaN($t)||ut,Xe.stop=$>0&&Math.abs(_e[T]-te[T])>V,B&&(Xe.parsed=_e,Xe.raw=m.data[$]),D&&(Xe.options=C||this.resolveDataElementOptions($,pe.active?"active":r)),q||this.updateElement(pe,$,Xe,r),te=_e}this.updateSharedOptions(C,r,v)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let h=e.length-1;h>=0;--h)l=Math.max(l,e[h].size(this.resolveDataElementOptions(h))/2);return l>0&&l}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,a)/2}}Bt(fw,"id","scatter"),Bt(fw,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Bt(fw,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var qne=Object.freeze({__proto__:null,BarController:cw,BubbleController:uw,DoughnutController:Ch,LineController:dw,PolarAreaController:Pv,PieController:rT,RadarController:hw,ScatterController:fw});function xh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sT{static override(t){Object.assign(sT.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return xh()}parse(){return xh()}format(){return xh()}add(){return xh()}diff(){return xh()}startOf(){return xh()}endOf(){return xh()}}var Kne__date=sT;function Yne(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,l=r._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&a&&s.length){const h=l._reversePixels?yte:Oc;if(!i)return h(s,t,e);if(r._sharedOptions){const m=s[0],v="function"==typeof m.getRange&&m.getRange(t);if(v){const C=h(s,t,e-v),D=h(s,t,e+v);return{lo:C.lo,hi:D.hi}}}}return{lo:0,hi:s.length-1}}function Fv(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let l=0,h=s.length;l<h;++l){const{index:m,data:v}=s[l],{lo:C,hi:D}=Yne(s[l],t,a,r);for(let T=C;T<=D;++T){const k=v[T];k.skip||i(k,m,T)}}}function oT(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||Fv(n,e,t,function(l,h,m){!r&&!kv(l,n.chartArea,0)||l.inRange(t.x,t.y,i)&&s.push({element:l,datasetIndex:h,index:m})},!0),s}function aT(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function Qne(n,t,e,i,r,s){let a=[];const l=function Zne(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(e);let h=Number.POSITIVE_INFINITY;return Fv(n,e,t,function m(v,C,D){const T=v.inRange(t.x,t.y,r);if(i&&!T)return;const k=v.getCenterPoint(r);if(!s&&!n.isPointInArea(k)&&!T)return;const B=l(t,k);B<h?(a=[{element:v,datasetIndex:C,index:D}],h=B):B===h&&a.push({element:v,datasetIndex:C,index:D})}),a}(n,t,e,i,r,s):function Xne(n,t,e,i){let r=[];return Fv(n,e,t,function s(a,l,h){const{startAngle:m,endAngle:v}=a.getProps(["startAngle","endAngle"],i),{angle:C}=wB(a,{x:t.x,y:t.y});Sv(C,m,v)&&r.push({element:a,datasetIndex:l,index:h})}),r}(n,t,e,r):[]}function mV(n,t,e,i,r){const s=[],a="x"===e?"inXRange":"inYRange";let l=!1;return Fv(n,e,t,(h,m,v)=>{h[a](t[e],r)&&(s.push({element:h,datasetIndex:m,index:v}),l=l||h.inRange(t.x,t.y,r))}),i&&!l?[]:s}var Jne={evaluateInteractionItems:Fv,modes:{index(n,t,e,i){const r=bh(t,n),s=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?oT(n,r,s,i,a):aT(n,r,s,!1,i,a),h=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const v=l[0].index,C=m.data[v];C&&!C.skip&&h.push({element:C,datasetIndex:m.index,index:v})}),h):[]},dataset(n,t,e,i){const r=bh(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?oT(n,r,s,i,a):aT(n,r,s,!1,i,a);if(l.length>0){const h=l[0].datasetIndex,m=n.getDatasetMeta(h).data;l=[];for(let v=0;v<m.length;++v)l.push({element:m[v],datasetIndex:h,index:v})}return l},point:(n,t,e,i)=>oT(n,bh(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>aT(n,bh(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>mV(n,bh(t,n),"x",e.intersect,i),y:(n,t,e,i)=>mV(n,bh(t,n),"y",e.intersect,i)}};const vV=["left","top","right","bottom"];function Lv(n,t){return n.filter(e=>e.pos===t)}function yV(n,t){return n.filter(e=>-1===vV.indexOf(e.pos)&&e.box.axis===t)}function Nv(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function _V(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function bV(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function rie(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!ri(r)){e.size&&(n[r]-=e.size);const C=i[e.stack]||{size:0,count:1};C.size=Math.max(C.size,e.horizontal?s.height:s.width),e.size=C.size/C.count,n[r]+=e.size}s.getPadding&&bV(a,s.getPadding());const l=Math.max(0,t.outerWidth-_V(a,n,"left","right")),h=Math.max(0,t.outerHeight-_V(a,n,"top","bottom")),m=l!==n.w,v=h!==n.h;return n.w=l,n.h=h,e.horizontal?{same:m,other:v}:{same:v,other:m}}function oie(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}(n?["left","right"]:["top","bottom"])}function Bv(n,t,e,i){const r=[];let s,a,l,h,m,v;for(s=0,a=n.length,m=0;s<a;++s){l=n[s],h=l.box,h.update(l.width||t.w,l.height||t.h,oie(l.horizontal,t));const{same:C,other:D}=rie(t,e,l,i);m|=C&&r.length,v=v||D,h.fullSize||r.push(l)}return m&&Bv(r,t,e,i)||v}function pw(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function wV(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const l of n){const h=l.box,m=i[l.stack]||{count:1,placed:0,weight:1},v=l.stackWeight/m.weight||1;if(l.horizontal){const C=t.w*v,D=m.size||h.height;fa(m.start)&&(a=m.start),h.fullSize?pw(h,r.left,a,e.outerWidth-r.right-r.left,D):pw(h,t.left+m.placed,a,C,D),m.start=a,m.placed+=C,a=h.bottom}else{const C=t.h*v,D=m.size||h.width;fa(m.start)&&(s=m.start),h.fullSize?pw(h,s,r.top,D,e.outerHeight-r.bottom-r.top):pw(h,s,t.top+m.placed,D,C),m.start=s,m.placed+=C,s=h.right}}t.x=s,t.y=a}var Hs={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Vs(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),l=function iie(n){const t=function eie(n){const t=[];let e,i,r,s,a,l;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:a,stackWeight:l=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return t}(n),e=Nv(t.filter(m=>m.box.fullSize),!0),i=Nv(Lv(t,"left"),!0),r=Nv(Lv(t,"right")),s=Nv(Lv(t,"top"),!0),a=Nv(Lv(t,"bottom")),l=yV(t,"x"),h=yV(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(a).concat(l),chartArea:Lv(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(a).concat(l)}}(n.boxes),h=l.vertical,m=l.horizontal;Si(n.boxes,O=>{"function"==typeof O.beforeLayout&&O.beforeLayout()});const v=h.reduce((O,B)=>B.box.options&&!1===B.box.options.display?O:O+1,0)||1,C=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/v,hBoxMaxHeight:a/2}),D=Object.assign({},r);bV(D,Vs(i));const T=Object.assign({maxPadding:D,w:s,h:a,x:r.left,y:r.top},r),k=function nie(n,t){const e=function tie(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!vV.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:h}=l.box,m=e[l.stack],v=m&&l.stackWeight/m.weight;l.horizontal?(l.width=v?v*i:h&&t.availableWidth,l.height=r):(l.width=i,l.height=v?v*r:h&&t.availableHeight)}return e}(h.concat(m),C);Bv(l.fullSize,T,C,k),Bv(h,T,C,k),Bv(m,T,C,k)&&Bv(h,T,C,k),function sie(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(T),wV(l.leftAndTop,T,C,k),T.x+=T.w,T.y+=T.h,wV(l.rightAndBottom,T,C,k),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Si(l.chartArea,O=>{const B=O.box;Object.assign(B,n.chartArea),B.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class CV{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class aie extends CV{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const gw="$chartjs",lie={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xV=n=>null===n||""===n,DV=!!dne&&{passive:!0};function die(n,t,e){n.canvas.removeEventListener(t,e,DV)}function mw(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function fie(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||mw(l.addedNodes,i),a=a&&!mw(l.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function pie(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||mw(l.removedNodes,i),a=a&&!mw(l.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Vv=new Map;let EV=0;function SV(){const n=window.devicePixelRatio;n!==EV&&(EV=n,Vv.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function vie(n,t,e){const i=n.canvas,r=i&&eT(i);if(!r)return;const s=SB((l,h)=>{const m=r.clientWidth;e(l,h),m<r.clientWidth&&e()},window),a=new ResizeObserver(l=>{const h=l[0],m=h.contentRect.width,v=h.contentRect.height;0===m&&0===v||s(m,v)});return a.observe(r),function gie(n,t){Vv.size||window.addEventListener("resize",SV),Vv.set(n,t)}(n,s),a}function lT(n,t,e){e&&e.disconnect(),"resize"===t&&function mie(n){Vv.delete(n),Vv.size||window.removeEventListener("resize",SV)}(n)}function yie(n,t,e){const i=n.canvas,r=SB(s=>{null!==n.ctx&&e(function hie(n,t){const e=lie[n.type]||n.type,{x:i,y:r}=bh(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function uie(n,t,e){n.addEventListener(t,e,DV)}(i,t,r),r}class _ie extends CV{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function cie(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[gw]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",xV(r)){const s=KB(n,"width");void 0!==s&&(n.width=s)}if(xV(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=KB(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[gw])return!1;const i=e[gw].initial;["height","width"].forEach(s=>{const a=i[s];pi(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[gw],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:fie,detach:pie,resize:vie}[e]||yie)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:lT,detach:lT,resize:lT}[e]||die)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function une(n,t,e,i){const r=aw(n),s=_h(r,"margin"),a=ow(r.maxWidth,n,"clientWidth")||J0,l=ow(r.maxHeight,n,"clientHeight")||J0,h=function cne(n,t,e){let i,r;if(void 0===t||void 0===e){const s=eT(n);if(s){const a=s.getBoundingClientRect(),l=aw(s),h=_h(l,"border","width"),m=_h(l,"padding");t=a.width-m.width-h.width,e=a.height-m.height-h.height,i=ow(l.maxWidth,s,"clientWidth"),r=ow(l.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||J0,maxHeight:r||J0}}(n,t,e);let{width:m,height:v}=h;if("content-box"===r.boxSizing){const D=_h(r,"border","width"),T=_h(r,"padding");m-=T.width+D.width,v-=T.height+D.height}return m=Math.max(0,m-s.width),v=Math.max(0,i?m/i:v-s.height),m=lw(Math.min(m,a,h.maxWidth)),v=lw(Math.min(v,l,h.maxHeight)),m&&!v&&(v=lw(m/2)),(void 0!==t||void 0!==e)&&i&&h.height&&v>h.height&&(v=h.height,m=lw(Math.floor(v*i))),{width:m,height:v}}(t,e,i,r)}isAttached(t){const e=eT(t);return!(!e||!e.isConnected)}}class Xa{constructor(){Bt(this,"active",!1)}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Pp(this.x)&&Pp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function vw(n,t,e,i,r){const s=Bn(i,0),a=Math.min(Bn(r,n.length),n.length);let h,m,v,l=0;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),v=s;v<0;)l++,v=Math.round(s+l*e);for(m=Math.max(s,0);m<a;m++)m===v&&(t.push(n[m]),l++,v=Math.round(s+l*e))}Bt(Xa,"defaults",{}),Bt(Xa,"defaultRoutes");const MV=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function TV(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function Tie(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,l=1e-6;let m,h=n.getPixelForTick(r);if(!(e&&(m=1===i?Math.max(h-s,a-h):0===t?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<t?m:-m,h<s-l||h>a+l)))return h}function Hv(n){return n.drawTicks?n.tickLength:0}function AV(n,t){if(!n.display)return 0;const e=Jr(n.font,t),i=Vs(n.padding);return(Gi(n.text)?n.text.length:1)*e.lineHeight+i.height}function Rie(n,t,e){let i=GM(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class Dh extends Xa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=zo(t,Number.POSITIVE_INFINITY),e=zo(e,Number.NEGATIVE_INFINITY),i=zo(i,Number.POSITIVE_INFINITY),r=zo(r,Number.NEGATIVE_INFINITY),{min:zo(t,i),max:zo(e,r),minDefined:_r(t),maxDefined:_r(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const l=this.getMatchingVisibleMetas();for(let h=0,m=l.length;h<m;++h)a=l[h].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:zo(e,zo(i,e)),max:zo(i,zo(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bi(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function $te(n,t,e){const{min:i,max:r}=n,s=fB(t,(r-i)/2),a=(l,h)=>e&&0===l?0:l+h;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=l<this.ticks.length;this._convertTicksToLabels(h?TV(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function wie(n,t){const e=n.options.ticks,i=function Cie(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?function Die(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=s.length,l=s[0],h=s[a-1],m=[];if(a>r)return function Eie(n,t,e,i){let a,r=0,s=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}(t,m,s,a/r),m;const v=function xie(n,t,e){const i=function Sie(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function pte(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let a=0,l=s.length-1;a<l;a++){const h=s[a];if(h>r)return h}return Math.max(r,1)}(s,t,r);if(a>0){let C,D;const T=a>1?Math.round((h-l)/(a-1)):null;for(vw(t,m,v,pi(T)?0:l-T,l),C=0,D=a-1;C<D;C++)vw(t,m,v,s[C],s[C+1]);return vw(t,m,v,h,pi(T)?t.length:h+T),m}return vw(t,m,v),m}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bi(this.options.afterUpdate,[this])}beforeSetDimensions(){Bi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Bi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Bi(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Bi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,s=e.maxRotation;let l,h,m,a=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const v=this._getLabelSizes(),C=v.widest.width,D=v.highest.height,T=fs(this.chart.width-C,0,this.maxWidth);l=t.offset?this.maxWidth/i:T/(i-1),C+6>l&&(l=T/(i-(t.offset?.5:1)),h=this.maxHeight-Hv(t.grid)-e.padding-AV(t.title,this.chart.options.font),m=Math.sqrt(C*C+D*D),a=$M(Math.min(Math.asin(fs((v.highest.height+6)/l,-1,1)),Math.asin(fs(h/m,-1,1))-Math.asin(fs(D/m,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Bi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const h=AV(r,e.options.font);if(l?(t.width=this.maxWidth,t.height=Hv(s)+h):(t.height=this.maxHeight,t.width=Hv(s)+h),i.display&&this.ticks.length){const{first:m,last:v,widest:C,highest:D}=this._getLabelSizes(),T=2*i.padding,k=Ya(this.labelRotation),O=Math.cos(k),B=Math.sin(k);l?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:B*C.width+O*D.height)+T):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:O*C.width+B*D.height)+T),this._calculatePadding(m,v,B,O)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,h=0!==this.labelRotation,m="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,C=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,T=0;h?m?(D=r*t.width,T=i*e.height):(D=i*t.height,T=r*e.width):"start"===s?T=e.width:"end"===s?D=t.width:"inner"!==s&&(D=t.width/2,T=e.width/2),this.paddingLeft=Math.max((D-v+a)*this.width/(this.width-v),0),this.paddingRight=Math.max((T-C+a)*this.width/(this.width-C),0)}else{let v=e.height/2,C=t.height/2;"start"===s?(v=0,C=t.height):"end"===s&&(v=e.height,C=0),this.paddingTop=v+a,this.paddingBottom=C+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)pi(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=TV(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,s=[],a=[];let m,v,C,D,T,k,O,B,V,q,te,l=0,h=0;for(m=0;m<e;++m){if(D=t[m].label,T=this._resolveTickFontOptions(m),i.font=k=T.string,O=r[k]=r[k]||{data:{},gc:[]},B=T.lineHeight,V=q=0,pi(D)||Gi(D)){if(Gi(D))for(v=0,C=D.length;v<C;++v)te=D[v],!pi(te)&&!Gi(te)&&(V=nw(i,O.data,O.gc,V,te),q+=B)}else V=nw(i,O.data,O.gc,V,D),q=B;s.push(V),a.push(q),l=Math.max(V,l),h=Math.max(q,h)}!function Aie(n,t){Si(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(r,e);const $=s.indexOf(l),pe=a.indexOf(h),_e=Xe=>({width:s[Xe]||0,height:a[Xe]||0});return{first:_e(0),last:_e(e-1),widest:_e($),highest:_e(pe),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function vte(n){return fs(n,-32768,32767)}(this._alignToPixels?mh(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function Iie(n,t,e){return td(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function kie(n,t){return td(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ya(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,l=s?s.widest.width+a:0,h=s?s.highest.height+a:0;return this.isHorizontal()?h*i>l*r?l/i:h/r:h*r<l*i?h/i:l/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:l}=r,h=s.offset,m=this.isHorizontal(),C=this.ticks.length+(h?1:0),D=Hv(s),T=[],k=l.setContext(this.getContext()),O=k.display?k.width:0,B=O/2,V=function(pt){return mh(i,pt,O)};let q,te,$,pe,_e,Xe,ut,Rt,$t,sn,Zt,Un;if("top"===a)q=V(this.bottom),Xe=this.bottom-D,Rt=q-B,sn=V(t.top)+B,Un=t.bottom;else if("bottom"===a)q=V(this.top),sn=t.top,Un=V(t.bottom)-B,Xe=q+B,Rt=this.top+D;else if("left"===a)q=V(this.right),_e=this.right-D,ut=q-B,$t=V(t.left)+B,Zt=t.right;else if("right"===a)q=V(this.left),$t=t.left,Zt=V(t.right)-B,_e=q+B,ut=this.left+D;else if("x"===e){if("center"===a)q=V((t.top+t.bottom)/2+.5);else if(ri(a)){const pt=Object.keys(a)[0];q=V(this.chart.scales[pt].getPixelForValue(a[pt]))}sn=t.top,Un=t.bottom,Xe=q+B,Rt=Xe+D}else if("y"===e){if("center"===a)q=V((t.left+t.right)/2);else if(ri(a)){const pt=Object.keys(a)[0];q=V(this.chart.scales[pt].getPixelForValue(a[pt]))}_e=q-B,ut=_e-D,$t=t.left,Zt=t.right}const Mi=Bn(r.ticks.maxTicksLimit,C),$n=Math.max(1,Math.ceil(C/Mi));for(te=0;te<C;te+=$n){const pt=this.getContext(te),Ct=s.setContext(pt),kt=l.setContext(pt),tn=Ct.lineWidth,xi=Ct.color,es=kt.dash||[],qi=kt.dashOffset,As=Ct.tickWidth,bi=Ct.tickColor,Qa=Ct.tickBorderDash||[],Ja=Ct.tickBorderDashOffset;$=Tie(this,te,h),void 0!==$&&(pe=mh(i,$,tn),m?_e=ut=$t=Zt=pe:Xe=Rt=sn=Un=pe,T.push({tx1:_e,ty1:Xe,tx2:ut,ty2:Rt,x1:$t,y1:sn,x2:Zt,y2:Un,width:tn,color:xi,borderDash:es,borderDashOffset:qi,tickWidth:As,tickColor:bi,tickBorderDash:Qa,tickBorderDashOffset:Ja}))}return this._ticksLength=C,this._borderValue=q,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:m,padding:v,mirror:C}=s,D=Hv(i.grid),T=D+v,k=C?-v:T,O=-Ya(this.labelRotation),B=[];let V,q,te,$,pe,_e,Xe,ut,Rt,$t,sn,Zt,Un="middle";if("top"===r)_e=this.bottom-k,Xe=this._getXAxisLabelAlignment();else if("bottom"===r)_e=this.top+k,Xe=this._getXAxisLabelAlignment();else if("left"===r){const $n=this._getYAxisLabelAlignment(D);Xe=$n.textAlign,pe=$n.x}else if("right"===r){const $n=this._getYAxisLabelAlignment(D);Xe=$n.textAlign,pe=$n.x}else if("x"===e){if("center"===r)_e=(t.top+t.bottom)/2+T;else if(ri(r)){const $n=Object.keys(r)[0];_e=this.chart.scales[$n].getPixelForValue(r[$n])+T}Xe=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)pe=(t.left+t.right)/2-T;else if(ri(r)){const $n=Object.keys(r)[0];pe=this.chart.scales[$n].getPixelForValue(r[$n])}Xe=this._getYAxisLabelAlignment(D).textAlign}"y"===e&&("start"===h?Un="top":"end"===h&&(Un="bottom"));const Mi=this._getLabelSizes();for(V=0,q=l.length;V<q;++V){te=l[V],$=te.label;const $n=s.setContext(this.getContext(V));ut=this.getPixelForTick(V)+s.labelOffset,Rt=this._resolveTickFontOptions(V),$t=Rt.lineHeight,sn=Gi($)?$.length:1;const pt=sn/2,Ct=$n.color,kt=$n.textStrokeColor,tn=$n.textStrokeWidth;let es,xi=Xe;if(a?(pe=ut,"inner"===Xe&&(xi=V===q-1?this.options.reverse?"left":"right":0===V?this.options.reverse?"right":"left":"center"),Zt="top"===r?"near"===m||0!==O?-sn*$t+$t/2:"center"===m?-Mi.highest.height/2-pt*$t+$t:$t/2-Mi.highest.height:"near"===m||0!==O?$t/2:"center"===m?Mi.highest.height/2-pt*$t:Mi.highest.height-sn*$t,C&&(Zt*=-1),0!==O&&!$n.showLabelBackdrop&&(pe+=$t/2*Math.sin(O))):(_e=ut,Zt=(1-sn)*$t/2),$n.showLabelBackdrop){const qi=Vs($n.backdropPadding),As=Mi.heights[V],bi=Mi.widths[V];let Qa=Zt-qi.top,Ja=0-qi.left;switch(Un){case"middle":Qa-=As/2;break;case"bottom":Qa-=As}switch(Xe){case"center":Ja-=bi/2;break;case"right":Ja-=bi}es={left:Ja,top:Qa,width:bi+qi.width,height:As+qi.height,color:$n.backdropColor}}B.push({label:$,font:Rt,textOffset:Zt,options:{rotation:O,color:Ct,strokeColor:kt,strokeWidth:tn,textAlign:xi,textBaseline:Un,translation:[pe,_e],backdrop:es}})}return B}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ya(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,l=t+s,h=this._getLabelSizes().widest.width;let m,v;return"left"===e?r?(v=this.right+s,"near"===i?m="left":"center"===i?(m="center",v+=h/2):(m="right",v+=h)):(v=this.right-l,"near"===i?m="right":"center"===i?(m="center",v-=h/2):(m="left",v=this.left)):"right"===e?r?(v=this.left+s,"near"===i?m="right":"center"===i?(m="center",v-=h/2):(m="left",v-=h)):(v=this.left+l,"near"===i?m="left":"center"===i?(m="center",v+=h/2):(m="right",v=this.right)):m="right",{textAlign:m,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const l=(h,m,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const h=r[s];e.drawOnChartArea&&l({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&l({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const l=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,v,C,D;this.isHorizontal()?(m=mh(t,this.left,a)-a/2,v=mh(t,this.right,l)+l/2,C=D=h):(C=mh(t,this.top,a)-a/2,D=mh(t,this.bottom,l)+l/2,m=v=h),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(m,C),e.lineTo(v,D),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&iw(i,r);const s=this.getLabelItems(t);for(const a of s)vh(i,a.label,0,a.textOffset,a.font,a.options);r&&rw(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Jr(i.font),a=Vs(i.padding),l=i.align;let h=s.lineHeight/2;"bottom"===e||"center"===e||ri(e)?(h+=a.bottom,Gi(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:m,titleY:v,maxWidth:C,rotation:D}=function Oie(n,t,e,i){const{top:r,left:s,bottom:a,right:l,chart:h}=n,{chartArea:m,scales:v}=h;let D,T,k,C=0;const O=a-r,B=l-s;if(n.isHorizontal()){if(T=Bs(i,s,l),ri(e)){const V=Object.keys(e)[0];k=v[V].getPixelForValue(e[V])+O-t}else k="center"===e?(m.bottom+m.top)/2+O-t:MV(n,e,t);D=l-s}else{if(ri(e)){const V=Object.keys(e)[0];T=v[V].getPixelForValue(e[V])-B+t}else T="center"===e?(m.left+m.right)/2-B+t:MV(n,e,t);k=Bs(i,a,r),C="left"===e?-br:br}return{titleX:T,titleY:k,maxWidth:D,rotation:C}}(this,h,e,l);vh(t,i.text,0,0,s,{color:i.color,maxWidth:C,rotation:D,textAlign:Rie(l,e,r),textBaseline:"middle",translation:[m,v]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Bn(t.grid&&t.grid.z,-1),r=Bn(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Dh.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];l[i]===this.id&&(!t||l.type===t)&&r.push(l)}return r}_resolveTickFontOptions(t){return Jr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class yw{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function Lie(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function Pie(n,t,e){const i=xv(Object.create(null),[e?Ir.get(e):{},Ir.get(t),n.defaults]);Ir.set(t,i),n.defaultRoutes&&function Fie(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),l=a.pop(),h=a.join(".");Ir.route(s,r,h,l)})}(t,n.defaultRoutes),n.descriptors&&Ir.describe(t,n.descriptors)}(t,a,i),this.override&&Ir.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ir[r]&&(delete Ir[r][i],this.override&&delete gh[i])}}class Nie{constructor(){this.controllers=new yw(Za,"datasets",!0),this.elements=new yw(Xa,"elements"),this.plugins=new yw(Object,"plugins"),this.scales=new yw(Dh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Si(r,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,e,i){const r=zM(t);Bi(i["before"+r],[],i),e[t](i),Bi(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Fl=new Nie;class Bie{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin;if(!1===Bi(a[i],[e,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){pi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Bn(i.options&&i.options.plugins,{}),s=function Vie(n){const t={},e=[],i=Object.keys(Fl.plugins.items);for(let s=0;s<i.length;s++)e.push(Fl.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function zie(n,{plugins:t,localIds:e},i,r){const s=[],a=n.getContext();for(const l of t){const h=l.id,m=Hie(i[h],r);null!==m&&s.push({plugin:l,options:$ie(n.config,{plugin:l,local:e[h]},m,a)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(h=>l.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Hie(n,t){return t||!1!==n?!0===n?{}:n:null}function $ie(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cT(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Ir.datasets[n]||{}).indexAxis||"x"}function _w(n,t){if("x"===n||"y"===n||"r"===n||(n=t.axis||function Gie(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.length>1&&_w(n[0].toLowerCase(),t)))return n;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function kV(n){const t=n.options||(n.options={});t.plugins=Bn(t.plugins,{}),t.scales=function Wie(n,t){const e=gh[n.type]||{scales:{}},i=t.scales||{},r=cT(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!ri(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=_w(a,l),m=function Uie(n,t){return n===t?"_index_":"_value_"}(h,r),v=e.scales||{};s[a]=Dv(Object.create(null),[{axis:h},l,v[h],v[m]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,h=a.indexAxis||cT(l,t),v=(gh[l]||{}).scales||{};Object.keys(v).forEach(C=>{const D=function jie(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(C,h),T=a[D+"AxisID"]||D;s[T]=s[T]||Object.create(null),Dv(s[T],[{axis:D},i[T],v[C]])})}),Object.keys(s).forEach(a=>{const l=s[a];Dv(l,[Ir.scales[l.type],Ir.scale])}),s}(n,t)}function IV(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const RV=new Map,OV=new Set;function bw(n,t){let e=RV.get(n);return e||(e=t(),RV.set(n,e),OV.add(e)),e}const zv=(n,t,e)=>{const i=Qu(t,e);void 0!==i&&n.add(i)};class Kie{constructor(t){this._config=function qie(n){return(n=n||{}).data=IV(n.data),kV(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=IV(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),kV(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return bw(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return bw(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return bw(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return bw(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),l=a.get(e);if(l)return l;const h=new Set;e.forEach(v=>{t&&(h.add(t),v.forEach(C=>zv(h,t,C))),v.forEach(C=>zv(h,r,C)),v.forEach(C=>zv(h,gh[s]||{},C)),v.forEach(C=>zv(h,Ir,C)),v.forEach(C=>zv(h,qM,C))});const m=Array.from(h);return 0===m.length&&m.push(Object.create(null)),OV.has(e)&&a.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,gh[e]||{},Ir.datasets[e]||{},{type:e},Ir,qM]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=PV(this._resolverCache,t,r);let h=a;(function Zie(n,t){const{isScriptable:e,isIndexable:i}=BB(n);for(const r of t){const s=e(r),a=i(r),l=(a||s)&&n[r];if(s&&(Ju(l)||Yie(l))||a&&Gi(l))return!0}return!1})(a,e)&&(s.$shared=!1,h=Fp(a,i=Ju(i)?i():i,this.createResolver(t,i,l)));for(const m of e)s[m]=h[m];return s}createResolver(t,e,i=[""],r){const{resolver:s}=PV(this._resolverCache,t,i);return ri(e)?Fp(s,e,void 0,r):s}}function PV(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:XM(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const Yie=n=>ri(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||Ju(n[e]),!1),Qie=["top","bottom","left","right","chartArea"];function FV(n,t){return"top"===n||"bottom"===n||-1===Qie.indexOf(n)&&"x"===t}function LV(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function NV(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Bi(e&&e.onComplete,[n],t)}function Jie(n){const t=n.chart,e=t.options.animation;Bi(e&&e.onProgress,[n],t)}function BV(n){return WB()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ww={},VV=n=>{const t=BV(n);return Object.values(ww).filter(e=>e.canvas===t).pop()};function ere(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}class Fc{static register(...t){Fl.add(...t),HV()}static unregister(...t){Fl.remove(...t),HV()}constructor(t,e){const i=this.config=new Kie(e),r=BV(t),s=VV(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function bie(n){return!WB()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?aie:_ie}(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),h=l&&l.canvas,m=h&&h.height,v=h&&h.width;this.id=ste(),this.ctx=l,this.canvas=h,this.width=v,this.height=m,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Bie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function wte(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(C=>this.update(C),a.resizeDelay||0),this._dataChanges=[],ww[this.id]=this,l&&h?(Pc.listen(this,"complete",NV),Pc.listen(this,"progress",Jie),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return pi(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Fl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qB(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return FB(this.canvas,this.ctx),this}stop(){return Pc.stop(this),this}resize(t,e){Pc.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,qB(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Bi(i.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){Si(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const l=e[a],h=_w(a,l),m="r"===h,v="x"===h;return{options:l,dposition:m?"chartArea":v?"bottom":"left",dtype:m?"radialLinear":v?"category":"linear"}}))),Si(s,a=>{const l=a.options,h=l.id,m=_w(h,l),v=Bn(l.type,a.dtype);(void 0===l.position||FV(l.position,m)!==FV(a.dposition))&&(l.position=a.dposition),r[h]=!0;let C=null;h in i&&i[h].type===v?C=i[h]:(C=new(Fl.getScale(v))({id:h,type:v,ctx:this.ctx,chart:this}),i[C.id]=C),C.init(l,t)}),Si(r,(a,l)=>{a||delete i[l]}),Si(i,a=>{Hs.configure(this,a,a.options),Hs.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(LV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||cT(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const h=Fl.getController(l),{datasetElementType:m,dataElementType:v}=Ir.datasets[l];Object.assign(h,{dataElementType:Fl.getElement(v),datasetElementType:m&&Fl.getElement(m)}),a.controller=new h(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Si(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let m=0,v=this.data.datasets.length;m<v;m++){const{controller:C}=this.getDatasetMeta(m),D=!r&&-1===s.indexOf(C);C.buildOrUpdateElements(D),a=Math.max(+C.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||Si(s,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(LV("z","_idx"));const{_active:l,_lastEvent:h}=this;h?this._eventHandler(h,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Si(this.scales,t=>{Hs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!mB(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e)ere(t,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!mB(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Hs.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Si(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ju(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Pc.has(this)?this.attached&&!Pc.running(this)&&Pc.start(this):(this.draw(),NV({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const a=e[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=function nre(n){const{xScale:t,yScale:e}=n;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}(t)||this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&iw(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&rw(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return kv(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=Jne.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=td(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,r);fa(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Pc.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),FB(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ww[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Si(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(h,m)=>{e.addEventListener(this,h,m),t[h]=m},r=(h,m)=>{t[h]&&(e.removeEventListener(this,h,m),delete t[h])},s=(h,m)=>{this.canvas&&this.resize(h,m)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){Si(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Si(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,a,l,h;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,h=t.length;l<h;++l){a=t[l];const m=a&&this.getDatasetMeta(a.datasetIndex).controller;m&&m[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!X0(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(h,m)=>h.filter(v=>!m.some(C=>v.datasetIndex===C.datasetIndex&&v.index===C.index)),a=s(e,t),l=i?t:s(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,l=this._getActiveElements(t,r,i,e),h=function dte(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),m=function tre(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Bi(s.onHover,[t,l,this],this),h&&Bi(s.onClick,[t,l,this],this));const v=!X0(l,r);return(v||e)&&(this._active=l,this._updateHoverStyles(l,r,e)),this._lastEvent=m,v}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}function HV(){return Si(Fc.instances,n=>n._plugins.invalidate())}function Bp(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Cw(n,t,e,i,r,s){const{x:a,y:l,startAngle:h,pixelMargin:m,innerRadius:v}=t,C=Math.max(t.outerRadius+i+e-m,0),D=v>0?v+i+e+m:0;let T=0;const k=r-h;if(i){const Ct=((v>0?v-i:0)+(C>0?C-i:0))/2;T=(k-(0!==Ct?k*Ct/(Ct+i):k))/2}const B=(k-Math.max(.001,k*C-e/nr)/C)/2,V=h+B+T,q=r-B-T,{outerStart:te,outerEnd:$,innerStart:pe,innerEnd:_e}=function sre(n,t,e,i){const r=function rre(n){return ZM(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),l=h=>{const m=(e-Math.min(s,h))*i/2;return fs(h,0,Math.min(s,m))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:fs(r.innerStart,0,a),innerEnd:fs(r.innerEnd,0,a)}}(t,D,C,q-V),Xe=C-te,ut=C-$,Rt=V+te/Xe,$t=q-$/ut,sn=D+pe,Zt=D+_e,Un=V+pe/sn,Mi=q-_e/Zt;if(n.beginPath(),s){const $n=(Rt+$t)/2;if(n.arc(a,l,C,Rt,$n),n.arc(a,l,C,$n,$t),$>0){const tn=Bp(ut,$t,a,l);n.arc(tn.x,tn.y,$,$t,q+br)}const pt=Bp(Zt,q,a,l);if(n.lineTo(pt.x,pt.y),_e>0){const tn=Bp(Zt,Mi,a,l);n.arc(tn.x,tn.y,_e,q+br,Mi+Math.PI)}const Ct=(q-_e/D+(V+pe/D))/2;if(n.arc(a,l,D,q-_e/D,Ct,!0),n.arc(a,l,D,Ct,V+pe/D,!0),pe>0){const tn=Bp(sn,Un,a,l);n.arc(tn.x,tn.y,pe,Un+Math.PI,V-br)}const kt=Bp(Xe,V,a,l);if(n.lineTo(kt.x,kt.y),te>0){const tn=Bp(Xe,Rt,a,l);n.arc(tn.x,tn.y,te,V-br,Rt)}}else{n.moveTo(a,l);const $n=Math.cos(Rt)*C+a,pt=Math.sin(Rt)*C+l;n.lineTo($n,pt);const Ct=Math.cos($t)*C+a,kt=Math.sin($t)*C+l;n.lineTo(Ct,kt)}n.closePath()}Bt(Fc,"defaults",Ir),Bt(Fc,"instances",ww),Bt(Fc,"overrides",gh),Bt(Fc,"registry",Fl),Bt(Fc,"version","4.1.1"),Bt(Fc,"getChart",VV);class xw extends Xa{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=wB(r,{x:t,y:e}),{startAngle:l,endAngle:h,innerRadius:m,outerRadius:v,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),D=this.options.spacing/2,k=Bn(C,h-l)>=Wi||Sv(s,l,h),O=Rc(a,m+D,v+D);return k&&O}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:h,spacing:m}=this.options,v=(r+s)/2,C=(a+l+m+h)/2;return{x:e+Math.cos(v)*C,y:i+Math.sin(v)*C}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>Wi?Math.floor(i/Wi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*r,Math.sin(l)*r);const m=r*(1-Math.sin(Math.min(nr,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function ore(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:l}=t;let h=t.endAngle;if(s){Cw(n,t,e,i,h,r);for(let m=0;m<s;++m)n.fill();isNaN(l)||(h=a+(l%Wi||Wi))}Cw(n,t,e,i,h,r),n.fill()}(t,this,m,s,a),function are(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:l,options:h}=t,{borderWidth:m,borderJoinStyle:v}=h,C="inner"===h.borderAlign;if(!m)return;C?(n.lineWidth=2*m,n.lineJoin=v||"round"):(n.lineWidth=m,n.lineJoin=v||"bevel");let D=t.endAngle;if(s){Cw(n,t,e,i,D,r);for(let T=0;T<s;++T)n.stroke();isNaN(l)||(D=a+(l%Wi||Wi))}C&&function ire(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:h}=t;let m=r/l;n.beginPath(),n.arc(s,a,l,i-m,e+m),h>r?(m=r/h,n.arc(s,a,h,e+m,i-m,!0)):n.arc(s,a,r,e+br,i-br),n.closePath(),n.clip()}(n,t,D),s||(Cw(n,t,e,i,D,r),n.stroke())}(t,this,m,s,a),t.restore()}}function zV(n,t,e=t){n.lineCap=Bn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Bn(e.borderDash,t.borderDash)),n.lineDashOffset=Bn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Bn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Bn(e.borderWidth,t.borderWidth),n.strokeStyle=Bn(e.borderColor,t.borderColor)}function lre(n,t,e){n.lineTo(e.x,e.y)}function $V(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:l}=t,h=Math.max(r,a),m=Math.min(s,l);return{count:i,start:h,loop:t.loop,ilen:m<h&&!(r<a&&s<a||r>l&&s>l)?i+m-h:m-h}}function ure(n,t,e,i){const{points:r,options:s}=t,{count:a,start:l,loop:h,ilen:m}=$V(r,e,i),v=function cre(n){return n.stepped?Ote:n.tension||"monotone"===n.cubicInterpolationMode?Pte:lre}(s);let T,k,O,{move:C=!0,reverse:D}=i||{};for(T=0;T<=m;++T)k=r[(l+(D?m-T:T))%a],!k.skip&&(C?(n.moveTo(k.x,k.y),C=!1):v(n,O,k,D,s.stepped),O=k);return h&&(k=r[(l+(D?m:0))%a],v(n,O,k,D,s.stepped)),!!h}function dre(n,t,e,i){const r=t.points,{count:s,start:a,ilen:l}=$V(r,e,i),{move:h=!0,reverse:m}=i||{};let D,T,k,O,B,V,v=0,C=0;const q=$=>(a+(m?l-$:$))%s,te=()=>{O!==B&&(n.lineTo(v,B),n.lineTo(v,O),n.lineTo(v,V))};for(h&&(T=r[q(0)],n.moveTo(T.x,T.y)),D=0;D<=l;++D){if(T=r[q(D)],T.skip)continue;const $=T.x,pe=T.y,_e=0|$;_e===k?(pe<O?O=pe:pe>B&&(B=pe),v=(C*v+$)/++C):(te(),n.lineTo($,pe),k=_e,C=0,O=B=pe),V=pe}te()}function uT(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?ure:dre}Bt(xw,"id","arc"),Bt(xw,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Bt(xw,"defaultRoutes",{backgroundColor:"backgroundColor"});const gre="function"==typeof Path2D;class nd extends Xa{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(rne(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function _ne(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:l}=function vne(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function tV(n,t,e,i){return i&&i.setContext&&e?function bne(n,t,e,i){const r=n._chart.getContext(),s=nV(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,h=e.length,m=[];let v=s,C=t[0].start,D=C;function T(k,O,B,V){const q=l?-1:1;if(k!==O){for(k+=h;e[k%h].skip;)k-=q;for(;e[O%h].skip;)O+=q;k%h!=O%h&&(m.push({start:k%h,end:O%h,loop:B,style:V}),v=V,C=O%h)}}for(const k of t){C=l?C:k.start;let B,O=e[C%h];for(D=C+1;D<=k.end;D++){const V=e[D%h];B=nV(i.setContext(td(r,{type:"segment",p0:O,p1:V,p0DataIndex:(D-1)%h,p1DataIndex:D%h,datasetIndex:a}))),wne(B,v)&&T(C,D-1,k.loop,v),O=V,v=B}C<D-1&&T(C,D-1,k.loop,v)}return m}(n,t,e,i):t}(n,!0===i?[{start:a,end:l,loop:s}]:function yne(n,t,e,i){const r=n.length,s=[];let h,a=t,l=n[t];for(h=t+1;h<=e;++h){const m=n[h%r];m.skip||m.stop?l.skip||(s.push({start:t%r,end:(h-1)%r,loop:i=!1}),t=a=m.stop?h:null):(a=h,l.skip&&(t=h)),l=m}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(e,a,l<a?l+r:l,!!n._fullLoop&&0===a&&l===r-1),e,t)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,a=eV(this,{property:e,start:r,end:r});if(!a.length)return;const l=[],h=function hre(n){return n.stepped?hne:n.tension||"monotone"===n.cubicInterpolationMode?fne:wh}(i);let m,v;for(m=0,v=a.length;m<v;++m){const{start:C,end:D}=a[m],T=s[C],k=s[D];if(T===k){l.push(T);continue}const B=h(T,k,Math.abs((r-T[e])/(k[e]-T[e])),i.stepped);B[e]=t[e],l.push(B)}return 1===l.length?l[0]:l}pathSegment(t,e,i){return uT(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=uT(this);let a=this._loop;e=e||0,i=i||this.points.length-e;for(const l of r)a&=s(t,this,l,{start:e,end:e+i-1});return!!a}draw(t,e,i,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function mre(n,t,e,i){gre&&!t.options.segment?function fre(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),zV(n,t.options),n.stroke(r)}(n,t,e,i):function pre(n,t,e,i){const{segments:r,options:s}=t,a=uT(t);for(const l of r)zV(n,s,l.style),n.beginPath(),a(n,t,l,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function jV(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}Bt(nd,"id","line"),Bt(nd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Bt(nd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Bt(nd,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Dw extends Xa{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return jV(this,t,"x",e)}inYRange(t,e){return jV(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!kv(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,YM(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function UV(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let l,h,m,v,C;return n.horizontal?(C=a/2,l=Math.min(e,r),h=Math.max(e,r),m=i-C,v=i+C):(C=s/2,l=e-C,h=e+C,m=Math.min(i,r),v=Math.max(i,r)),{left:l,top:m,right:h,bottom:v}}function id(n,t,e,i){return n?0:fs(t,e,i)}function dT(n,t,e,i){const r=null===t,s=null===e,l=n&&!(r&&s)&&UV(n,i);return l&&(r||Rc(t,l.left,l.right))&&(s||Rc(e,l.top,l.bottom))}function wre(n,t){n.rect(t.x,t.y,t.w,t.h)}function hT(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}Bt(Dw,"id","point"),Bt(Dw,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Bt(Dw,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Ew extends Xa{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function _re(n){const t=UV(n),e=t.right-t.left,i=t.bottom-t.top,r=function vre(n,t,e){const r=n.borderSkipped,s=NB(n.options.borderWidth);return{t:id(r.top,s.top,0,e),r:id(r.right,s.right,0,t),b:id(r.bottom,s.bottom,0,e),l:id(r.left,s.left,0,t)}}(n,e/2,i/2),s=function yre(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=yh(r),a=Math.min(t,e),l=n.borderSkipped,h=i||ri(r);return{topLeft:id(!h||l.top||l.left,s.topLeft,0,a),topRight:id(!h||l.top||l.right,s.topRight,0,a),bottomLeft:id(!h||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:id(!h||l.bottom||l.right,s.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function bre(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?Iv:wre;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),l(t,hT(a,e,s)),t.clip(),l(t,hT(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,hT(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return dT(this,t,e,i)}inXRange(t,e){return dT(this,t,null,e)}inYRange(t,e){return dT(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Bt(Ew,"id","bar"),Bt(Ew,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Bt(Ew,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Cre=Object.freeze({__proto__:null,ArcElement:xw,LineElement:nd,PointElement:Dw,BarElement:Ew});const fT=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],GV=fT.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function WV(n){return fT[n%fT.length]}function qV(n){return GV[n%GV.length]}function KV(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var Mre={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{options:{elements:i},data:{datasets:r}}=n.config;if(!e.forceOverride&&(KV(r)||i&&KV(i)))return;const s=function Sre(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof Ch?t=function Dre(n,t){return n.backgroundColor=n.data.map(()=>WV(t++)),t}(e,t):r instanceof Pv?t=function Ere(n,t){return n.backgroundColor=n.data.map(()=>qV(t++)),t}(e,t):r&&(t=function xre(n,t){return n.borderColor=WV(t),n.backgroundColor=qV(t),++t}(e,t))}}(n);r.forEach(s)}};function YV(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function ZV(n){n.data.datasets.forEach(t=>{YV(t)})}var Ire={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void ZV(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:l}=r,h=n.getDatasetMeta(s),m=a||r.data;if("y"===Rv([l,n.options.indexAxis])||!h.controller.supportsDecimation)return;const v=n.scales[h.xAxisID];if("linear"!==v.type&&"time"!==v.type||n.options.parsing)return;let k,{start:C,count:D}=function kre(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:a,max:l,minDefined:h,maxDefined:m}=s.getUserBounds();return h&&(i=fs(Oc(t,s.axis,a).lo,0,e-1)),r=m?fs(Oc(t,s.axis,l).hi+1,i,e)-i:e-i,{start:i,count:r}}(h,m);if(D<=(e.threshold||4*i))YV(r);else{switch(pi(a)&&(r._data=m,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(O){this._data=O}})),e.algorithm){case"lttb":k=function Tre(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],l=(e-2)/(s-2);let h=0;const m=t+e-1;let C,D,T,k,O,v=t;for(a[h++]=n[v],C=0;C<s-2;C++){let q,B=0,V=0;const te=Math.floor((C+1)*l)+1+t,$=Math.min(Math.floor((C+2)*l)+1,e)+t,pe=$-te;for(q=te;q<$;q++)B+=n[q].x,V+=n[q].y;B/=pe,V/=pe;const _e=Math.floor(C*l)+1+t,Xe=Math.min(Math.floor((C+1)*l)+1,e)+t,{x:ut,y:Rt}=n[v];for(T=k=-1,q=_e;q<Xe;q++)k=.5*Math.abs((ut-B)*(n[q].y-Rt)-(ut-n[q].x)*(V-Rt)),k>T&&(T=k,D=n[q],O=q);a[h++]=D,v=O}return a[h++]=n[m],a}(m,C,D,i,e);break;case"min-max":k=function Are(n,t,e,i){let a,l,h,m,v,C,D,T,k,O,r=0,s=0;const B=[],q=n[t].x,$=n[t+e-1].x-q;for(a=t;a<t+e;++a){l=n[a],h=(l.x-q)/$*i,m=l.y;const pe=0|h;if(pe===v)m<k?(k=m,C=a):m>O&&(O=m,D=a),r=(s*r+l.x)/++s;else{const _e=a-1;if(!pi(C)&&!pi(D)){const Xe=Math.min(C,D),ut=Math.max(C,D);Xe!==T&&Xe!==_e&&B.push({...n[Xe],x:r}),ut!==T&&ut!==_e&&B.push({...n[ut],x:r})}a>0&&_e!==T&&B.push(n[_e]),B.push(l),v=pe,s=0,k=O=m,C=D=T=a}}return B}(m,C,D,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=k}})},destroy(n){ZV(n)}};function pT(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=$o(r),s=$o(s)),{property:n,start:r,end:s}}function gT(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function XV(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function QV(n,t){let e=[],i=!1;return Gi(n)?(i=!0,e=n):e=function Ore(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:l})=>{l=gT(a,l,r);const h=r[a],m=r[l];null!==i?(s.push({x:h.x,y:i}),s.push({x:m.x,y:i})):null!==e&&(s.push({x:e,y:h.y}),s.push({x:e,y:m.y}))}),s}(n,t),e.length?new nd({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function JV(n){return n&&!1!==n.fill}function Pre(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!_r(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Fre(n,t,e){const i=function Vre(n){const t=n.options,e=t.fill;let i=Bn(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(ri(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return _r(r)&&Math.floor(r)===r?function Lre(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function $re(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:l,point:h}=jre(s,t,"x");if(!(!h||a&&l))if(a)i.unshift(h);else if(n.push(h),!l)break}n.push(...i)}function jre(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let l=!1,h=!1;for(let m=0;m<s.length;m++){const v=s[m],C=a[v.start][e],D=a[v.end][e];if(Rc(r,C,D)){l=r===C,h=r===D;break}}return{first:l,last:h,point:i}}class eH{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return t.arc(r,s,a,(e=e||{start:0,end:Wi}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function mT(n,t,e){const i=function Ure(n){const{chart:t,fill:e,line:i}=n;if(_r(e))return function Gre(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function Hre(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,l=function zre(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);l.push(QV({x:null,y:t.bottom},i));for(let h=0;h<s.length;h++){const m=s[h];for(let v=m.start;v<=m.end;v++)$re(r,a[v],l)}return new nd({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function Wre(n){return(n.scale||{}).getPointPositionForValue?function Kre(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=function Bre(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:ri(n)?n.value:t.getBaseValue(),i}(e,t,s),l=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,s);return new eH({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(a)})}for(let h=0;h<r;++h)l.push(t.getPointPositionForValue(h,a));return l}(n):function qre(n){const{scale:t={},fill:e}=n,i=function Nre(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:ri(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(_r(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof eH?r:QV(r,i)}(t),{line:r,scale:s,axis:a}=t,l=r.options,h=l.fill,m=l.backgroundColor,{above:v=m,below:C=m}=h||{};i&&r.points.length&&(iw(n,e),function Yre(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:l}=t,h=e._loop?"angle":t.axis;n.save(),"x"===h&&s!==r&&(tH(n,i,a.top),nH(n,{line:e,target:i,color:r,scale:l,property:h}),n.restore(),n.save(),tH(n,i,a.bottom)),nH(n,{line:e,target:i,color:s,scale:l,property:h}),n.restore()}(n,{line:r,target:i,above:v,below:C,area:e,scale:s,axis:a}),rw(n))}function tH(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const l of i){const{start:h,end:m}=l,v=r[h],C=r[gT(h,m,r)];s?(n.moveTo(v.x,v.y),s=!1):(n.lineTo(v.x,e),n.lineTo(v.x,v.y)),a=!!t.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(C.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function nH(n,t){const{line:e,target:i,property:r,color:s,scale:a}=t,l=function Rre(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const l of i){let{start:h,end:m}=l;m=gT(h,m,r);const v=pT(e,r[h],r[m],l.loop);if(!t.segments){a.push({source:l,target:v,start:r[h],end:r[m]});continue}const C=eV(t,v);for(const D of C){const T=pT(e,s[D.start],s[D.end],D.loop),k=JB(l,r,T);for(const O of k)a.push({source:O,target:D,start:{[e]:XV(v,T,"start",Math.max)},end:{[e]:XV(v,T,"end",Math.min)}})}}return a}(e,i,r);for(const{source:h,target:m,start:v,end:C}of l){const{style:{backgroundColor:D=s}={}}=h,T=!0!==i;n.save(),n.fillStyle=D,Zre(n,a,T&&pT(r,v,C)),n.beginPath();const k=!!e.pathSegment(n,h);let O;if(T){k?n.closePath():iH(n,i,C,r);const B=!!i.pathSegment(n,m,{move:k,reverse:!0});O=k&&B,O||iH(n,i,v,r)}n.closePath(),n.fill(O?"evenodd":"nonzero"),n.restore()}}function Zre(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:l}=e||{};"x"===s&&(n.beginPath(),n.rect(a,i,l-a,r-i),n.clip())}function iH(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Xre={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,l,h;for(a=0;a<i;++a)s=n.getDatasetMeta(a),l=s.dataset,h=null,l&&l.options&&l instanceof nd&&(h={visible:n.isDatasetVisible(a),index:a,fill:Fre(l,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=h,r.push(h);for(a=0;a<i;++a)h=r[a],h&&!1!==h.fill&&(h.fill=Pre(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const l=r[a].$filler;!l||(l.line.updateControlPoints(s,l.axis),i&&l.fill&&mT(n.ctx,l,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;JV(s)&&mT(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!JV(i)||"beforeDatasetDraw"!==e.drawTime||mT(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rH=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class sH extends Xa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Bi(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=Jr(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:h}=rH(i,s);let m,v;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,v=this._fitRows(a,s,l,h)+10):(v=this.maxHeight,m=this._fitCols(a,r,l,h)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],v=r+l;let C=t;s.textAlign="left",s.textBaseline="middle";let D=-1,T=-v;return this.legendItems.forEach((k,O)=>{const B=i+e/2+s.measureText(k.text).width;(0===O||m[m.length-1]+B+2*l>a)&&(C+=v,m[m.length-(O>0?0:1)]=0,T+=v,D++),h[O]={left:0,top:T,row:D,width:B,height:r},m[m.length-1]+=B+l}),C}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],v=a-t;let C=l,D=0,T=0,k=0,O=0;return this.legendItems.forEach((B,V)=>{const{itemWidth:q,itemHeight:te}=function Jre(n,t,e,i,r){const s=function ese(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(r).width}(i,n,t,e),a=function tse(n,t,e){let i=n;return"string"!=typeof t.text&&(i=oH(t,e)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}(i,e,s,B,r);V>0&&T+te+2*l>v&&(C+=D+l,m.push({width:D,height:T}),k+=D+l,O++,D=T=0),h[V]={left:k,top:T,col:O,width:q,height:te},D=Math.max(D,q),T+=te+l}),C+=D,m.push({width:D,height:T}),C}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Np(s,this.left,this.width);if(this.isHorizontal()){let l=0,h=Bs(i,this.left+r,this.right-this.lineWidths[l]);for(const m of e)l!==m.row&&(l=m.row,h=Bs(i,this.left+r,this.right-this.lineWidths[l])),m.top+=this.top+t+r,m.left=a.leftForLtr(a.x(h),m.width),h+=m.width+r}else{let l=0,h=Bs(i,this.top+t+r,this.bottom-this.columnSizes[l].height);for(const m of e)m.col!==l&&(l=m.col,h=Bs(i,this.top+t+r,this.bottom-this.columnSizes[l].height)),m.top=h,m.left+=this.left+r,m.left=a.leftForLtr(a.x(m.left),m.width),h+=m.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;iw(t,this),this._draw(),rw(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,l=Ir.color,h=Np(t.rtl,this.left,this.width),m=Jr(a.font),{padding:v}=a,C=m.size,D=C/2;let T;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:k,boxHeight:O,itemHeight:B}=rH(a,C),te=this.isHorizontal(),$=this._computeTitleHeight();T=te?{x:Bs(s,this.left+v,this.right-i[0]),y:this.top+v+$,line:0}:{x:this.left+v,y:Bs(s,this.top+$+v,this.bottom-e[0].height),line:0},YB(this.ctx,t.textDirection);const pe=B+v;this.legendItems.forEach((_e,Xe)=>{r.strokeStyle=_e.fontColor,r.fillStyle=_e.fontColor;const ut=r.measureText(_e.text).width,Rt=h.textAlign(_e.textAlign||(_e.textAlign=a.textAlign)),$t=k+D+ut;let sn=T.x,Zt=T.y;h.setWidth(this.width),te?Xe>0&&sn+$t+v>this.right&&(Zt=T.y+=pe,T.line++,sn=T.x=Bs(s,this.left+v,this.right-i[T.line])):Xe>0&&Zt+pe>this.bottom&&(sn=T.x=sn+e[T.line].width+v,T.line++,Zt=T.y=Bs(s,this.top+$+v,this.bottom-e[T.line].height)),function(_e,Xe,ut){if(isNaN(k)||k<=0||isNaN(O)||O<0)return;r.save();const Rt=Bn(ut.lineWidth,1);if(r.fillStyle=Bn(ut.fillStyle,l),r.lineCap=Bn(ut.lineCap,"butt"),r.lineDashOffset=Bn(ut.lineDashOffset,0),r.lineJoin=Bn(ut.lineJoin,"miter"),r.lineWidth=Rt,r.strokeStyle=Bn(ut.strokeStyle,l),r.setLineDash(Bn(ut.lineDash,[])),a.usePointStyle){const $t={radius:O*Math.SQRT2/2,pointStyle:ut.pointStyle,rotation:ut.rotation,borderWidth:Rt},sn=h.xPlus(_e,k/2);LB(r,$t,sn,Xe+D,a.pointStyleWidth&&k)}else{const $t=Xe+Math.max((C-O)/2,0),sn=h.leftForLtr(_e,k),Zt=yh(ut.borderRadius);r.beginPath(),Object.values(Zt).some(Un=>0!==Un)?Iv(r,{x:sn,y:$t,w:k,h:O,radius:Zt}):r.rect(sn,$t,k,O),r.fill(),0!==Rt&&r.stroke()}r.restore()}(h.x(sn),Zt,_e),sn=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(Rt,sn+k+D,te?sn+$t:this.right,t.rtl),function(_e,Xe,ut){vh(r,ut.text,_e,Xe+B/2,m,{strikethrough:ut.hidden,textAlign:h.textAlign(ut.textAlign)})}(h.x(sn),Zt,_e),te?T.x+=$t+v:T.y+="string"!=typeof _e.text?oH(_e,m.lineHeight):pe}),ZB(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Jr(e.font),r=Vs(e.padding);if(!e.display)return;const s=Np(t.rtl,this.left,this.width),a=this.ctx,l=e.position,m=r.top+i.size/2;let v,C=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),v=this.top+m,C=Bs(t.align,C,this.right-D);else{const k=this.columnSizes.reduce((O,B)=>Math.max(O,B.height),0);v=m+Bs(t.align,this.top,this.bottom-k-t.labels.padding-this._computeTitleHeight())}const T=Bs(l,C,C+D);a.textAlign=s.textAlign(GM(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,vh(a,e.text,T,v,i)}_computeTitleHeight(){const t=this.options.title,e=Jr(t.font),i=Vs(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Rc(t,this.left,this.right)&&Rc(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Rc(t,r.left,r.left+r.width)&&Rc(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function nse(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&Bi(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Bi(e.onHover,[t,i,this],this)}else i&&Bi(e.onClick,[t,i,this],this)}}function oH(n,t){return t*(n.text?n.text.length+.5:0)}var ise={id:"legend",_element:sH,start(n,t,e){const i=n.legend=new sH({ctx:n.ctx,options:e,chart:n});Hs.configure(n,i,e),Hs.addBox(n,i)},stop(n){Hs.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Hs.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(e?0:void 0),v=Vs(m.borderWidth);return{text:t[h.index].label,fillStyle:m.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:a&&(l||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class vT extends Xa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Gi(i.text)?i.text.length:1;this._padding=Vs(i.padding);const s=r*Jr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,l=a.align;let m,v,C,h=0;return this.isHorizontal()?(v=Bs(l,i,s),C=e+t,m=s-i):("left"===a.position?(v=i+t,C=Bs(l,r,e),h=-.5*nr):(v=s-t,C=Bs(l,e,r),h=.5*nr),m=r-e),{titleX:v,titleY:C,maxWidth:m,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Jr(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:h,rotation:m}=this._drawArgs(s);vh(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:m,textAlign:GM(e.align),textBaseline:"middle",translation:[a,l]})}}var sse={id:"title",_element:vT,start(n,t,e){!function rse(n,t){const e=new vT({ctx:n.ctx,options:t,chart:n});Hs.configure(n,e,t),Hs.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Hs.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Hs.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sw=new WeakMap;var ose={id:"subtitle",start(n,t,e){const i=new vT({ctx:n.ctx,options:e,chart:n});Hs.configure(n,i,e),Hs.addBox(n,i),Sw.set(n,i)},stop(n){Hs.removeBox(n,Sw.get(n)),Sw.delete(n)},beforeUpdate(n,t,e){const i=Sw.get(n);Hs.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $v={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i+=l.x,r+=l.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,a,l,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const h=n[s].element;if(h&&h.hasValue()){const v=jM(t,h.getCenterPoint());v<r&&(r=v,l=h)}}if(l){const h=l.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Ll(n,t){return t&&(Gi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Lc(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function ase(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function aH(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:l}=t,h=Jr(t.bodyFont),m=Jr(t.titleFont),v=Jr(t.footerFont),C=s.length,D=r.length,T=i.length,k=Vs(t.padding);let O=k.height,B=0,V=i.reduce(($,pe)=>$+pe.before.length+pe.lines.length+pe.after.length,0);V+=n.beforeBody.length+n.afterBody.length,C&&(O+=C*m.lineHeight+(C-1)*t.titleSpacing+t.titleMarginBottom),V&&(O+=T*(t.displayColors?Math.max(l,h.lineHeight):h.lineHeight)+(V-T)*h.lineHeight+(V-1)*t.bodySpacing),D&&(O+=t.footerMarginTop+D*v.lineHeight+(D-1)*t.footerSpacing);let q=0;const te=function($){B=Math.max(B,e.measureText($).width+q)};return e.save(),e.font=m.string,Si(n.title,te),e.font=h.string,Si(n.beforeBody.concat(n.afterBody),te),q=t.displayColors?a+2+t.boxPadding:0,Si(i,$=>{Si($.before,te),Si($.lines,te),Si($.after,te)}),q=0,e.font=v.string,Si(n.footer,te),e.restore(),B+=k.width,{width:B,height:O}}function use(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:l,right:h}}=n;let m="center";return"center"===i?m=r<=(l+h)/2?"left":"right":r<=s/2?m="left":r>=a-s/2&&(m="right"),function cse(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+s+a>t.width||"right"===n&&r-s-a<0)return!0}(m,n,t,e)&&(m="center"),m}function lH(n,t,e){const i=e.yAlign||t.yAlign||function lse(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||use(n,t,e,i),yAlign:i}}function cH(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:h}=e,m=r+s,{topLeft:v,topRight:C,bottomLeft:D,bottomRight:T}=yh(a);let k=function dse(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,l);const O=function hse(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,h,m);return"center"===h?"left"===l?k+=m:"right"===l&&(k-=m):"left"===l?k-=Math.max(v,D)+r:"right"===l&&(k+=Math.max(C,T)+r),{x:fs(k,0,i.width-t.width),y:fs(O,0,i.height-t.height)}}function Mw(n,t,e){const i=Vs(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function uH(n){return Ll([],Lc(n))}function dH(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const hH={beforeTitle:Ic,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ic,beforeBody:Ic,beforeLabel:Ic,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return pi(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ic,afterBody:Ic,beforeFooter:Ic,footer:Ic,afterFooter:Ic};function bo(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?hH[t].call(e,i):r}class yT extends Xa{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new rV(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function fse(n,t,e){return td(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=bo(i,"beforeTitle",this,t),s=bo(i,"title",this,t),a=bo(i,"afterTitle",this,t);let l=[];return l=Ll(l,Lc(r)),l=Ll(l,Lc(s)),l=Ll(l,Lc(a)),l}getBeforeBody(t,e){return uH(bo(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Si(t,s=>{const a={before:[],lines:[],after:[]},l=dH(i,s);Ll(a.before,Lc(bo(l,"beforeLabel",this,s))),Ll(a.lines,bo(l,"label",this,s)),Ll(a.after,Lc(bo(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(t,e){return uH(bo(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=bo(i,"beforeFooter",this,t),s=bo(i,"footer",this,t),a=bo(i,"afterFooter",this,t);let l=[];return l=Ll(l,Lc(r)),l=Ll(l,Lc(s)),l=Ll(l,Lc(a)),l}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],a=[];let h,m,l=[];for(h=0,m=e.length;h<m;++h)l.push(ase(this.chart,e[h]));return t.filter&&(l=l.filter((v,C,D)=>t.filter(v,C,D,i))),t.itemSort&&(l=l.sort((v,C)=>t.itemSort(v,C,i))),Si(l,v=>{const C=dH(t.callbacks,v);r.push(bo(C,"labelColor",this,v)),s.push(bo(C,"labelPointStyle",this,v)),a.push(bo(C,"labelTextColor",this,v))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(r.length){const l=$v[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const h=this._size=aH(this,i),m=Object.assign({},l,h),v=lH(this.chart,i,m),C=cH(i,m,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,s={opacity:1,x:C.x,y:C.y,width:h.width,height:h.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:h,topRight:m,bottomLeft:v,bottomRight:C}=yh(l),{x:D,y:T}=t,{width:k,height:O}=e;let B,V,q,te,$,pe;return"center"===s?($=T+O/2,"left"===r?(B=D,V=B-a,te=$+a,pe=$-a):(B=D+k,V=B+a,te=$-a,pe=$+a),q=B):(V="left"===r?D+Math.max(h,v)+a:"right"===r?D+k-Math.max(m,C)-a:this.caretX,"top"===s?(te=T,$=te-a,B=V-a,q=V+a):(te=T+O,$=te+a,B=V+a,q=V-a),pe=te),{x1:B,x2:V,x3:q,y1:te,y2:$,y3:pe}}drawTitle(t,e,i){const r=this.title,s=r.length;let a,l,h;if(s){const m=Np(i.rtl,this.x,this.width);for(t.x=Mw(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",a=Jr(i.titleFont),l=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,h=0;h<s;++h)e.fillText(r[h],m.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,h+1===s&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,e,i,r,s){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:h,boxWidth:m,boxPadding:v}=s,C=Jr(s.bodyFont),D=Mw(this,"left",s),T=r.x(D),O=e.y+(h<C.lineHeight?(C.lineHeight-h)/2:0);if(s.usePointStyle){const B={radius:Math.min(m,h)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},V=r.leftForLtr(T,m)+m/2,q=O+h/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,YM(t,B,V,q),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,YM(t,B,V,q)}else{t.lineWidth=ri(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const B=r.leftForLtr(T,m-v),V=r.leftForLtr(r.xPlus(T,1),m-v-2),q=yh(a.borderRadius);Object.values(q).some(te=>0!==te)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Iv(t,{x:B,y:O,w:m,h,radius:q}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Iv(t,{x:V,y:O+1,w:m-2,h:h-2,radius:q}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(B,O,m,h),t.strokeRect(B,O,m,h),t.fillStyle=a.backgroundColor,t.fillRect(V,O+1,m-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:h,boxWidth:m,boxPadding:v}=i,C=Jr(i.bodyFont);let D=C.lineHeight,T=0;const k=Np(i.rtl,this.x,this.width),O=function(ut){e.fillText(ut,k.x(t.x+T),t.y+D/2),t.y+=D+s},B=k.textAlign(a);let V,q,te,$,pe,_e,Xe;for(e.textAlign=a,e.textBaseline="middle",e.font=C.string,t.x=Mw(this,B,i),e.fillStyle=i.bodyColor,Si(this.beforeBody,O),T=l&&"right"!==B?"center"===a?m/2+v:m+2+v:0,$=0,_e=r.length;$<_e;++$){for(V=r[$],q=this.labelTextColors[$],e.fillStyle=q,Si(V.before,O),te=V.lines,l&&te.length&&(this._drawColorBox(e,t,$,k,i),D=Math.max(C.lineHeight,h)),pe=0,Xe=te.length;pe<Xe;++pe)O(te[pe]),D=C.lineHeight;Si(V.after,O)}T=0,D=C.lineHeight,Si(this.afterBody,O),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let a,l;if(s){const h=Np(i.rtl,this.x,this.width);for(t.x=Mw(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=h.textAlign(i.footerAlign),e.textBaseline="middle",a=Jr(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,l=0;l<s;++l)e.fillText(r[l],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:a}=this,{x:l,y:h}=t,{width:m,height:v}=i,{topLeft:C,topRight:D,bottomLeft:T,bottomRight:k}=yh(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(l+C,h),"top"===a&&this.drawCaret(t,e,i,r),e.lineTo(l+m-D,h),e.quadraticCurveTo(l+m,h,l+m,h+D),"center"===a&&"right"===s&&this.drawCaret(t,e,i,r),e.lineTo(l+m,h+v-k),e.quadraticCurveTo(l+m,h+v,l+m-k,h+v),"bottom"===a&&this.drawCaret(t,e,i,r),e.lineTo(l+T,h+v),e.quadraticCurveTo(l,h+v,l,h+v-T),"center"===a&&"left"===s&&this.drawCaret(t,e,i,r),e.lineTo(l,h+C),e.quadraticCurveTo(l,h,l+C,h),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const a=$v[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=aH(this,t),h=Object.assign({},a,this._size),m=lH(e,t,h),v=cH(t,h,m,e);(r._to!==v.x||s._to!==v.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Vs(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),YB(t,e.textDirection),s.y+=a.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),ZB(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:l,index:h})=>{const m=this.chart.getDatasetMeta(l);if(!m)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:m.data[h],index:h}}),s=!X0(i,r),a=this._positionChanged(r,e);(s||a)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(t,s,e,i),l=this._positionChanged(a,t),h=e||!X0(a,s)||l;return h&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,i,r){const s=this.options;if("mouseout"===t.type)return[];if(!r)return e;const a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,a=$v[s.position].call(this,t,e);return!1!==a&&(i!==a.x||r!==a.y)}}Bt(yT,"positioners",$v);var gse=Object.freeze({__proto__:null,Colors:Mre,Decimation:Ire,Filler:Xre,Legend:ise,SubTitle:ose,Title:sse,Tooltip:{id:"tooltip",_element:yT,positioners:$v,afterInit(n,t,e){e&&(n.tooltip=new yT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hH},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function fH(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class _T extends Dh{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(pi(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:fs(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function vse(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,Bn(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){return fH.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function pH(n,t,{horizontal:e,minRotation:i}){const r=Ya(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}Bt(_T,"id","category"),Bt(_T,"defaults",{ticks:{callback:fH}});class Tw extends Dh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return pi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=h=>r=e?r:h,l=h=>s=i?s:h;if(t){const h=Pl(r),m=Pl(s);h<0&&m<0?l(0):h>0&&m>0&&a(0)}if(r===s){let h=0===s?1:Math.abs(.05*s);l(s+h),t||a(r-h)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function _se(n,t){const e=[],{bounds:r,step:s,min:a,max:l,precision:h,count:m,maxTicks:v,maxDigits:C,includeBounds:D}=n,T=s||1,k=v-1,{min:O,max:B}=t,V=!pi(a),q=!pi(l),te=!pi(m),$=(B-O)/(C+1);let _e,Xe,ut,Rt,pe=yB((B-O)/k/T)*T;if(pe<1e-14&&!V&&!q)return[{value:O},{value:B}];Rt=Math.ceil(B/pe)-Math.floor(O/pe),Rt>k&&(pe=yB(Rt*pe/k/T)*T),pi(h)||(_e=Math.pow(10,h),pe=Math.ceil(pe*_e)/_e),"ticks"===r?(Xe=Math.floor(O/pe)*pe,ut=Math.ceil(B/pe)*pe):(Xe=O,ut=B),V&&q&&s&&function gte(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((l-a)/s,pe/1e3)?(Rt=Math.round(Math.min((l-a)/pe,v)),pe=(l-a)/Rt,Xe=a,ut=l):te?(Xe=V?a:Xe,ut=q?l:ut,Rt=m-1,pe=(ut-Xe)/Rt):(Rt=(ut-Xe)/pe,Rt=Ev(Rt,Math.round(Rt),pe/1e3)?Math.round(Rt):Math.ceil(Rt));const $t=Math.max(bB(pe),bB(Xe));_e=Math.pow(10,pi(h)?$t:h),Xe=Math.round(Xe*_e)/_e,ut=Math.round(ut*_e)/_e;let sn=0;for(V&&(D&&Xe!==a?(e.push({value:a}),Xe<a&&sn++,Ev(Math.round((Xe+sn*pe)*_e)/_e,a,pH(a,$,n))&&sn++):Xe<a&&sn++);sn<Rt;++sn)e.push({value:Math.round((Xe+sn*pe)*_e)/_e});return q&&D&&ut!==l?e.length&&Ev(e[e.length-1].value,l,pH(l,$,n))?e[e.length-1].value=l:e.push({value:l}):(!q||ut===l)&&e.push({value:ut}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&_B(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Tv(t,this.chart.options.locale,this.options.ticks.format)}}class bT extends Tw{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_r(t)?t:0,this.max=_r(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ya(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Bt(bT,"id","linear"),Bt(bT,"defaults",{ticks:{callback:tw.formatters.numeric}});const jv=n=>Math.floor(ed(n)),Eh=(n,t)=>Math.pow(10,jv(n)+t);function gH(n){return n/Math.pow(10,jv(n))==1}function mH(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}class wT extends Dh{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Tw.prototype.parse.apply(this,[t,e]);if(0!==i)return _r(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_r(t)?Math.max(0,t):null,this.max=_r(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_r(this._userMin)&&(this.min=t===Eh(this.min,0)?Eh(this.min,-1):Eh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,a=l=>r=e?r:l;i===r&&(i<=0?(s(1),a(10)):(s(Eh(i,-1)),a(Eh(r,1)))),i<=0&&s(Eh(r,-1)),r<=0&&a(Eh(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function wse(n,{min:t,max:e}){t=zo(n.min,t);const i=[],r=jv(t);let s=function bse(n,t){let i=jv(t-n);for(;mH(n,t,i)>10;)i++;for(;mH(n,t,i)<10;)i--;return Math.min(i,jv(n))}(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),h=r>s?Math.pow(10,r):0,m=Math.round((t-h)*a)/a,v=Math.floor((t-h)/l/10)*l*10;let C=Math.floor((m-v)/Math.pow(10,s)),D=zo(n.min,Math.round((h+v+C*Math.pow(10,s))*a)/a);for(;D<e;)i.push({value:D,major:gH(D),significand:C}),C>=10?C=C<15?15:20:C++,C>=20&&(s++,C=2,a=s>=0?1:a),D=Math.round((h+v+C*Math.pow(10,s))*a)/a;const T=zo(n.max,D);return i.push({value:T,major:gH(T),significand:C}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&_B(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":Tv(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ed(t),this._valueRange=ed(this.max)-ed(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ed(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function CT(n){const t=n.ticks;if(t.display&&n.display){const e=Vs(t.backdropPadding);return Bn(t.font&&t.font.size,Ir.font.size)+e.height}return 0}function Cse(n,t,e){return e=Gi(e)?e:[e],{w:Rte(n,t.string,e),h:e.length*t.lineHeight}}function vH(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Dse(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,h=0;i.start<t.l?(l=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+l)),r.start<t.t?(h=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+h))}function Sse(n){return 0===n||180===n?"center":n<180?"left":"right"}function Mse(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function Tse(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function yH(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,Wi);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}Bt(wT,"id","logarithmic"),Bt(wT,"defaults",{ticks:{callback:tw.formatters.logarithmic,major:{enabled:!0}}});class Uv extends Tw{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Vs(CT(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=_r(t)&&!isNaN(t)?t:0,this.max=_r(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/CT(this.options))}generateTickLabels(t){Tw.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Bi(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function xse(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?nr/s:0;for(let h=0;h<s;h++){const m=a.setContext(n.getPointLabelContext(h));r[h]=m.padding;const v=n.getPointPosition(h,n.drawingArea+r[h],l),C=Jr(m.font),D=Cse(n.ctx,C,n._pointLabels[h]);i[h]=D;const T=$o(n.getIndexAngle(h)+l),k=Math.round($M(T));Dse(e,t,T,vH(k,v.x,D.w,0,180),vH(k,v.y,D.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Ese(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,a=CT(s)/2,l=n.drawingArea,h=s.pointLabels.centerPointLabels?nr/r:0;for(let m=0;m<r;m++){const v=n.getPointPosition(m,l+a+e[m],h),C=Math.round($M($o(v.angle+br))),D=t[m],T=Tse(v.y,D.h,C),k=Sse(C),O=Mse(v.x,D.w,k);i.push({x:v.x,y:T,textAlign:k,left:O,top:T,right:O+D.w,bottom:T+D.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return $o(t*(Wi/(this._pointLabels.length||1))+Ya(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(pi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(pi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function Ise(n,t,e){return td(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-br+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),yH(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,a=this._pointLabels.length;let l,h,m;if(e.pointLabels.display&&function Ase(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),a=Jr(s.font),{x:l,y:h,textAlign:m,left:v,top:C,right:D,bottom:T}=n._pointLabelItems[r],{backdropColor:k}=s;if(!pi(k)){const O=yh(s.borderRadius),B=Vs(s.backdropPadding);e.fillStyle=k;const V=v-B.left,q=C-B.top,te=D-v+B.width,$=T-C+B.height;Object.values(O).some(pe=>0!==pe)?(e.beginPath(),Iv(e,{x:V,y:q,w:te,h:$,radius:O}),e.fill()):e.fillRect(V,q,te,$)}vh(e,n._pointLabels[r],l,h+a.lineHeight/2,a,{color:s.color,textAlign:m,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((v,C)=>{if(0!==C){h=this.getDistanceFromCenterForValue(v.value);const D=this.getContext(C),T=r.setContext(D),k=s.setContext(D);!function kse(n,t,e,i,r){const s=n.ctx,a=t.circular,{color:l,lineWidth:h}=t;!a&&!i||!l||!h||e<0||(s.save(),s.strokeStyle=l,s.lineWidth=h,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),yH(n,e,a,i),s.closePath(),s.stroke(),s.restore())}(this,T,h,a,k)}}),i.display){for(t.save(),l=a-1;l>=0;l--){const v=i.setContext(this.getPointLabelContext(l)),{color:C,lineWidth:D}=v;!D||!C||(t.lineWidth=D,t.strokeStyle=C,t.setLineDash(v.borderDash),t.lineDashOffset=v.borderDashOffset,h=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),m=this.getPointPosition(l,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(m.x,m.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,h)=>{if(0===h&&!e.reverse)return;const m=i.setContext(this.getContext(h)),v=Jr(m.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),m.showLabelBackdrop){t.font=v.string,a=t.measureText(l.label).width,t.fillStyle=m.backdropColor;const C=Vs(m.backdropPadding);t.fillRect(-a/2-C.left,-s-v.size/2-C.top,a+C.width,v.size+C.height)}vh(t,l.label,0,-s,v,{color:m.color})}),t.restore()}drawTitle(){}}Bt(Uv,"id","radialLinear"),Bt(Uv,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),Bt(Uv,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Bt(Uv,"descriptors",{angleLines:{_fallback:"grid"}});const Aw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wo=Object.keys(Aw);function Rse(n,t){return n-t}function _H(n,t){if(pi(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),_r(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!Pp(s)&&!0!==s?e.startOf(a,r):e.startOf(a,"isoWeek",s)),+a)}function bH(n,t,e,i){const r=wo.length;for(let s=wo.indexOf(n);s<r-1;++s){const a=Aw[wo[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(l*a.size))<=i)return wo[s]}return wo[r-1]}function wH(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=UM(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function CH(n,t,e){const i=[],r={},s=t.length;let a,l;for(a=0;a<s;++a)l=t[a],r[l]=a,i.push({value:l,major:!1});return 0!==s&&e?function Fse(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let l,h;for(l=s;l<=a;l=+r.add(l,1,i))h=e[l],h>=0&&(t[h].major=!0);return t}(n,i,r,e):i}class Gv extends Dh{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Kne__date(t.adapters.date);r.init(e),Dv(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:_H(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function h(m){!a&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!l&&!isNaN(m.max)&&(s=Math.max(s,m.max))}(!a||!l)&&(h(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&h(this.getMinMax(!1))),r=_r(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=_r(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,l=function _te(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(r,s,this.max);return this._unit=e.unit||(i.autoSkip?bH(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):function Ose(n,t,e,i,r){for(let s=wo.length-1;s>=wo.indexOf(e);s--){const a=wo[s];if(Aw[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return wo[e?wo.indexOf(e):0]}(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function Pse(n){for(let t=wo.indexOf(n)+1,e=wo.length;t<e;++t)if(Aw[wo[t]].common)return wo[t]}(this._unit):void 0,this.initOffsets(r),t.reverse&&l.reverse(),CH(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r,s,e=0,i=0;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),e=1===t.length?1-r:(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),i=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=fs(e,0,a),i=fs(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||bH(s.minUnit,e,i,this._getLabelCapacity(e)),l=Bn(r.ticks.stepSize,1),h="week"===a&&s.isoWeekday,m=Pp(h)||!0===h,v={};let D,T,C=e;if(m&&(C=+t.startOf(C,"isoWeek",h)),C=+t.startOf(C,m?"day":a),t.diff(i,e,a)>1e5*l)throw new Error(e+" and "+i+" are too far apart with stepSize of "+l+" "+a);const k="data"===r.ticks.source&&this.getDataTimestamps();for(D=C,T=0;D<i;D=+t.add(D,l,a),T++)wH(v,D,k);return(D===i||"ticks"===r.bounds||1===T)&&wH(v,D,k),Object.keys(v).sort((O,B)=>O-B).map(O=>+O)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}_tickFormatFunction(t,e,i,r){const s=this.options,a=s.ticks.callback;if(a)return Bi(a,[t,e,i],this);const l=s.time.displayFormats,h=this._unit,m=this._majorUnit,C=m&&l[m],D=i[e];return this._adapter.format(t,r||(m&&C&&D&&D.major?C:h&&l[h]))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ya(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,CH(this,[t],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e,i,t=this._cache.data||[];if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(_H(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return DB(t.sort(Rse))}}function kw(n,t,e){let s,a,l,h,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Oc(n,"pos",t)),({pos:s,time:l}=n[i]),({pos:a,time:h}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Oc(n,"time",t)),({time:s,pos:l}=n[i]),({time:a,pos:h}=n[r]));const m=a-s;return m?l+(h-l)*(t-s)/m:l}Bt(Gv,"id","time"),Bt(Gv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class xT extends Gv{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=kw(e,this.min),this._tableRange=kw(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,l,h,m,v;for(a=0,l=t.length;a<l;++a)m=t[a],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)v=r[a+1],h=r[a-1],m=r[a],Math.round((v+h)/2)!==m&&s.push({time:m,pos:a/(l-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(kw(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return kw(this._table,i*this._tableRange+this._minPos,!0)}}Bt(xT,"id","timeseries"),Bt(xT,"defaults",Gv.defaults),Fc.register(qne,Cre,gse,Object.freeze({__proto__:null,CategoryScale:_T,LinearScale:bT,LogarithmicScale:wT,RadialLinearScale:Uv,TimeScale:Gv,TimeSeriesScale:xT}));const xH=Fc;let Bse=(()=>{class n{constructor(){this.numOfMonths=1,this.selectedNumOfMonthsForCountryChart=new Ar("all"),this.selectedNumOfMonthsForTotalChart=new Ar("all"),this.chartsData=new gv([],null,1)}ngAfterViewInit(){this.dataSubscriber=this.chartService.getData().pipe(Hn(e=>{this.chartByCountry&&this.chartByCountry.destroy(),this.chartTotal&&this.chartTotal.destroy(),this.chartsData=e,this.numOfMonths=e.monthNumber+1,this.createCharts(e)})).subscribe()}ngOnDestroy(){this.dataSubscriber.unsubscribe()}createCharts(e){this.createCountryChart(e),this.createTotalChart(e)}changeLabelForCountryChart(){this.chartByCountry.destroy(),this.createCountryChart(this.chartsData)}changeLabelForTotalChart(){this.chartTotal.destroy(),this.createTotalChart(this.chartsData)}generateLabelsForCountryChart(){let e=[];if("all"==this.selectedNumOfMonthsForCountryChart.value)for(let i=0;i<this.numOfMonths;i++)e.push(i.toString());else if(this.numOfMonths>this.selectedNumOfMonthsForCountryChart.value)for(let i=this.numOfMonths-this.selectedNumOfMonthsForCountryChart.value;i<this.numOfMonths;i++)e.push(i.toString());else for(let i=0;i<this.selectedNumOfMonthsForCountryChart.value;i++)e.push(i.toString());return e}generateLabelsForTotalChart(){let e=[];if("all"==this.selectedNumOfMonthsForTotalChart.value)for(let i=0;i<this.numOfMonths;i++)e.push(i.toString());else if(this.numOfMonths>this.selectedNumOfMonthsForTotalChart.value)for(let i=this.numOfMonths-this.selectedNumOfMonthsForTotalChart.value;i<this.numOfMonths;i++)e.push(i.toString());else for(let i=0;i<this.selectedNumOfMonthsForTotalChart.value;i++)e.push(i.toString());return e}parseTotalFC(){return"all"==this.selectedNumOfMonthsForTotalChart.value?this.numOfMonths:this.selectedNumOfMonthsForTotalChart.value}parseCountryFC(){return"all"==this.selectedNumOfMonthsForCountryChart.value?this.numOfMonths:this.selectedNumOfMonthsForCountryChart.value}createCountryChart(e){this.chartByCountry=new xH(document.getElementById(this.chartService.getCountryChartId()),{type:"bar",data:{labels:this.generateLabelsForCountryChart(),datasets:[{label:"Romania",data:e.country?.romania.slice(-this.parseCountryFC()),backgroundColor:"#302474"},{label:"Poland",data:e.country?.poland.slice(-this.parseCountryFC()),backgroundColor:"#603494"},{label:"Spain",data:e.country?.spain.slice(-this.parseCountryFC()),backgroundColor:"#6864bc"},{label:"Germany",data:e.country?.germany.slice(-this.parseCountryFC()),backgroundColor:"#a094cc"},{label:"Great Britain",data:e.country?.greatBritain.slice(-this.parseCountryFC()),backgroundColor:"#b8bcf4"}]},options:{aspectRatio:2.5,responsive:!0,scales:{y:{title:{display:!0,text:this.chartService.getYAxisLabel()}},x:{title:{display:!0,text:this.chartService.getXAxisLabel()}}}}})}createTotalChart(e){this.chartTotal=new xH(document.getElementById(this.chartService.getTotalChartId()),{type:"line",data:{datasets:[{label:this.chartService.getYAxisLabel(),data:e.total.slice(-this.parseTotalFC()),backgroundColor:"#6864bc",borderColor:"#302474",fill:!0}],labels:this.generateLabelsForTotalChart()},options:{aspectRatio:2.5,responsive:!0,scales:{y:{title:{display:!0,text:this.chartService.getYAxisLabel()}},x:{title:{display:!0,text:this.chartService.getXAxisLabel()}}}}})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-chart-pair"]],inputs:{chartService:"chartService"},decls:42,vars:16,consts:[[1,"container"],["fxLayout","column","fxLayoutAlign","space-between center","fxLayoutGap","10px"],["appearance","fill"],[2,"width","auto"],[3,"formControl","selectionChange"],[3,"value"],["value","all"],[1,"chartDiv"],[3,"id"]],template:function(e,i){1&e&&(ce(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),Oe(4),he(),ce(5,"mat-form-field",2)(6,"mat-label",3),Oe(7,"Number of months on the chart"),he(),ce(8,"mat-select",4),Vt("selectionChange",function(){return i.changeLabelForCountryChart()}),ce(9,"mat-option",5),Oe(10,"6"),he(),ce(11,"mat-option",5),Oe(12,"12"),he(),ce(13,"mat-option",5),Oe(14,"18"),he(),ce(15,"mat-option",5),Oe(16,"24"),he(),ce(17,"mat-option",6),Oe(18,"all"),he()()(),ce(19,"div",7)(20,"canvas",8),Oe(21),he()()(),ce(22,"div")(23,"h2"),Oe(24),he(),ce(25,"mat-form-field",2)(26,"mat-label",3),Oe(27,"Number of months on the chart"),he(),ce(28,"mat-select",4),Vt("selectionChange",function(){return i.changeLabelForTotalChart()}),ce(29,"mat-option",5),Oe(30,"6"),he(),ce(31,"mat-option",5),Oe(32,"12"),he(),ce(33,"mat-option",5),Oe(34,"18"),he(),ce(35,"mat-option",5),Oe(36,"24"),he(),ce(37,"mat-option",6),Oe(38,"all"),he()()(),ce(39,"div",7)(40,"canvas",8),Oe(41),he()()()()()),2&e&&(ke(4),Hi(i.chartService.getCountryChartTitle()),ke(4),Ke("formControl",i.selectedNumOfMonthsForCountryChart),ke(1),Ke("value",6),ke(2),Ke("value",12),ke(2),Ke("value",18),ke(2),Ke("value",24),ke(5),Ke("id",i.chartService.getCountryChartId()),ke(1),Hi(i.chartByCountry),ke(3),Hi(i.chartService.getTotalChartTitle()),ke(4),Ke("formControl",i.selectedNumOfMonthsForTotalChart),ke(1),Ke("value",6),ke(2),Ke("value",12),ke(2),Ke("value",18),ke(2),Ke("value",24),ke(5),Ke("id",i.chartService.getTotalChartId()),ke(1),ar(" ",i.chartTotal,""))},dependencies:[Bo,Uu,Ka,wp,ch,lp,aS,xp,ah],styles:[".container[_ngcontent-%COMP%]{margin:1vh 1vw}.chartDiv[_ngcontent-%COMP%]{width:95vw;height:63vh}"]}),n})();const Vse=[{path:"",redirectTo:WE,pathMatch:"full"},{path:WE,component:NZ},{path:MP,component:XX,children:[{path:"",redirectTo:qE,pathMatch:"full"},{path:qE,component:kQ},{path:"miners",component:See},{path:AP,component:Oee},{path:kP,component:Lee},{path:"charts",component:(()=>{class n{constructor(e,i){this.minersAmountChartService=e,this.meanMoneyChartService=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(P(aM),P(lM))},n.\u0275cmp=un({type:n,selectors:[["app-charts"]],decls:2,vars:2,consts:[["id","minersAmountChart",3,"chartService"],["id","meanMoneyChart",3,"chartService"]],template:function(e,i){1&e&&rn(0,"app-chart-pair",0)(1,"app-chart-pair",1),2&e&&(Ke("chartService",i.minersAmountChartService),ke(1),Ke("chartService",i.meanMoneyChartService))},dependencies:[Bse]}),n})()}]}];let Hse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[EP.forRoot(Vse),EP]}),n})(),zse=(()=>{class n{constructor(){this.title="frontend"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,i){1&e&&(ce(0,"h1"),Oe(1,"Blockchain Network Simulator"),he(),rn(2,"router-outlet"))},dependencies:[xb],styles:["h1[_ngcontent-%COMP%]{margin-top:1vh;margin-left:1vw}"]}),n})();function DH(n){return new Ze(3e3,!1)}function Coe(){return typeof window<"u"&&typeof window.document<"u"}function DT(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function rd(n){switch(n.length){case 0:return new nv;case 1:return n[0];default:return new $L(n)}}function EH(n,t,e,i,r=new Map,s=new Map){const a=[],l=[];let h=-1,m=null;if(i.forEach(v=>{const C=v.get("offset"),D=C==h,T=D&&m||new Map;v.forEach((k,O)=>{let B=O,V=k;if("offset"!==O)switch(B=t.normalizePropertyName(B,a),V){case"!":V=r.get(O);break;case Dc:V=s.get(O);break;default:V=t.normalizeStyleValue(O,B,V,a)}T.set(B,V)}),D||l.push(T),m=T,h=C}),a.length)throw function uoe(n){return new Ze(3502,!1)}();return l}function ET(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ST(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ST(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ST(e,"destroy",n)))}}function ST(n,t,e){const s=MT(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function MT(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function jo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function SH(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let TT=(n,t)=>!1,MH=(n,t,e)=>[],TH=null;function AT(n){const t=n.parentNode||n.host;return t===TH?null:t}(DT()||typeof Element<"u")&&(Coe()?(TH=(()=>document.documentElement)(),TT=(n,t)=>{for(;t;){if(t===n)return!0;t=AT(t)}return!1}):TT=(n,t)=>n.contains(t),MH=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Sh=null,AH=!1;const kH=TT,IH=MH;let RH=(()=>{class n{validateStyleProperty(e){return function Doe(n){Sh||(Sh=function Eoe(){return typeof document<"u"?document.body:null}()||{},AH=!!Sh.style&&"WebkitAppearance"in Sh.style);let t=!0;return Sh.style&&!function xoe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Sh.style,!t&&AH&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Sh.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return kH(e,i)}getParentElement(e){return AT(e)}query(e,i,r){return IH(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,l=[],h){return new nv(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),kT=(()=>{class n{}return n.NOOP=new RH,n})();const IT="ng-enter",Iw="ng-leave",Rw="ng-trigger",Ow=".ng-trigger",PH="ng-animating",RT=".ng-animating";function Nc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:OT(parseFloat(t[1]),t[2])}function OT(n,t){return"s"===t?1e3*n:n}function Pw(n,t,e){return n.hasOwnProperty("duration")?n:function Toe(n,t,e){let r,s=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(DH()),{duration:0,delay:0,easing:""};r=OT(parseFloat(l[1]),l[2]);const h=l[3];null!=h&&(s=OT(parseFloat(h),l[4]));const m=l[5];m&&(a=m)}else r=n;if(!e){let l=!1,h=t.length;r<0&&(t.push(function $se(){return new Ze(3100,!1)}()),l=!0),s<0&&(t.push(function jse(){return new Ze(3101,!1)}()),l=!0),l&&t.splice(h,0,DH())}return{duration:r,delay:s,easing:a}}(n,t,e)}function Wv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function FH(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function sd(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function NH(n,t,e){return e?t+":"+e+";":""}function BH(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=NH(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=NH(0,Roe(e),n.style[e]));n.setAttribute("style",t)}function Nl(n,t,e){n.style&&(t.forEach((i,r)=>{const s=FT(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),DT()&&BH(n))}function Mh(n,t){n.style&&(t.forEach((e,i)=>{const r=FT(i);n.style[r]=""}),DT()&&BH(n))}function qv(n){return Array.isArray(n)?1==n.length?n[0]:HL(n):n}const PT=new RegExp("{{\\s*(.+?)\\s*}}","g");function VH(n){let t=[];if("string"==typeof n){let e;for(;e=PT.exec(n);)t.push(e[1]);PT.lastIndex=0}return t}function Kv(n,t,e){const i=n.toString(),r=i.replace(PT,(s,a)=>{let l=t[a];return null==l&&(e.push(function Gse(n){return new Ze(3003,!1)}()),l=""),l.toString()});return r==i?n:r}function Fw(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Ioe=/-+([a-z0-9])/g;function FT(n){return n.replace(Ioe,(...t)=>t[1].toUpperCase())}function Roe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Uo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Wse(n){return new Ze(3004,!1)}()}}function HH(n,t){return window.getComputedStyle(n)[t]}function Boe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Voe(n,t,e){if(":"==n[0]){const h=function Hoe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function ooe(n){return new Ze(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function soe(n){return new Ze(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(zH(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(zH(a,r))}(i,e,t)):e.push(n),e}const Vw=new Set(["true","1"]),Hw=new Set(["false","0"]);function zH(n,t){const e=Vw.has(n)||Hw.has(n),i=Vw.has(t)||Hw.has(t);return(r,s)=>{let a="*"==n||n==r,l="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?Vw.has(n):Hw.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?Vw.has(t):Hw.has(t)),a&&l}}const zoe=new RegExp("s*:selfs*,?","g");function LT(n,t,e,i){return new $oe(n).build(t,e,i)}class $oe{constructor(t){this._driver=t}build(t,e,i){const r=new Goe(e);return this._resetContextStyleTimingState(r),Uo(this,qv(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Kse(){return new Ze(3006,!1)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const h=l,m=h.name;m.toString().split(/\s*,\s*/).forEach(v=>{h.name=v,s.push(this.visitState(h,e))}),h.name=m}else if(1==l.type){const h=this.visitTransition(l,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function Yse(){return new Ze(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(h=>{VH(h).forEach(m=>{a.hasOwnProperty(m)||s.add(m)})})}),s.size&&(Fw(s.values()),e.errors.push(function Zse(n,t){return new Ze(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Uo(this,qv(t.animation),e);return{type:1,matchers:Boe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Th(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Uo(this,i,e)),options:Th(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const l=Uo(this,a,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:3,steps:s,options:Th(t.options)}}visitAnimate(t,e){const i=function qoe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return NT(Pw(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=NT(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Pw(e,t);return NT(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:xn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,l=!1;if(!a){l=!0;const m={};i.easing&&(m.easing=i.easing),a=xn(m)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=l,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of r)"string"==typeof l?l===Dc?i.push(l):e.errors.push(new Ze(3002,!1)):i.push(FH(l));let s=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!s))for(let h of l.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,h)=>{const m=e.collectedStyles.get(e.currentQuerySelector),v=m.get(h);let C=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function Qse(n,t,e,i,r){return new Ze(3010,!1)}()),C=!1),s=v.startTime),C&&m.set(h,{startTime:s,endTime:r}),e.options&&function koe(n,t,e){const i=t.params||{},r=VH(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Use(n){return new Ze(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Jse(){return new Ze(3011,!1)}()),i;let s=0;const a=[];let l=!1,h=!1,m=0;const v=t.steps.map(V=>{const q=this._makeStyleAst(V,e);let te=null!=q.offset?q.offset:function Woe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(q.styles),$=0;return null!=te&&(s++,$=q.offset=te),h=h||$<0||$>1,l=l||$<m,m=$,a.push($),q});h&&e.errors.push(function eoe(){return new Ze(3012,!1)}()),l&&e.errors.push(function toe(){return new Ze(3200,!1)}());const C=t.steps.length;let D=0;s>0&&s<C?e.errors.push(function noe(){return new Ze(3202,!1)}()):0==s&&(D=1/(C-1));const T=C-1,k=e.currentTime,O=e.currentAnimateTimings,B=O.duration;return v.forEach((V,q)=>{const te=D>0?q==T?1:D*q:a[q],$=te*B;e.currentTime=k+O.delay+$,O.duration=$,this._validateStyleAst(V,e),V.offset=te,i.styles.push(V)}),i}visitReference(t,e){return{type:8,animation:Uo(this,qv(t.animation),e),options:Th(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Th(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Th(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function joe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(zoe,"")),n=n.replace(/@\*/g,Ow).replace(/@\w+/g,e=>Ow+"-"+e.slice(1)).replace(/:animating/g,RT),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,jo(e.collectedStyles,e.currentQuerySelector,new Map);const l=Uo(this,qv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:Th(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ioe(){return new Ze(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Pw(t.timings,e.errors,!0);return{type:12,animation:Uo(this,qv(t.animation),e),timings:i,options:null}}}class Goe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Th(n){return n?(n=Wv(n)).params&&(n.params=function Uoe(n){return n?Wv(n):null}(n.params)):n={},n}function NT(n,t,e){return{duration:n,delay:t,easing:e}}function BT(n,t,e,i,r,s,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:l}}class zw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Zoe=new RegExp(":enter","g"),Qoe=new RegExp(":leave","g");function VT(n,t,e,i,r,s=new Map,a=new Map,l,h,m=[]){return(new Joe).buildKeyframes(n,t,e,i,r,s,a,l,h,m)}class Joe{buildKeyframes(t,e,i,r,s,a,l,h,m,v=[]){m=m||new zw;const C=new HT(t,e,m,r,s,v,[]);C.options=h;const D=h.delay?Nc(h.delay):0;C.currentTimeline.delayNextStep(D),C.currentTimeline.setStyles([a],null,C.errors,h),Uo(this,i,C);const T=C.timelines.filter(k=>k.containsAnimation());if(T.length&&l.size){let k;for(let O=T.length-1;O>=0;O--){const B=T[O];if(B.element===e){k=B;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([l],null,C.errors,h)}return T.length?T.map(k=>k.buildKeyframes()):[BT(e,[],[],[],0,D,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:Nc(Kv(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Nc(i.duration):null,l=null!=i.delay?Nc(i.delay):null;return 0!==a&&t.forEach(h=>{const m=e.appendInstructionToTimeline(h,a,l);s=Math.max(s,m.duration+m.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Uo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$w);const a=Nc(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Uo(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Nc(t.options.delay):0;t.steps.forEach(a=>{const l=e.createSubContext(t.options);s&&l.delayNextStep(s),Uo(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Pw(e.params?Kv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(h=>{l.forwardTime((h.offset||0)*s),l.setStyles(h.styles,h.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Nc(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$w);let a=i;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let h=null;l.forEach((m,v)=>{e.currentQueryIndex=v;const C=e.createSubContext(t.options,m);s&&C.delayNextStep(s),m===e.element&&(h=C.currentTimeline),Uo(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,C.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=l-h;break;case"full":h=i.currentStaggerTime}const v=e.currentTimeline;h&&v.delayNextStep(h);const C=v.currentTime;Uo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const $w={};class HT{constructor(t,e,i,r,s,a,l,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$w,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new jw(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Nc(i.duration)),null!=i.delay&&(r.delay=Nc(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Kv(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new HT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=$w,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new eae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let l=[];if(r&&l.push(this.element),t.length>0){t=(t=t.replace(Zoe,"."+this._enterClassName)).replace(Qoe,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),l.push(...m)}return!s&&0==l.length&&a.push(function roe(n){return new Ze(3014,!1)}()),l}}class jw{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new jw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Dc),this._currentKeyframe.set(e,Dc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function tae(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Dc)}else sd(r,e)}),e}(t,this._globalTimelineStyles);for(let[l,h]of a){const m=Kv(h,s,i);this._pendingStyles.set(l,m),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Dc),this._updateStyle(l,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,h)=>{const m=sd(l,new Map,this._backFill);m.forEach((v,C)=>{"!"===v?t.add(C):v===Dc&&e.add(C)}),i||m.set("offset",h/this.duration),r.push(m)});const s=t.size?Fw(t.values()):[],a=e.size?Fw(e.values()):[];if(i){const l=r[0],h=new Map(l);l.set("offset",0),h.set("offset",1),r=[l,h]}return BT(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class eae extends jw{constructor(t,e,i,r,s,a,l=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,l=e/a,h=sd(t[0]);h.set("offset",0),s.push(h);const m=sd(t[0]);m.set("offset",UH(l)),s.push(m);const v=t.length-1;for(let C=1;C<=v;C++){let D=sd(t[C]);const T=D.get("offset");D.set("offset",UH((e+T*i)/a)),s.push(D)}i=a,e=0,r="",t=s}return BT(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function UH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class zT{}const nae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class iae extends zT{normalizePropertyName(t,e){return FT(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(nae.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function qse(n,t){return new Ze(3005,!1)}())}return a+s}}function GH(n,t,e,i,r,s,a,l,h,m,v,C,D){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:l,queriedElements:h,preStyleProps:m,postStyleProps:v,totalTime:C,errors:D}}const $T={};class WH{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function rae(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,l,h,m,v){const C=[],D=this.ast.options&&this.ast.options.params||$T,k=this.buildStyles(i,l&&l.params||$T,C),O=h&&h.params||$T,B=this.buildStyles(r,O,C),V=new Set,q=new Map,te=new Map,$="void"===r,pe={params:sae(O,D),delay:this.ast.options?.delay},_e=v?[]:VT(t,e,this.ast.animation,s,a,k,B,pe,m,C);let Xe=0;if(_e.forEach(Rt=>{Xe=Math.max(Rt.duration+Rt.delay,Xe)}),C.length)return GH(e,this._triggerName,i,r,$,k,B,[],[],q,te,Xe,C);_e.forEach(Rt=>{const $t=Rt.element,sn=jo(q,$t,new Set);Rt.preStyleProps.forEach(Un=>sn.add(Un));const Zt=jo(te,$t,new Set);Rt.postStyleProps.forEach(Un=>Zt.add(Un)),$t!==e&&V.add($t)});const ut=Fw(V.values());return GH(e,this._triggerName,i,r,$,k,B,_e,ut,q,te,Xe)}}function sae(n,t){const e=Wv(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class oae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Wv(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{a&&(a=Kv(a,r,e));const h=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,h,a,e),i.set(h,a)})}),i}}class lae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new oae(r.style,r.options&&r.options.params||{},i))}),qH(this.states,"true","1"),qH(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new WH(t,r,this.states))}),this.fallbackTransition=function cae(n,t,e){return new WH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function qH(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const uae=new zw;class dae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=LT(this._driver,e,i,[]);if(i.length)throw function doe(n){return new Ze(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=EH(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const l=new Map;if(s?(a=VT(this._driver,e,s,IT,Iw,new Map,new Map,i,uae,r),a.forEach(v=>{const C=jo(l,v.element,new Map);v.postStyleProps.forEach(D=>C.set(D,null))})):(r.push(function hoe(){return new Ze(3300,!1)}()),a=[]),r.length)throw function foe(n){return new Ze(3504,!1)}();l.forEach((v,C)=>{v.forEach((D,T)=>{v.set(T,this._driver.computeStyle(C,T,Dc))})});const m=rd(a.map(v=>{const C=l.get(v.element);return this._buildPlayer(v,new Map,C)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function poe(n){return new Ze(3301,!1)}();return e}listen(t,e,i,r){const s=MT(e,"","","");return ET(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const KH="ng-animate-queued",jT="ng-animate-disabled",mae=[],YH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class UT{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function wae(n){return n??null}(i?t.value:t),i){const s=Wv(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Yv="void",GT=new UT(Yv);class yae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ga(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function goe(n,t){return new Ze(3302,!1)}();if(null==i||0==i.length)throw function moe(n){return new Ze(3303,!1)}();if(!function Cae(n){return"start"==n||"done"==n}(i))throw function voe(n,t){return new Ze(3400,!1)}();const s=jo(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const l=jo(this._engine.statesByElement,t,new Map);return l.has(e)||(ga(t,Rw),ga(t,Rw+"-"+e),l.set(e,GT)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function yoe(n){return new Ze(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new WT(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(ga(t,Rw),ga(t,Rw+"-"+e),this._engine.statesByElement.set(t,l=new Map));let h=l.get(e);const m=new UT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&m.absorbOptions(h.options),l.set(e,m),h||(h=GT),m.value!==Yv&&h.value===m.value){if(!function Eae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,m.params)){const O=[],B=s.matchStyles(h.value,h.params,O),V=s.matchStyles(m.value,m.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{Mh(t,B),Nl(t,V)})}return}const D=jo(this._engine.playersByElement,t,[]);D.forEach(O=>{O.namespaceId==this.id&&O.triggerName==e&&O.queued&&O.destroy()});let T=s.matchTransition(h.value,m.value,t,m.params),k=!1;if(!T){if(!r)return;T=s.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:T,fromState:h,toState:m,player:a,isFallbackTransition:k}),k||(ga(t,KH),a.onStart(()=>{Vp(t,KH)})),a.onDone(()=>{let O=this.players.indexOf(a);O>=0&&this.players.splice(O,1);const B=this._engine.playersByElement.get(t);if(B){let V=B.indexOf(a);V>=0&&B.splice(V,1)}}),this.players.push(a),D.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ow,!0);i.forEach(r=>{if(r[pa])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(s.forEach((h,m)=>{if(a.set(m,h.value),this._triggers.has(m)){const v=this.trigger(t,m,Yv,r);v&&l.push(v)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&rd(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,m=i.get(a)||GT,v=new UT(Yv),C=new WT(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:m,toState:v,player:C,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[pa];(!s||s===YH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ga(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==i.triggerName){const h=MT(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,ET(i.player,l.phase,h,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class _ae{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new yae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){const h=r.get(l);if(h){const m=i.indexOf(h);i.splice(m+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(Uw(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Uw(e))return;const s=e[pa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ga(t,jT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vp(t,jT))}removeNode(t,e,i,r){if(Uw(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[pa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Uw(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Ow,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,RT,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return rd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[pa];if(e&&e.setForRemoval){if(t[pa]=YH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(jT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ga(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?rd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function _oe(n){return new Ze(3402,!1)}()}_flushAnimations(t,e){const i=new zw,r=[],s=new Map,a=[],l=new Map,h=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(pt=>{v.add(pt);const Ct=this.driver.query(pt,".ng-animate-queued",!0);for(let kt=0;kt<Ct.length;kt++)v.add(Ct[kt])});const C=this.bodyNode,D=Array.from(this.statesByElement.keys()),T=QH(D,this.collectedEnterElements),k=new Map;let O=0;T.forEach((pt,Ct)=>{const kt=IT+O++;k.set(Ct,kt),pt.forEach(tn=>ga(tn,kt))});const B=[],V=new Set,q=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Ct=this.collectedLeaveElements[pt],kt=Ct[pa];kt&&kt.setForRemoval&&(B.push(Ct),V.add(Ct),kt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(tn=>V.add(tn)):q.add(Ct))}const te=new Map,$=QH(D,Array.from(V));$.forEach((pt,Ct)=>{const kt=Iw+O++;te.set(Ct,kt),pt.forEach(tn=>ga(tn,kt))}),t.push(()=>{T.forEach((pt,Ct)=>{const kt=k.get(Ct);pt.forEach(tn=>Vp(tn,kt))}),$.forEach((pt,Ct)=>{const kt=te.get(Ct);pt.forEach(tn=>Vp(tn,kt))}),B.forEach(pt=>{this.processLeaveNode(pt)})});const pe=[],_e=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(kt=>{const tn=kt.player,xi=kt.element;if(pe.push(tn),this.collectedEnterElements.length){const ps=xi[pa];if(ps&&ps.setForMove){if(ps.previousTriggersValues&&ps.previousTriggersValues.has(kt.triggerName)){const Bc=ps.previousTriggersValues.get(kt.triggerName),ao=this.statesByElement.get(kt.element);if(ao&&ao.has(kt.triggerName)){const el=ao.get(kt.triggerName);el.value=Bc,ao.set(kt.triggerName,el)}}return void tn.destroy()}}const es=!C||!this.driver.containsElement(C,xi),qi=te.get(xi),As=k.get(xi),bi=this._buildInstruction(kt,i,As,qi,es);if(bi.errors&&bi.errors.length)return void _e.push(bi);if(es)return tn.onStart(()=>Mh(xi,bi.fromStyles)),tn.onDestroy(()=>Nl(xi,bi.toStyles)),void r.push(tn);if(kt.isFallbackTransition)return tn.onStart(()=>Mh(xi,bi.fromStyles)),tn.onDestroy(()=>Nl(xi,bi.toStyles)),void r.push(tn);const Qa=[];bi.timelines.forEach(ps=>{ps.stretchStartingKeyframe=!0,this.disabledNodes.has(ps.element)||Qa.push(ps)}),bi.timelines=Qa,i.append(xi,bi.timelines),a.push({instruction:bi,player:tn,element:xi}),bi.queriedElements.forEach(ps=>jo(l,ps,[]).push(tn)),bi.preStyleProps.forEach((ps,Bc)=>{if(ps.size){let ao=h.get(Bc);ao||h.set(Bc,ao=new Set),ps.forEach((el,Hp)=>ao.add(Hp))}}),bi.postStyleProps.forEach((ps,Bc)=>{let ao=m.get(Bc);ao||m.set(Bc,ao=new Set),ps.forEach((el,Hp)=>ao.add(Hp))})});if(_e.length){const pt=[];_e.forEach(Ct=>{pt.push(function boe(n,t){return new Ze(3505,!1)}())}),pe.forEach(Ct=>Ct.destroy()),this.reportError(pt)}const Xe=new Map,ut=new Map;a.forEach(pt=>{const Ct=pt.element;i.has(Ct)&&(ut.set(Ct,Ct),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,Xe))}),r.forEach(pt=>{const Ct=pt.element;this._getPreviousPlayers(Ct,!1,pt.namespaceId,pt.triggerName,null).forEach(tn=>{jo(Xe,Ct,[]).push(tn),tn.destroy()})});const Rt=B.filter(pt=>ez(pt,h,m)),$t=new Map;XH($t,this.driver,q,m,Dc).forEach(pt=>{ez(pt,h,m)&&Rt.push(pt)});const Zt=new Map;T.forEach((pt,Ct)=>{XH(Zt,this.driver,new Set(pt),h,"!")}),Rt.forEach(pt=>{const Ct=$t.get(pt),kt=Zt.get(pt);$t.set(pt,new Map([...Array.from(Ct?.entries()??[]),...Array.from(kt?.entries()??[])]))});const Un=[],Mi=[],$n={};a.forEach(pt=>{const{element:Ct,player:kt,instruction:tn}=pt;if(i.has(Ct)){if(v.has(Ct))return kt.onDestroy(()=>Nl(Ct,tn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(tn.totalTime),void r.push(kt);let xi=$n;if(ut.size>1){let qi=Ct;const As=[];for(;qi=qi.parentNode;){const bi=ut.get(qi);if(bi){xi=bi;break}As.push(qi)}As.forEach(bi=>ut.set(bi,xi))}const es=this._buildAnimation(kt.namespaceId,tn,Xe,s,Zt,$t);if(kt.setRealPlayer(es),xi===$n)Un.push(kt);else{const qi=this.playersByElement.get(xi);qi&&qi.length&&(kt.parentPlayer=rd(qi)),r.push(kt)}}else Mh(Ct,tn.fromStyles),kt.onDestroy(()=>Nl(Ct,tn.toStyles)),Mi.push(kt),v.has(Ct)&&r.push(kt)}),Mi.forEach(pt=>{const Ct=s.get(pt.element);if(Ct&&Ct.length){const kt=rd(Ct);pt.setRealPlayer(kt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<B.length;pt++){const Ct=B[pt],kt=Ct[pa];if(Vp(Ct,Iw),kt&&kt.hasAnimation)continue;let tn=[];if(l.size){let es=l.get(Ct);es&&es.length&&tn.push(...es);let qi=this.driver.query(Ct,RT,!0);for(let As=0;As<qi.length;As++){let bi=l.get(qi[As]);bi&&bi.length&&tn.push(...bi)}}const xi=tn.filter(es=>!es.destroyed);xi.length?xae(this,Ct,xi):this.processLeaveNode(Ct)}return B.length=0,Un.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Ct=this.players.indexOf(pt);this.players.splice(Ct,1)}),pt.play()}),Un}elementContainsData(t,e){let i=!1;const r=e[pa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const h=!s||s==Yv;l.forEach(m=>{m.queued||!h&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const m=h.element,v=m!==s,C=jo(i,m,[]);this._getPreviousPlayers(m,v,a,l,e.toState).forEach(T=>{const k=T.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),T.destroy(),C.push(T)})}Mh(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const l=e.triggerName,h=e.element,m=[],v=new Set,C=new Set,D=e.timelines.map(k=>{const O=k.element;v.add(O);const B=O[pa];if(B&&B.removedBeforeQueried)return new nv(k.duration,k.delay);const V=O!==h,q=function Dae(n){const t=[];return JH(n,t),t}((i.get(O)||mae).map(Xe=>Xe.getRealPlayer())).filter(Xe=>!!Xe.element&&Xe.element===O),te=s.get(O),$=a.get(O),pe=EH(0,this._normalizer,0,k.keyframes,te,$),_e=this._buildPlayer(k,pe,q);if(k.subTimeline&&r&&C.add(O),V){const Xe=new WT(t,l,O);Xe.setRealPlayer(_e),m.push(Xe)}return _e});m.forEach(k=>{jo(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function bae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,k.element,k))}),v.forEach(k=>ga(k,PH));const T=rd(D);return T.onDestroy(()=>{v.forEach(k=>Vp(k,PH)),Nl(h,e.toStyles)}),C.forEach(k=>{jo(r,k,[]).push(T)}),T}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new nv(t.duration,t.delay)}}class WT{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new nv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>ET(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){jo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Uw(n){return n&&1===n.nodeType}function ZH(n,t){const e=n.style.display;return n.style.display=t??"none",e}function XH(n,t,e,i,r){const s=[];e.forEach(h=>s.push(ZH(h)));const a=[];i.forEach((h,m)=>{const v=new Map;h.forEach(C=>{const D=t.computeStyle(m,C,r);v.set(C,D),(!D||0==D.length)&&(m[pa]=vae,a.push(m))}),n.set(m,v)});let l=0;return e.forEach(h=>ZH(h,s[l++])),a}function QH(n,t){const e=new Map;if(n.forEach(l=>e.set(l,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(l){if(!l)return 1;let h=s.get(l);if(h)return h;const m=l.parentNode;return h=e.has(m)?m:r.has(m)?1:a(m),s.set(l,h),h}return t.forEach(l=>{const h=a(l);1!==h&&e.get(h).push(l)}),e}function ga(n,t){n.classList?.add(t)}function Vp(n,t){n.classList?.remove(t)}function xae(n,t,e){rd(e).onDone(()=>n.processLeaveNode(t))}function JH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof $L?JH(i.players,t):t.push(i)}}function ez(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Gw{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new _ae(t,e,i),this._timelineEngine=new dae(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let l=this._triggerCache[a];if(!l){const h=[],v=LT(this._driver,s,h,[]);if(h.length)throw function coe(n,t){return new Ze(3404,!1)}();l=function aae(n,t,e){return new lae(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=SH(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,l]=SH(i);return this._timelineEngine.listen(a,e,l,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Mae=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Nl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nl(this._element,this._initialStyles),this._endStyles&&(Nl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mh(this._element,this._endStyles),this._endStyles=null),Nl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qT(n){let t=null;return n.forEach((e,i)=>{(function Tae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class tz{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:HH(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Aae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return kH(t,e)}getParentElement(t){return AT(t)}query(t,e,i){return IH(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const m=new Map,v=a.filter(T=>T instanceof tz);(function Ooe(n,t){return 0===n||0===t})(i,r)&&v.forEach(T=>{T.currentSnapshot.forEach((k,O)=>m.set(O,k))});let C=function Aoe(n){return n.length?n[0]instanceof Map?n:n.map(t=>FH(t)):[]}(e).map(T=>sd(T));C=function Poe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(l=>a.set(l,HH(n,l)))}}return t}(t,C,m);const D=function Sae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=qT(t[0]),t.length>1&&(i=qT(t[t.length-1]))):t instanceof Map&&(e=qT(t)),e||i?new Mae(n,e,i):null}(t,C);return new tz(t,C,h,D)}}let kae=(()=>{class n extends BL{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Cr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?HL(e):e;return nz(this._renderer,null,i,"register",[r]),new Iae(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(le(Ra),le(hn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class Iae extends class I7{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Rae(this._id,t,e||{},this._renderer)}}class Rae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nz(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nz(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const iz="@.disabled";let Oae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const l=a?.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new rz("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const h=v=>{Array.isArray(v)?v.forEach(h):this.engine.registerTrigger(a,l,e,v.name,v)};return i.data.animation.forEach(h),new Pae(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(le(Ra),le(Gw),le(Yt))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class rz{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==iz?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Pae extends rz{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==iz?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Fae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Lae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(t,e,i)}}const sz=[{provide:BL,useClass:kae},{provide:zT,useFactory:function Bae(){return new iae}},{provide:Gw,useClass:(()=>{class n extends Gw{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(le(hn),le(kT),le(zT),le(Zf))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})()},{provide:Ra,useFactory:function Vae(n,t,e){return new Oae(n,t,e)},deps:[lb,Gw,Yt]}],KT=[{provide:kT,useFactory:()=>new Aae},{provide:Xr,useValue:"BrowserAnimations"},...sz],oz=[{provide:kT,useClass:RH},{provide:Xr,useValue:"NoopAnimations"},...sz];let Hae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?oz:KT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({providers:KT,imports:[lO]}),n})(),hz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[$S]}),n})(),bz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[$S]}),n})(),Sce=(()=>{class n{constructor(e,i){Xf(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:qa,useValue:{...jS,...e}},{provide:US,useValue:i,multi:!0},{provide:_p,useValue:!0}]:[{provide:qa,useValue:{...jS,...e}},{provide:US,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(le(_p),le(Va))},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[KS,hz,bz,KS,hz,bz]}),n})(),wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({}),n})(),Vce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n}),n.\u0275inj=Kt({imports:[wz,ev,fi,l0,wz,fi]}),n})(),Hce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=on({type:n,bootstrap:[zse]}),n.\u0275inj=Kt({imports:[lO,Hse,Hae,kX,KS,Sce,iJ,C0,sZ,BS,dZ,PF,kq,HX,Ree,UL,KX,FJ,GJ,rX,FN,nB,ja,Vce]}),n})();(function SU(){cR=!1})(),Q4().bootstrapModule(Hce).catch(n=>console.error(n))},5668:(fe,ve,N)=>{"use strict";N.d(ve,{fi:()=>dt,kZ:()=>En});var j=N(309),ee=N(6919),se=N(5211),ie=N(7577),ue=N(3535),ge=N(7319),Ce=N(8863),Be=N(1804),rt=N(373);function et(_t,$e,Ae){void 0===Ae&&(Ae=!1);var ht=(0,ie.Re)($e),Mt=(0,ie.Re)($e)&&function st(_t){var $e=_t.getBoundingClientRect(),Ae=(0,rt.NM)($e.width)/_t.offsetWidth||1,ht=(0,rt.NM)($e.height)/_t.offsetHeight||1;return 1!==Ae||1!==ht}($e),tt=(0,Ce.Z)($e),Jt=(0,j.Z)(_t,Mt,Ae),Le={scrollLeft:0,scrollTop:0},mn={x:0,y:0};return(ht||!ht&&!Ae)&&(("body"!==(0,ue.Z)($e)||(0,Be.Z)(tt))&&(Le=function re(_t){return _t!==(0,se.Z)(_t)&&(0,ie.Re)(_t)?function ne(_t){return{scrollLeft:_t.scrollLeft,scrollTop:_t.scrollTop}}(_t):(0,ee.Z)(_t)}($e)),(0,ie.Re)($e)?((mn=(0,j.Z)($e,!0)).x+=$e.clientLeft,mn.y+=$e.clientTop):tt&&(mn.x=(0,ge.Z)(tt))),{x:Jt.left+Le.scrollLeft-mn.x,y:Jt.top+Le.scrollTop-mn.y,width:Jt.width,height:Jt.height}}var Ve=N(4436),we=N(8941),Qe=N(4826),xt=N(910);function xe(_t){var $e=new Map,Ae=new Set,ht=[];function Mt(tt){Ae.add(tt.name),[].concat(tt.requires||[],tt.requiresIfExists||[]).forEach(function(Le){if(!Ae.has(Le)){var mn=$e.get(Le);mn&&Mt(mn)}}),ht.push(tt)}return _t.forEach(function(tt){$e.set(tt.name,tt)}),_t.forEach(function(tt){Ae.has(tt.name)||Mt(tt)}),ht}function ct(_t){var $e;return function(){return $e||($e=new Promise(function(Ae){Promise.resolve().then(function(){$e=void 0,Ae(_t())})})),$e}}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function ln(){for(var _t=arguments.length,$e=new Array(_t),Ae=0;Ae<_t;Ae++)$e[Ae]=arguments[Ae];return!$e.some(function(ht){return!(ht&&"function"==typeof ht.getBoundingClientRect)})}function En(_t){void 0===_t&&(_t={});var Ae=_t.defaultModifiers,ht=void 0===Ae?[]:Ae,Mt=_t.defaultOptions,tt=void 0===Mt?Ot:Mt;return function(Le,mn,Jn){void 0===Jn&&(Jn=tt);var Ge={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,tt),modifiersData:{},elements:{reference:Le,popper:mn},attributes:{},styles:{}},Ai=[],Oi=!1,vn={state:Ge,setOptions:function(ir){var ki="function"==typeof ir?ir(Ge.options):ir;dr(),Ge.options=Object.assign({},tt,Ge.options,ki),Ge.scrollParents={reference:(0,ie.kK)(Le)?(0,we.Z)(Le):Le.contextElement?(0,we.Z)(Le.contextElement):[],popper:(0,we.Z)(mn)};var Vi=function ot(_t){var $e=xe(_t);return xt.xs.reduce(function(Ae,ht){return Ae.concat($e.filter(function(Mt){return Mt.phase===ht}))},[])}(function yt(_t){var $e=_t.reduce(function(Ae,ht){var Mt=Ae[ht.name];return Ae[ht.name]=Mt?Object.assign({},Mt,ht,{options:Object.assign({},Mt.options,ht.options),data:Object.assign({},Mt.data,ht.data)}):ht,Ae},{});return Object.keys($e).map(function(Ae){return $e[Ae]})}([].concat(ht,Ge.options.modifiers)));return Ge.orderedModifiers=Vi.filter(function(zs){return zs.enabled}),function On(){Ge.orderedModifiers.forEach(function(vt){var ki=vt.options,Rr=vt.effect;if("function"==typeof Rr){var hr=Rr({state:Ge,name:vt.name,instance:vn,options:void 0===ki?{}:ki});Ai.push(hr||function(){})}})}(),vn.update()},forceUpdate:function(){if(!Oi){var ir=Ge.elements,ki=ir.reference,Vi=ir.popper;if(ln(ki,Vi)){Ge.rects={reference:et(ki,(0,Qe.Z)(Vi),"fixed"===Ge.options.strategy),popper:(0,Ve.Z)(Vi)},Ge.reset=!1,Ge.placement=Ge.options.placement,Ge.orderedModifiers.forEach(function(zs){return Ge.modifiersData[zs.name]=Object.assign({},zs.data)});for(var hr=0;hr<Ge.orderedModifiers.length;hr++)if(!0!==Ge.reset){var ts=Ge.orderedModifiers[hr],ns=ts.fn,gs=ts.options;"function"==typeof ns&&(Ge=ns({state:Ge,options:void 0===gs?{}:gs,name:ts.name,instance:vn})||Ge)}else Ge.reset=!1,hr=-1}}},update:ct(function(){return new Promise(function(vt){vn.forceUpdate(),vt(Ge)})}),destroy:function(){dr(),Oi=!0}};if(!ln(Le,mn))return vn;function dr(){Ai.forEach(function(vt){return vt()}),Ai=[]}return vn.setOptions(Jn).then(function(vt){!Oi&&Jn.onFirstUpdate&&Jn.onFirstUpdate(vt)}),vn}}var dt=En()},7852:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ee});var j=N(7577);function ee(se,ie){var ne=ie.getRootNode&&ie.getRootNode();if(se.contains(ie))return!0;if(ne&&(0,j.Zq)(ne)){var re=ie;do{if(re&&se.isSameNode(re))return!0;re=re.parentNode||re.host}while(re)}return!1}},309:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ne});var j=N(7577),ee=N(373),se=N(5211),ie=N(4796);function ne(re,ue,ge){void 0===ue&&(ue=!1),void 0===ge&&(ge=!1);var Ce=re.getBoundingClientRect(),Be=1,rt=1;ue&&(0,j.Re)(re)&&(Be=re.offsetWidth>0&&(0,ee.NM)(Ce.width)/re.offsetWidth||1,rt=re.offsetHeight>0&&(0,ee.NM)(Ce.height)/re.offsetHeight||1);var et=((0,j.kK)(re)?(0,se.Z)(re):window).visualViewport,Ve=!(0,ie.Z)()&&ge,we=(Ce.left+(Ve&&et?et.offsetLeft:0))/Be,Qe=(Ce.top+(Ve&&et?et.offsetTop:0))/rt,xt=Ce.width/Be,xe=Ce.height/rt;return{width:xt,height:xe,top:Qe,right:we+xt,bottom:Qe+xe,left:we,x:we,y:Qe}}},1422:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ee});var j=N(5211);function ee(se){return(0,j.Z)(se).getComputedStyle(se)}},8863:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ee});var j=N(7577);function ee(se){return(((0,j.kK)(se)?se.ownerDocument:se.document)||window.document).documentElement}},4436:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ee});var j=N(309);function ee(se){var ie=(0,j.Z)(se),ne=se.offsetWidth,re=se.offsetHeight;return Math.abs(ie.width-ne)<=1&&(ne=ie.width),Math.abs(ie.height-re)<=1&&(re=ie.height),{x:se.offsetLeft,y:se.offsetTop,width:ne,height:re}}},3535:(fe,ve,N)=>{"use strict";function j(ee){return ee?(ee.nodeName||"").toLowerCase():null}N.d(ve,{Z:()=>j})},4826:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>Be});var j=N(5211),ee=N(3535),se=N(1422),ie=N(7577);function ne(rt){return["table","td","th"].indexOf((0,ee.Z)(rt))>=0}var re=N(3449),ue=N(549);function ge(rt){return(0,ie.Re)(rt)&&"fixed"!==(0,se.Z)(rt).position?rt.offsetParent:null}function Be(rt){for(var st=(0,j.Z)(rt),et=ge(rt);et&&ne(et)&&"static"===(0,se.Z)(et).position;)et=ge(et);return et&&("html"===(0,ee.Z)(et)||"body"===(0,ee.Z)(et)&&"static"===(0,se.Z)(et).position)?st:et||function Ce(rt){var st=/firefox/i.test((0,ue.Z)());if(/Trident/i.test((0,ue.Z)())&&(0,ie.Re)(rt)&&"fixed"===(0,se.Z)(rt).position)return null;var we=(0,re.Z)(rt);for((0,ie.Zq)(we)&&(we=we.host);(0,ie.Re)(we)&&["html","body"].indexOf((0,ee.Z)(we))<0;){var Qe=(0,se.Z)(we);if("none"!==Qe.transform||"none"!==Qe.perspective||"paint"===Qe.contain||-1!==["transform","perspective"].indexOf(Qe.willChange)||st&&"filter"===Qe.willChange||st&&Qe.filter&&"none"!==Qe.filter)return we;we=we.parentNode}return null}(rt)||st}},3449:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ie});var j=N(3535),ee=N(8863),se=N(7577);function ie(ne){return"html"===(0,j.Z)(ne)?ne:ne.assignedSlot||ne.parentNode||((0,se.Zq)(ne)?ne.host:null)||(0,ee.Z)(ne)}},5211:(fe,ve,N)=>{"use strict";function j(ee){if(null==ee)return window;if("[object Window]"!==ee.toString()){var se=ee.ownerDocument;return se&&se.defaultView||window}return ee}N.d(ve,{Z:()=>j})},6919:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ee});var j=N(5211);function ee(se){var ie=(0,j.Z)(se);return{scrollLeft:ie.pageXOffset,scrollTop:ie.pageYOffset}}},7319:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ie});var j=N(309),ee=N(8863),se=N(6919);function ie(ne){return(0,j.Z)((0,ee.Z)(ne)).left+(0,se.Z)(ne).scrollLeft}},7577:(fe,ve,N)=>{"use strict";N.d(ve,{Re:()=>se,Zq:()=>ie,kK:()=>ee});var j=N(5211);function ee(ne){return ne instanceof(0,j.Z)(ne).Element||ne instanceof Element}function se(ne){return ne instanceof(0,j.Z)(ne).HTMLElement||ne instanceof HTMLElement}function ie(ne){return!(typeof ShadowRoot>"u")&&(ne instanceof(0,j.Z)(ne).ShadowRoot||ne instanceof ShadowRoot)}},4796:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ee});var j=N(549);function ee(){return!/^((?!chrome|android).)*safari/i.test((0,j.Z)())}},1804:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ee});var j=N(1422);function ee(se){var ie=(0,j.Z)(se);return/auto|scroll|overlay|hidden/.test(ie.overflow+ie.overflowY+ie.overflowX)}},8941:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ue});var j=N(3449),ee=N(1804),se=N(3535),ie=N(7577);function ne(ge){return["html","body","#document"].indexOf((0,se.Z)(ge))>=0?ge.ownerDocument.body:(0,ie.Re)(ge)&&(0,ee.Z)(ge)?ge:ne((0,j.Z)(ge))}var re=N(5211);function ue(ge,Ce){var Be;void 0===Ce&&(Ce=[]);var rt=ne(ge),st=rt===(null==(Be=ge.ownerDocument)?void 0:Be.body),et=(0,re.Z)(rt),Ve=st?[et].concat(et.visualViewport||[],(0,ee.Z)(rt)?rt:[]):rt,we=Ce.concat(Ve);return st?we:we.concat(ue((0,j.Z)(Ve)))}},910:(fe,ve,N)=>{"use strict";N.d(ve,{BL:()=>ue,Ct:()=>Ve,DH:()=>ot,F2:()=>se,I:()=>ee,MS:()=>At,N7:()=>we,Pj:()=>Be,XM:()=>xe,YP:()=>st,bw:()=>et,cW:()=>zt,d7:()=>ne,ij:()=>Qe,iv:()=>yt,k5:()=>rt,mv:()=>re,r5:()=>xt,t$:()=>ie,ut:()=>ge,wX:()=>ct,we:()=>j,xs:()=>Ot,zV:()=>Ce});var j="top",ee="bottom",se="right",ie="left",ne="auto",re=[j,ee,se,ie],ue="start",ge="end",Ce="clippingParents",Be="viewport",rt="popper",st="reference",et=re.reduce(function(ln,En){return ln.concat([En+"-"+ue,En+"-"+ge])},[]),Ve=[].concat(re,[ne]).reduce(function(ln,En){return ln.concat([En,En+"-"+ue,En+"-"+ge])},[]),we="beforeRead",Qe="read",xt="afterRead",xe="beforeMain",ot="main",ct="afterMain",yt="beforeWrite",zt="write",At="afterWrite",Ot=[we,Qe,xt,xe,ot,ct,yt,zt,At]},2833:(fe,ve,N)=>{"use strict";N.r(ve),N.d(ve,{afterMain:()=>j.wX,afterRead:()=>j.r5,afterWrite:()=>j.MS,applyStyles:()=>ee.Z,arrow:()=>se.Z,auto:()=>j.d7,basePlacements:()=>j.mv,beforeMain:()=>j.XM,beforeRead:()=>j.N7,beforeWrite:()=>j.iv,bottom:()=>j.I,clippingParents:()=>j.zV,computeStyles:()=>ie.Z,createPopper:()=>et.fi,createPopperBase:()=>rt.fi,createPopperLite:()=>we,detectOverflow:()=>st.Z,end:()=>j.ut,eventListeners:()=>ne.Z,flip:()=>re.Z,hide:()=>ue.Z,left:()=>j.t$,main:()=>j.DH,modifierPhases:()=>j.xs,offset:()=>ge.Z,placements:()=>j.Ct,popper:()=>j.k5,popperGenerator:()=>rt.kZ,popperOffsets:()=>Ce.Z,preventOverflow:()=>Be.Z,read:()=>j.ij,reference:()=>j.YP,right:()=>j.F2,start:()=>j.BL,top:()=>j.we,variationPlacements:()=>j.bw,viewport:()=>j.Pj,write:()=>j.cW});var j=N(910),ee=N(9208),se=N(5443),ie=N(7745),ne=N(1971),re=N(1363),ue=N(112),ge=N(3718),Ce=N(9696),Be=N(9429),rt=N(5668),st=N(1785),et=N(8061),we=(0,rt.kZ)({defaultModifiers:[ne.Z,Ce.Z,ie.Z,ee.Z]})},9208:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ne});var j=N(3535),ee=N(7577);const ne={name:"applyStyles",enabled:!0,phase:"write",fn:function se(re){var ue=re.state;Object.keys(ue.elements).forEach(function(ge){var Ce=ue.styles[ge]||{},Be=ue.attributes[ge]||{},rt=ue.elements[ge];!(0,ee.Re)(rt)||!(0,j.Z)(rt)||(Object.assign(rt.style,Ce),Object.keys(Be).forEach(function(st){var et=Be[st];!1===et?rt.removeAttribute(st):rt.setAttribute(st,!0===et?"":et)}))})},effect:function ie(re){var ue=re.state,ge={popper:{position:ue.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ue.elements.popper.style,ge.popper),ue.styles=ge,ue.elements.arrow&&Object.assign(ue.elements.arrow.style,ge.arrow),function(){Object.keys(ue.elements).forEach(function(Ce){var Be=ue.elements[Ce],rt=ue.attributes[Ce]||{},et=Object.keys(ue.styles.hasOwnProperty(Ce)?ue.styles[Ce]:ge[Ce]).reduce(function(Ve,we){return Ve[we]="",Ve},{});!(0,ee.Re)(Be)||!(0,j.Z)(Be)||(Object.assign(Be.style,et),Object.keys(rt).forEach(function(Ve){Be.removeAttribute(Ve)}))})}},requires:["computeStyles"]}},5443:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>et});var j=N(8978),ee=N(4436),se=N(7852),ie=N(4826),ne=N(3218),re=N(7327),ue=N(3234),ge=N(3857),Ce=N(910);const et={name:"arrow",enabled:!0,phase:"main",fn:function rt(Ve){var we,Qe=Ve.state,xt=Ve.name,xe=Ve.options,ot=Qe.elements.arrow,ct=Qe.modifiersData.popperOffsets,yt=(0,j.Z)(Qe.placement),zt=(0,ne.Z)(yt),Ot=[Ce.t$,Ce.F2].indexOf(yt)>=0?"height":"width";if(ot&&ct){var ln=function(we,Qe){return we="function"==typeof we?we(Object.assign({},Qe.rects,{placement:Qe.placement})):we,(0,ue.Z)("number"!=typeof we?we:(0,ge.Z)(we,Ce.mv))}(xe.padding,Qe),En=(0,ee.Z)(ot),dt="y"===zt?Ce.we:Ce.t$,_t="y"===zt?Ce.I:Ce.F2,$e=Qe.rects.reference[Ot]+Qe.rects.reference[zt]-ct[zt]-Qe.rects.popper[Ot],Ae=ct[zt]-Qe.rects.reference[zt],ht=(0,ie.Z)(ot),Mt=ht?"y"===zt?ht.clientHeight||0:ht.clientWidth||0:0,mn=Mt/2-En[Ot]/2+($e/2-Ae/2),Jn=(0,re.u)(ln[dt],mn,Mt-En[Ot]-ln[_t]);Qe.modifiersData[xt]=((we={})[zt]=Jn,we.centerOffset=Jn-mn,we)}},effect:function st(Ve){var we=Ve.state,xt=Ve.options.element,xe=void 0===xt?"[data-popper-arrow]":xt;null!=xe&&("string"==typeof xe&&!(xe=we.elements.popper.querySelector(xe))||!(0,se.Z)(we.elements.popper,xe)||(we.elements.arrow=xe))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},7745:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>et});var j=N(910),ee=N(4826),se=N(5211),ie=N(8863),ne=N(1422),re=N(8978),ue=N(1786),ge=N(373),Ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rt(Ve){var we,Qe=Ve.popper,xt=Ve.popperRect,xe=Ve.placement,ot=Ve.variation,ct=Ve.offsets,yt=Ve.position,zt=Ve.gpuAcceleration,At=Ve.adaptive,Ot=Ve.roundOffsets,ln=Ve.isFixed,En=ct.x,dt=void 0===En?0:En,_t=ct.y,$e=void 0===_t?0:_t,Ae="function"==typeof Ot?Ot({x:dt,y:$e}):{x:dt,y:$e};dt=Ae.x,$e=Ae.y;var ht=ct.hasOwnProperty("x"),Mt=ct.hasOwnProperty("y"),tt=j.t$,Jt=j.we,Le=window;if(At){var mn=(0,ee.Z)(Qe),Jn="clientHeight",Ge="clientWidth";mn===(0,se.Z)(Qe)&&(mn=(0,ie.Z)(Qe),"static"!==(0,ne.Z)(mn).position&&"absolute"===yt&&(Jn="scrollHeight",Ge="scrollWidth")),(xe===j.we||(xe===j.t$||xe===j.F2)&&ot===j.ut)&&(Jt=j.I,$e-=(ln&&mn===Le&&Le.visualViewport?Le.visualViewport.height:mn[Jn])-xt.height,$e*=zt?1:-1),xe!==j.t$&&(xe!==j.we&&xe!==j.I||ot!==j.ut)||(tt=j.F2,dt-=(ln&&mn===Le&&Le.visualViewport?Le.visualViewport.width:mn[Ge])-xt.width,dt*=zt?1:-1)}var dr,vn=Object.assign({position:yt},At&&Ce),On=!0===Ot?function Be(Ve){var Qe=Ve.y,xe=window.devicePixelRatio||1;return{x:(0,ge.NM)(Ve.x*xe)/xe||0,y:(0,ge.NM)(Qe*xe)/xe||0}}({x:dt,y:$e}):{x:dt,y:$e};return dt=On.x,$e=On.y,Object.assign({},vn,zt?((dr={})[Jt]=Mt?"0":"",dr[tt]=ht?"0":"",dr.transform=(Le.devicePixelRatio||1)<=1?"translate("+dt+"px, "+$e+"px)":"translate3d("+dt+"px, "+$e+"px, 0)",dr):((we={})[Jt]=Mt?$e+"px":"",we[tt]=ht?dt+"px":"",we.transform="",we))}const et={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function st(Ve){var we=Ve.state,Qe=Ve.options,xt=Qe.gpuAcceleration,xe=void 0===xt||xt,ot=Qe.adaptive,ct=void 0===ot||ot,yt=Qe.roundOffsets,zt=void 0===yt||yt,Ot={placement:(0,re.Z)(we.placement),variation:(0,ue.Z)(we.placement),popper:we.elements.popper,popperRect:we.rects.popper,gpuAcceleration:xe,isFixed:"fixed"===we.options.strategy};null!=we.modifiersData.popperOffsets&&(we.styles.popper=Object.assign({},we.styles.popper,rt(Object.assign({},Ot,{offsets:we.modifiersData.popperOffsets,position:we.options.strategy,adaptive:ct,roundOffsets:zt})))),null!=we.modifiersData.arrow&&(we.styles.arrow=Object.assign({},we.styles.arrow,rt(Object.assign({},Ot,{offsets:we.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:zt})))),we.attributes.popper=Object.assign({},we.attributes.popper,{"data-popper-placement":we.placement})},data:{}}},1971:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ie});var j=N(5211),ee={passive:!0};const ie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function se(ne){var re=ne.state,ue=ne.instance,ge=ne.options,Ce=ge.scroll,Be=void 0===Ce||Ce,rt=ge.resize,st=void 0===rt||rt,et=(0,j.Z)(re.elements.popper),Ve=[].concat(re.scrollParents.reference,re.scrollParents.popper);return Be&&Ve.forEach(function(we){we.addEventListener("scroll",ue.update,ee)}),st&&et.addEventListener("resize",ue.update,ee),function(){Be&&Ve.forEach(function(we){we.removeEventListener("scroll",ue.update,ee)}),st&&et.removeEventListener("resize",ue.update,ee)}},data:{}}},1363:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>st});var j={left:"right",right:"left",bottom:"top",top:"bottom"};function ee(et){return et.replace(/left|right|bottom|top/g,function(Ve){return j[Ve]})}var se=N(8978),ie={start:"end",end:"start"};function ne(et){return et.replace(/start|end/g,function(Ve){return ie[Ve]})}var re=N(1785),ue=N(1786),ge=N(910);const st={name:"flip",enabled:!0,phase:"main",fn:function rt(et){var Ve=et.state,we=et.options,Qe=et.name;if(!Ve.modifiersData[Qe]._skip){for(var xt=we.mainAxis,xe=void 0===xt||xt,ot=we.altAxis,ct=void 0===ot||ot,yt=we.fallbackPlacements,zt=we.padding,At=we.boundary,Ot=we.rootBoundary,ln=we.altBoundary,En=we.flipVariations,dt=void 0===En||En,_t=we.allowedAutoPlacements,$e=Ve.options.placement,Ae=(0,se.Z)($e),Mt=yt||(Ae!==$e&&dt?function Be(et){if((0,se.Z)(et)===ge.d7)return[];var Ve=ee(et);return[ne(et),Ve,ne(Ve)]}($e):[ee($e)]),tt=[$e].concat(Mt).reduce(function(is,ei){return is.concat((0,se.Z)(ei)===ge.d7?function Ce(et,Ve){void 0===Ve&&(Ve={});var xt=Ve.boundary,xe=Ve.rootBoundary,ot=Ve.padding,ct=Ve.flipVariations,yt=Ve.allowedAutoPlacements,zt=void 0===yt?ge.Ct:yt,At=(0,ue.Z)(Ve.placement),Ot=At?ct?ge.bw:ge.bw.filter(function(dt){return(0,ue.Z)(dt)===At}):ge.mv,ln=Ot.filter(function(dt){return zt.indexOf(dt)>=0});0===ln.length&&(ln=Ot);var En=ln.reduce(function(dt,_t){return dt[_t]=(0,re.Z)(et,{placement:_t,boundary:xt,rootBoundary:xe,padding:ot})[(0,se.Z)(_t)],dt},{});return Object.keys(En).sort(function(dt,_t){return En[dt]-En[_t]})}(Ve,{placement:ei,boundary:At,rootBoundary:Ot,padding:zt,flipVariations:dt,allowedAutoPlacements:_t}):ei)},[]),Jt=Ve.rects.reference,Le=Ve.rects.popper,mn=new Map,Jn=!0,Ge=tt[0],Ai=0;Ai<tt.length;Ai++){var Oi=tt[Ai],vn=(0,se.Z)(Oi),On=(0,ue.Z)(Oi)===ge.BL,dr=[ge.we,ge.I].indexOf(vn)>=0,vt=dr?"width":"height",ir=(0,re.Z)(Ve,{placement:Oi,boundary:At,rootBoundary:Ot,altBoundary:ln,padding:zt}),ki=dr?On?ge.F2:ge.t$:On?ge.I:ge.we;Jt[vt]>Le[vt]&&(ki=ee(ki));var Vi=ee(ki),Rr=[];if(xe&&Rr.push(ir[vn]<=0),ct&&Rr.push(ir[ki]<=0,ir[Vi]<=0),Rr.every(function(is){return is})){Ge=Oi,Jn=!1;break}mn.set(Oi,Rr)}if(Jn)for(var ts=function(ei){var zs=tt.find(function(Co){var va=mn.get(Co);if(va)return va.slice(0,ei).every(function(ya){return ya})});if(zs)return Ge=zs,"break"},ns=dt?3:1;ns>0&&"break"!==ts(ns);ns--);Ve.placement!==Ge&&(Ve.modifiersData[Qe]._skip=!0,Ve.placement=Ge,Ve.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},112:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>re});var j=N(910),ee=N(1785);function se(ue,ge,Ce){return void 0===Ce&&(Ce={x:0,y:0}),{top:ue.top-ge.height-Ce.y,right:ue.right-ge.width+Ce.x,bottom:ue.bottom-ge.height+Ce.y,left:ue.left-ge.width-Ce.x}}function ie(ue){return[j.we,j.F2,j.I,j.t$].some(function(ge){return ue[ge]>=0})}const re={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function ne(ue){var ge=ue.state,Ce=ue.name,Be=ge.rects.reference,rt=ge.rects.popper,st=ge.modifiersData.preventOverflow,et=(0,ee.Z)(ge,{elementContext:"reference"}),Ve=(0,ee.Z)(ge,{altBoundary:!0}),we=se(et,Be),Qe=se(Ve,rt,st),xt=ie(we),xe=ie(Qe);ge.modifiersData[Ce]={referenceClippingOffsets:we,popperEscapeOffsets:Qe,isReferenceHidden:xt,hasPopperEscaped:xe},ge.attributes.popper=Object.assign({},ge.attributes.popper,{"data-popper-reference-hidden":xt,"data-popper-escaped":xe})}}},3718:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ne});var j=N(8978),ee=N(910);const ne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function ie(re){var ue=re.state,Ce=re.name,Be=re.options.offset,rt=void 0===Be?[0,0]:Be,st=ee.Ct.reduce(function(Qe,xt){return Qe[xt]=function se(re,ue,ge){var Ce=(0,j.Z)(re),Be=[ee.t$,ee.we].indexOf(Ce)>=0?-1:1,rt="function"==typeof ge?ge(Object.assign({},ue,{placement:re})):ge,st=rt[0],et=rt[1];return st=st||0,et=(et||0)*Be,[ee.t$,ee.F2].indexOf(Ce)>=0?{x:et,y:st}:{x:st,y:et}}(xt,ue.rects,rt),Qe},{}),et=st[ue.placement],we=et.y;null!=ue.modifiersData.popperOffsets&&(ue.modifiersData.popperOffsets.x+=et.x,ue.modifiersData.popperOffsets.y+=we),ue.modifiersData[Ce]=st}}},9696:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>se});var j=N(2551);const se={name:"popperOffsets",enabled:!0,phase:"read",fn:function ee(ie){var ne=ie.state;ne.modifiersData[ie.name]=(0,j.Z)({reference:ne.rects.reference,element:ne.rects.popper,strategy:"absolute",placement:ne.placement})},data:{}}},9429:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>et});var j=N(910),ee=N(8978),se=N(3218),ne=N(7327),re=N(4436),ue=N(4826),ge=N(1785),Ce=N(1786),Be=N(613),rt=N(373);const et={name:"preventOverflow",enabled:!0,phase:"main",fn:function st(Ve){var we=Ve.state,Qe=Ve.options,xt=Ve.name,xe=Qe.mainAxis,ot=void 0===xe||xe,ct=Qe.altAxis,yt=void 0!==ct&&ct,En=Qe.tether,dt=void 0===En||En,_t=Qe.tetherOffset,$e=void 0===_t?0:_t,Ae=(0,ge.Z)(we,{boundary:Qe.boundary,rootBoundary:Qe.rootBoundary,padding:Qe.padding,altBoundary:Qe.altBoundary}),ht=(0,ee.Z)(we.placement),Mt=(0,Ce.Z)(we.placement),tt=!Mt,Jt=(0,se.Z)(ht),Le=function ie(Ve){return"x"===Ve?"y":"x"}(Jt),mn=we.modifiersData.popperOffsets,Jn=we.rects.reference,Ge=we.rects.popper,Ai="function"==typeof $e?$e(Object.assign({},we.rects,{placement:we.placement})):$e,Oi="number"==typeof Ai?{mainAxis:Ai,altAxis:Ai}:Object.assign({mainAxis:0,altAxis:0},Ai),vn=we.modifiersData.offset?we.modifiersData.offset[we.placement]:null,On={x:0,y:0};if(mn){if(ot){var dr,vt="y"===Jt?j.we:j.t$,ir="y"===Jt?j.I:j.F2,ki="y"===Jt?"height":"width",Vi=mn[Jt],Rr=Vi+Ae[vt],hr=Vi-Ae[ir],ts=dt?-Ge[ki]/2:0,ns=Mt===j.BL?Jn[ki]:Ge[ki],gs=Mt===j.BL?-Ge[ki]:-Jn[ki],is=we.elements.arrow,ei=dt&&is?(0,re.Z)(is):{width:0,height:0},zs=we.modifiersData["arrow#persistent"]?we.modifiersData["arrow#persistent"].padding:(0,Be.Z)(),Co=zs[vt],va=zs[ir],ya=(0,ne.u)(0,Jn[ki],ei[ki]),Zv=tt?Jn[ki]/2-ts-ya-Co-Oi.mainAxis:ns-ya-Co-Oi.mainAxis,Xv=tt?-Jn[ki]/2+ts+ya+va+Oi.mainAxis:gs+ya+va+Oi.mainAxis,co=we.elements.arrow&&(0,ue.Z)(we.elements.arrow),qt=null!=(dr=vn?.[Jt])?dr:0,Qv=Vi+Xv-qt,kh=(0,ne.u)(dt?(0,rt.VV)(Rr,Vi+Zv-qt-(co?"y"===Jt?co.clientTop||0:co.clientLeft||0:0)):Rr,Vi,dt?(0,rt.Fp)(hr,Qv):hr);mn[Jt]=kh,On[Jt]=kh-Vi}if(yt){var Gp,_a=mn[Le],Vc="y"===Le?"height":"width",tl=_a+Ae["x"===Jt?j.we:j.t$],Hc=_a-Ae["x"===Jt?j.I:j.F2],zc=-1!==[j.we,j.t$].indexOf(ht),nl=null!=(Gp=vn?.[Le])?Gp:0,$s=zc?tl:_a-Jn[Vc]-Ge[Vc]-nl+Oi.altAxis,ba=zc?_a+Jn[Vc]+Ge[Vc]-nl-Oi.altAxis:Hc,$c=dt&&zc?(0,ne.q)($s,_a,ba):(0,ne.u)(dt?$s:tl,_a,dt?ba:Hc);mn[Le]=$c,On[Le]=$c-_a}we.modifiersData[xt]=On}},requiresIfExists:["offset"]}},8061:(fe,ve,N)=>{"use strict";N.d(ve,{fi:()=>st});var j=N(5668),ee=N(1971),se=N(9696),ie=N(7745),ne=N(9208),re=N(3718),ue=N(1363),ge=N(9429),Ce=N(5443),Be=N(112),st=(0,j.kZ)({defaultModifiers:[ee.Z,se.Z,ie.Z,ne.Z,re.Z,ue.Z,ge.Z,Ce.Z,Be.Z]})},2551:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ne});var j=N(8978),ee=N(1786),se=N(3218),ie=N(910);function ne(re){var Ve,ue=re.reference,ge=re.element,Ce=re.placement,Be=Ce?(0,j.Z)(Ce):null,rt=Ce?(0,ee.Z)(Ce):null,st=ue.x+ue.width/2-ge.width/2,et=ue.y+ue.height/2-ge.height/2;switch(Be){case ie.we:Ve={x:st,y:ue.y-ge.height};break;case ie.I:Ve={x:st,y:ue.y+ue.height};break;case ie.F2:Ve={x:ue.x+ue.width,y:et};break;case ie.t$:Ve={x:ue.x-ge.width,y:et};break;default:Ve={x:ue.x,y:ue.y}}var we=Be?(0,se.Z)(Be):null;if(null!=we){var Qe="y"===we?"height":"width";switch(rt){case ie.BL:Ve[we]=Ve[we]-(ue[Qe]/2-ge[Qe]/2);break;case ie.ut:Ve[we]=Ve[we]+(ue[Qe]/2-ge[Qe]/2)}}return Ve}},1785:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>En});var j=N(910),ee=N(5211),se=N(8863),ie=N(7319),ne=N(4796),ue=N(1422),ge=N(6919),Ce=N(373),rt=N(8941),st=N(4826),et=N(7577),Ve=N(309),we=N(3449),Qe=N(7852),xt=N(3535);function xe(dt){return Object.assign({},dt,{left:dt.x,top:dt.y,right:dt.x+dt.width,bottom:dt.y+dt.height})}function ct(dt,_t,$e){return _t===j.Pj?xe(function re(dt,_t){var $e=(0,ee.Z)(dt),Ae=(0,se.Z)(dt),ht=$e.visualViewport,Mt=Ae.clientWidth,tt=Ae.clientHeight,Jt=0,Le=0;if(ht){Mt=ht.width,tt=ht.height;var mn=(0,ne.Z)();(mn||!mn&&"fixed"===_t)&&(Jt=ht.offsetLeft,Le=ht.offsetTop)}return{width:Mt,height:tt,x:Jt+(0,ie.Z)(dt),y:Le}}(dt,$e)):(0,et.kK)(_t)?function ot(dt,_t){var $e=(0,Ve.Z)(dt,!1,"fixed"===_t);return $e.top=$e.top+dt.clientTop,$e.left=$e.left+dt.clientLeft,$e.bottom=$e.top+dt.clientHeight,$e.right=$e.left+dt.clientWidth,$e.width=dt.clientWidth,$e.height=dt.clientHeight,$e.x=$e.left,$e.y=$e.top,$e}(_t,$e):xe(function Be(dt){var _t,$e=(0,se.Z)(dt),Ae=(0,ge.Z)(dt),ht=null==(_t=dt.ownerDocument)?void 0:_t.body,Mt=(0,Ce.Fp)($e.scrollWidth,$e.clientWidth,ht?ht.scrollWidth:0,ht?ht.clientWidth:0),tt=(0,Ce.Fp)($e.scrollHeight,$e.clientHeight,ht?ht.scrollHeight:0,ht?ht.clientHeight:0),Jt=-Ae.scrollLeft+(0,ie.Z)(dt),Le=-Ae.scrollTop;return"rtl"===(0,ue.Z)(ht||$e).direction&&(Jt+=(0,Ce.Fp)($e.clientWidth,ht?ht.clientWidth:0)-Mt),{width:Mt,height:tt,x:Jt,y:Le}}((0,se.Z)(dt)))}var At=N(2551),Ot=N(3234),ln=N(3857);function En(dt,_t){void 0===_t&&(_t={});var Ae=_t.placement,ht=void 0===Ae?dt.placement:Ae,Mt=_t.strategy,tt=void 0===Mt?dt.strategy:Mt,Jt=_t.boundary,Le=void 0===Jt?j.zV:Jt,mn=_t.rootBoundary,Jn=void 0===mn?j.Pj:mn,Ge=_t.elementContext,Ai=void 0===Ge?j.k5:Ge,Oi=_t.altBoundary,vn=void 0!==Oi&&Oi,On=_t.padding,dr=void 0===On?0:On,vt=(0,Ot.Z)("number"!=typeof dr?dr:(0,ln.Z)(dr,j.mv)),ki=dt.rects.popper,Vi=dt.elements[vn?Ai===j.k5?j.YP:j.k5:Ai],Rr=function zt(dt,_t,$e,Ae){var ht="clippingParents"===_t?function yt(dt){var _t=(0,rt.Z)((0,we.Z)(dt)),Ae=["absolute","fixed"].indexOf((0,ue.Z)(dt).position)>=0&&(0,et.Re)(dt)?(0,st.Z)(dt):dt;return(0,et.kK)(Ae)?_t.filter(function(ht){return(0,et.kK)(ht)&&(0,Qe.Z)(ht,Ae)&&"body"!==(0,xt.Z)(ht)}):[]}(dt):[].concat(_t),Mt=[].concat(ht,[$e]),Jt=Mt.reduce(function(Le,mn){var Jn=ct(dt,mn,Ae);return Le.top=(0,Ce.Fp)(Jn.top,Le.top),Le.right=(0,Ce.VV)(Jn.right,Le.right),Le.bottom=(0,Ce.VV)(Jn.bottom,Le.bottom),Le.left=(0,Ce.Fp)(Jn.left,Le.left),Le},ct(dt,Mt[0],Ae));return Jt.width=Jt.right-Jt.left,Jt.height=Jt.bottom-Jt.top,Jt.x=Jt.left,Jt.y=Jt.top,Jt}((0,et.kK)(Vi)?Vi:Vi.contextElement||(0,se.Z)(dt.elements.popper),Le,Jn,tt),hr=(0,Ve.Z)(dt.elements.reference),ts=(0,At.Z)({reference:hr,element:ki,strategy:"absolute",placement:ht}),ns=xe(Object.assign({},ki,ts)),gs=Ai===j.k5?ns:hr,is={top:Rr.top-gs.top+vt.top,bottom:gs.bottom-Rr.bottom+vt.bottom,left:Rr.left-gs.left+vt.left,right:gs.right-Rr.right+vt.right},ei=dt.modifiersData.offset;if(Ai===j.k5&&ei){var zs=ei[ht];Object.keys(is).forEach(function(Co){var va=[j.F2,j.I].indexOf(Co)>=0?1:-1,ya=[j.we,j.I].indexOf(Co)>=0?"y":"x";is[Co]+=zs[ya]*va})}return is}},3857:(fe,ve,N)=>{"use strict";function j(ee,se){return se.reduce(function(ie,ne){return ie[ne]=ee,ie},{})}N.d(ve,{Z:()=>j})},8978:(fe,ve,N)=>{"use strict";function j(ee){return ee.split("-")[0]}N.d(ve,{Z:()=>j})},613:(fe,ve,N)=>{"use strict";function j(){return{top:0,right:0,bottom:0,left:0}}N.d(ve,{Z:()=>j})},3218:(fe,ve,N)=>{"use strict";function j(ee){return["top","bottom"].indexOf(ee)>=0?"x":"y"}N.d(ve,{Z:()=>j})},1786:(fe,ve,N)=>{"use strict";function j(ee){return ee.split("-")[1]}N.d(ve,{Z:()=>j})},373:(fe,ve,N)=>{"use strict";N.d(ve,{Fp:()=>j,NM:()=>se,VV:()=>ee});var j=Math.max,ee=Math.min,se=Math.round},3234:(fe,ve,N)=>{"use strict";N.d(ve,{Z:()=>ee});var j=N(613);function ee(se){return Object.assign({},(0,j.Z)(),se)}},549:(fe,ve,N)=>{"use strict";function j(){var ee=navigator.userAgentData;return null!=ee&&ee.brands?ee.brands.map(function(se){return se.brand+"/"+se.version}).join(" "):navigator.userAgent}N.d(ve,{Z:()=>j})},7327:(fe,ve,N)=>{"use strict";N.d(ve,{q:()=>se,u:()=>ee});var j=N(373);function ee(ie,ne,re){return(0,j.Fp)(ie,(0,j.VV)(ne,re))}function se(ie,ne,re){var ue=ee(ie,ne,re);return ue>re?re:ue}},3811:function(fe,ve,N){var j;fe.exports=(j=N(2833),function(ee){var se={};function ie(ne){if(se[ne])return se[ne].exports;var re=se[ne]={i:ne,l:!1,exports:{}};return ee[ne].call(re.exports,re,re.exports,ie),re.l=!0,re.exports}return ie.m=ee,ie.c=se,ie.i=function(ne){return ne},ie.d=function(ne,re,ue){ie.o(ne,re)||Object.defineProperty(ne,re,{configurable:!1,enumerable:!0,get:ue})},ie.n=function(ne){var re=ne&&ne.__esModule?function(){return ne.default}:function(){return ne};return ie.d(re,"a",re),re},ie.o=function(ne,re){return Object.prototype.hasOwnProperty.call(ne,re)},ie.p="",ie(ie.s=7)}([function(ee,se,ie){"use strict";ee.exports=null!=Object.assign?Object.assign.bind(Object):function(ne){for(var re=arguments.length,ue=Array(re>1?re-1:0),ge=1;ge<re;ge++)ue[ge-1]=arguments[ge];return ue.forEach(function(Ce){null!=Ce&&Object.keys(Ce).forEach(function(Be){return ne[Be]=Ce[Be]})}),ne}},function(ee,se,ie){"use strict";var re=ie(5).getBoundingBox;ee.exports={getRef:function ue(ge,Ce){return{getBoundingClientRect:function(){return re(ge,Ce)}}}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(1).getRef,Ce=ie(6).getContent,Be={},st=ie(8).createPopper;ee.exports={getPopper:function et(Ve,we){var Qe=ue(Ve,we),xt=Ce(Ve,we.content),xe=ne({},Be,we.popper);return st(Qe,xt,xe)}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(2).getPopper,Ce=ie(1).getRef;function st(Qe,xt){var xe=function(Ot){return Ot.isNode()?{w:Ot.renderedWidth(),h:Ot.renderedHeight()}:{w:3,h:3}},yt=Qe.cy();return ne({},{renderedDimensions:xe,renderedPosition:function(Ot){return Ot.isNode()?function et(Qe,xt){var xe=Qe.renderedPosition(),ot=xt(Qe);return{x:xe.x-ot.w/2,y:xe.y-ot.h/2}}(Ot,xe):function Ve(Qe){var xt=Qe.midpoint(),xe=Qe.cy().pan(),ot=Qe.cy().zoom();return{x:xt.x*ot+xe.x,y:xt.y*ot+xe.y}}(Ot)},popper:{},cy:yt},xt)}function we(Qe){Qe.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}ee.exports={popper:function Be(Qe){return we(this),ue(this[0],st(this[0],Qe))},popperRef:function rt(Qe){return we(this),Ce(this[0],st(this[0],Qe))}}},function(ee,se,ie){"use strict";var ne=ie(0),ue=ie(2).getPopper,Ce=ie(1).getRef;function st(et,Ve){return ne({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},renderedPosition:function(){return{x:0,y:0}},popper:{},cy:et},Ve)}ee.exports={popper:function Be(et){return ue(this,st(this,et))},popperRef:function rt(et){return Ce(this,st(this,et))}}},function(ee,se,ie){"use strict";ee.exports={getBoundingBox:function ne(re,ue){var ge=ue.renderedPosition,Be=ue.renderedDimensions,rt=ue.cy.container().getBoundingClientRect(),st=Be(re),et=ge(re);return{top:et.y+rt.top,left:et.x+rt.left,right:et.x+st.w+rt.left,bottom:et.y+st.h+rt.top,width:st.w,height:st.h}}}},function(ee,se,ie){"use strict";ee.exports={getContent:function ne(re,ue){var ge;if("function"!=typeof ue){if(ue instanceof HTMLElement)return ue;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(ge=ue(re)))throw new Error("No 'target' specified to create popper");return ge}}},function(ee,se,ie){"use strict";var ne=ie(4),re=ie(3),ue=function(Ce){!Ce||(Ce("core","popper",ne.popper),Ce("collection","popper",re.popper),Ce("core","popperRef",ne.popperRef),Ce("collection","popperRef",re.popperRef))};typeof cytoscape<"u"&&ue(cytoscape),ee.exports=ue},function(ee,se){ee.exports=j}]))},6864:(fe,ve,N)=>{"use strict";var j=N(406),ee=N(5203),se=N(8817),ie=N(4793),ne=N(4152);function re(u){return u&&"object"==typeof u&&"default"in u?u:{default:u}}var ue=re(j),ge=re(ee),Ce=re(se),Be=re(ie),rt=re(ne);function st(u){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(u)}function et(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function Ve(u,o){for(var c=0;c<o.length;c++){var d=o[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}function we(u,o,c){return o&&Ve(u.prototype,o),c&&Ve(u,c),Object.defineProperty(u,"prototype",{writable:!1}),u}function Qe(u,o,c){return o in u?Object.defineProperty(u,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[o]=c,u}function xt(u,o){return function xe(u){if(Array.isArray(u))return u}(u)||function ot(u,o){var c=null==u?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(null!=c){var g,y,d=[],f=!0,p=!1;try{for(c=c.call(u);!(f=(g=c.next()).done)&&(d.push(g.value),!o||d.length!==o);f=!0);}catch(b){p=!0,y=b}finally{try{!f&&null!=c.return&&c.return()}finally{if(p)throw y}}return d}}(u,o)||function ct(u,o){if(u){if("string"==typeof u)return yt(u,o);var c=Object.prototype.toString.call(u).slice(8,-1);if("Object"===c&&u.constructor&&(c=u.constructor.name),"Map"===c||"Set"===c)return Array.from(u);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return yt(u,o)}}(u,o)||function zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(u,o){(null==o||o>u.length)&&(o=u.length);for(var c=0,d=new Array(o);c<o;c++)d[c]=u[c];return d}var At=typeof window>"u"?null:window,Ot=At?At.navigator:null,ln=st(""),En=st({}),dt=st(function(){}),_t=typeof HTMLElement>"u"?"undefined":st(HTMLElement),$e=function(o){return o&&o.instanceString&&ht(o.instanceString)?o.instanceString():null},Ae=function(o){return null!=o&&st(o)==ln},ht=function(o){return null!=o&&st(o)===dt},Mt=function(o){return!Ge(o)&&(Array.isArray?Array.isArray(o):null!=o&&o instanceof Array)},tt=function(o){return null!=o&&st(o)===En&&!Mt(o)&&o.constructor===Object},Le=function(o){return null!=o&&st(o)===st(1)&&!isNaN(o)},Jn=function(o){if("undefined"!==_t)return null!=o&&o instanceof HTMLElement},Ge=function(o){return Ai(o)||Oi(o)},Ai=function(o){return"collection"===$e(o)&&o._private.single},Oi=function(o){return"collection"===$e(o)&&!o._private.single},vn=function(o){return"core"===$e(o)},On=function(o){return"stylesheet"===$e(o)},vt=function(o){return null==o||!(""!==o&&!o.match(/^\s+$/))},Vi=function(o){return function(o){return null!=o&&st(o)===En}(o)&&ht(o.then)},hr=function(o,c){c||(c=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var p=[],g=0;g<arguments.length;g++)p.push(arguments[g]);return p.join("$")});var d=function f(){var y,p=this,g=arguments,b=c.apply(p,g),_=f.cache;return(y=_[b])||(y=_[b]=o.apply(p,g)),y};return d.cache={},d},ts=hr(function(u){return u.replace(/([A-Z])/g,function(o){return"-"+o.toLowerCase()})}),ns=hr(function(u){return u.replace(/(-\w)/g,function(o){return o[1].toUpperCase()})}),gs=hr(function(u,o){return u+o[0].toUpperCase()+o.substring(1)},function(u,o){return u+"$"+o}),is=function(o){return vt(o)?o:o.charAt(0).toUpperCase()+o.substring(1)},ei="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",co=function(o,c){return o<c?-1:o>c?1:0},qt=null!=Object.assign?Object.assign.bind(Object):function(u){for(var o=arguments,c=1;c<o.length;c++){var d=o[c];if(null!=d)for(var f=Object.keys(d),p=0;p<f.length;p++){var g=f[p];u[g]=d[g]}}return u},ey={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_a=function(o){for(var c=o.map,d=o.keys,f=d.length,p=0;p<f;p++){var g=d[p];if(tt(g))throw Error("Tried to set map with object key");p<d.length-1?(null==c[g]&&(c[g]={}),c=c[g]):c[g]=o.value}},Vc=function(o){for(var c=o.map,d=o.keys,f=d.length,p=0;p<f;p++){var g=d[p];if(tt(g))throw Error("Tried to get map with object key");if(null==(c=c[g]))return c}return c},tl=At?At.performance:null,Hc=tl&&tl.now?function(){return tl.now()}:function(){return Date.now()},zc=function(){if(At){if(At.requestAnimationFrame)return function(u){At.requestAnimationFrame(u)};if(At.mozRequestAnimationFrame)return function(u){At.mozRequestAnimationFrame(u)};if(At.webkitRequestAnimationFrame)return function(u){At.webkitRequestAnimationFrame(u)};if(At.msRequestAnimationFrame)return function(u){At.msRequestAnimationFrame(u)}}return function(u){u&&setTimeout(function(){u(Hc())},1e3/60)}}(),nl=function(o){return zc(o)},$s=Hc,ba=9261,$c=65599,jc=5381,Wp=function(o){for(var f,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba,d=c;!(f=o.next()).done;)d=d*$c+f.value|0;return d},Uc=function(o){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ba;return c*$c+o|0},wr=function(o){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jc;return(c<<5)+c+o|0},il=function(o){return 2097152*o[0]+o[1]},Ih=function(o,c){return[Uc(o[0],c[0]),wr(o[1],c[1])]},rl=function(o,c){var d={value:0,done:!1},f=0,p=o.length;return Wp({next:function(){return f<p?d.value=o.charCodeAt(f++):d.done=!0,d}},c)},ty=function(){return Qw(arguments)},Qw=function(o){for(var c,d=0;d<o.length;d++){var f=o[d];c=0===d?rl(f):rl(f,c)}return c},Go=!0,Jw=null!=console.warn,Or=null!=console.trace,sl=Number.MAX_SAFE_INTEGER||9007199254740991,js=function(){return!0},qp=function(){return!1},ny=function(){return 0},Rh=function(){},Pi=function(o){throw new Error(o)},Oh=function(o){if(void 0===o)return Go;Go=!!o},ti=function(o){!Oh()||(Jw?console.warn(o):(console.log(o),Or&&console.trace()))},xo=function(o){return null==o?o:Mt(o)?o.slice():tt(o)?function(o){return qt({},o)}(o):o},ry=function(o,c){for(c=o="";o++<36;c+=51*o&52?(15^o?8^Math.random()*(20^o?16:4):4).toString(16):"-");return c},tC={},sy=function(){return tC},Gr=function(o){var c=Object.keys(o);return function(d){for(var f={},p=0;p<c.length;p++){var g=c[p],y=d?.[g];f[g]=void 0===y?o[g]:y}return f}},wa=function(o,c,d){for(var f=o.length-1;f>=0&&(o[f]!==c||(o.splice(f,1),!d));f--);},Kp=function(o){o.splice(0,o.length)},ai=function(o,c,d){return d&&(c=gs(d,c)),o[c]},rr=function(o,c,d,f){d&&(c=gs(d,c)),o[c]=f},uo=typeof Map<"u"?Map:function(){function u(){et(this,u),this._obj={}}return we(u,[{key:"set",value:function(c,d){return this._obj[c]=d,this}},{key:"delete",value:function(c){return this._obj[c]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(c){return void 0!==this._obj[c]}},{key:"get",value:function(c){return this._obj[c]}}]),u}(),Yp=function(){function u(o){if(et(this,u),this._obj=Object.create(null),this.size=0,null!=o){var c;c=null!=o.instanceString&&o.instanceString()===this.instanceString()?o.toArray():o;for(var d=0;d<c.length;d++)this.add(c[d])}}return we(u,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(c){var d=this._obj;1!==d[c]&&(d[c]=1,this.size++)}},{key:"delete",value:function(c){var d=this._obj;1===d[c]&&(d[c]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(c){return 1===this._obj[c]}},{key:"toArray",value:function(){var c=this;return Object.keys(this._obj).filter(function(d){return c.has(d)})}},{key:"forEach",value:function(c,d){return this.toArray().forEach(c,d)}}]),u}(),si="undefined"!==(typeof Set>"u"?"undefined":st(Set))?Set:Yp,Gc=function(o,c){var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==o&&void 0!==c&&vn(o)){var f=c.group;if(null==f&&(f=c.data&&null!=c.data.source&&null!=c.data.target?"edges":"nodes"),"nodes"===f||"edges"===f){this.length=1,this[0]=this;var p=this._private={cy:o,single:!0,data:c.data||{},position:c.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!c.selected,selectable:void 0===c.selectable||!!c.selectable,locked:!!c.locked,grabbed:!1,grabbable:void 0===c.grabbable||!!c.grabbable,pannable:void 0===c.pannable?"edges"===f:!!c.pannable,active:!1,classes:new si,animation:{current:[],queue:[]},rscratch:{},scratch:c.scratch||{},edges:[],children:[],parent:c.parent&&c.parent.isNode()?c.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==p.position.x&&(p.position.x=0),null==p.position.y&&(p.position.y=0),c.renderedPosition){var g=c.renderedPosition,y=o.pan(),b=o.zoom();p.position={x:(g.x-y.x)/b,y:(g.y-y.y)/b}}var _=[];Mt(c.classes)?_=c.classes:Ae(c.classes)&&(_=c.classes.split(/\s+/));for(var w=0,x=_.length;w<x;w++){var E=_[w];!E||""===E||p.classes.add(E)}this.createEmitter();var S=c.style||c.css;S&&(ti("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(S)),(void 0===d||d)&&this.restore()}else Pi("An element must be of type `nodes` or `edges`; you specified `"+f+"`")}else Pi("An element must have a core reference and parameters set")},ay=function(o){return o={bfs:o.bfs||!o.dfs,dfs:o.dfs||!o.bfs},function(d,f,p){var g;tt(d)&&!Ge(d)&&(d=(g=d).roots||g.root,f=g.visit,p=g.directed),p=2!==arguments.length||ht(f)?p:f,f=ht(f)?f:function(){};for(var A,y=this._private.cy,b=d=Ae(d)?this.filter(d):d,_=[],w=[],x={},E={},S={},M=0,I=this.byGroup(),R=I.nodes,F=I.edges,L=0;L<b.length;L++){var z=b[L],K=z.id();z.isNode()&&(_.unshift(z),o.bfs&&(S[K]=!0,w.push(z)),E[K]=0)}for(var Y=function(){var oe=o.bfs?_.shift():_.pop(),X=oe.id();if(o.dfs){if(S[X])return"continue";S[X]=!0,w.push(oe)}var Fe,me=E[X],ae=x[X],de=null!=ae?ae.source():null,be=null!=ae?ae.target():null,Se=null==ae?void 0:oe.same(de)?be[0]:de[0];if(!0===(Fe=f(oe,ae,Se,M++,me)))return A=oe,"break";if(!1===Fe)return"break";for(var Ee=oe.connectedEdges().filter(function(He){return(!p||He.source().same(oe))&&F.has(He)}),Re=0;Re<Ee.length;Re++){var Ye=Ee[Re],qe=Ye.connectedNodes().filter(function(He){return!He.same(oe)&&R.has(He)}),We=qe.id();0!==qe.length&&!S[We]&&(_.push(qe=qe[0]),o.bfs&&(S[We]=!0,w.push(qe)),x[We]=Ye,E[We]=E[X]+1)}};0!==_.length;){var H=Y();if("continue"!==H&&"break"===H)break}for(var Z=y.collection(),U=0;U<w.length;U++){var Q=w[U],J=x[Q.id()];null!=J&&Z.push(J),Z.push(Q)}return{path:y.collection(Z),found:y.collection(A)}}},ni={breadthFirstSearch:ay({bfs:!0}),depthFirstSearch:ay({dfs:!0})};ni.bfs=ni.breadthFirstSearch,ni.dfs=ni.depthFirstSearch;var cn=Gr({root:null,weight:function(o){return 1},directed:!1}),Zp={dijkstra:function(o){if(!tt(o)){var c=arguments;o={root:c[0],weight:c[1],directed:c[2]}}var d=cn(o),f=d.root,p=d.weight,g=d.directed,y=this,b=p,_=Ae(f)?this.filter(f)[0]:f[0],w={},x={},E={},S=this.byGroup(),M=S.nodes,A=S.edges;A.unmergeBy(function(me){return me.isLoop()});for(var I=function(ae){return w[ae.id()]},R=function(ae,de){w[ae.id()]=de,F.updateItem(ae)},F=new ge.default(function(me,ae){return I(me)-I(ae)}),L=0;L<M.length;L++){var z=M[L];w[z.id()]=z.same(_)?0:1/0,F.push(z)}for(var K=function(ae,de){for(var Fe,be=(g?ae.edgesTo(de):ae.edgesWith(de)).intersect(A),Se=1/0,Ee=0;Ee<be.length;Ee++){var Re=be[Ee],Ye=b(Re);(Ye<Se||!Fe)&&(Se=Ye,Fe=Re)}return{edge:Fe,dist:Se}};F.size()>0;){var Y=F.pop(),H=I(Y),Z=Y.id();if(E[Z]=H,H!==1/0)for(var U=Y.neighborhood().intersect(M),Q=0;Q<U.length;Q++){var J=U[Q],W=J.id(),oe=K(Y,J),X=H+oe.dist;X<I(J)&&(R(J,X),x[W]={node:Y,edge:oe.edge})}}return{distanceTo:function(ae){var de=Ae(ae)?M.filter(ae)[0]:ae[0];return E[de.id()]},pathTo:function(ae){var de=Ae(ae)?M.filter(ae)[0]:ae[0],be=[],Se=de,Fe=Se.id();if(de.length>0)for(be.unshift(de);x[Fe];){var Ee=x[Fe];be.unshift(Ee.edge),be.unshift(Ee.node),Fe=(Se=Ee.node).id()}return y.spawn(be)}}}},JT={kruskal:function(o){o=o||function(L){return 1};for(var c=this.byGroup(),d=c.nodes,f=c.edges,p=d.length,g=new Array(p),y=d,b=function(z){for(var K=0;K<g.length;K++)if(g[K].has(z))return K},_=0;_<p;_++)g[_]=this.spawn(d[_]);for(var w=f.sort(function(L,z){return o(L)-o(z)}),x=0;x<w.length;x++){var E=w[x],S=E.source()[0],M=E.target()[0],A=b(S),I=b(M),R=g[A],F=g[I];A!==I&&(y.merge(E),R.merge(F),g.splice(I,1))}return y}},Ze=Gr({root:null,goal:null,weight:function(o){return 1},heuristic:function(o){return 0},directed:!1}),Ph={aStar:function(o){var c=this.cy(),d=Ze(o),f=d.root,p=d.goal,g=d.heuristic,y=d.directed,b=d.weight;f=c.collection(f)[0],p=c.collection(p)[0];var L,z,_=f.id(),w=p.id(),x={},E={},S={},M=new ge.default(function(Fe,Ee){return E[Fe.id()]-E[Ee.id()]}),A=new si,I={},R={},F=function(Ee,Re){M.push(Ee),A.add(Re)};F(f,_),x[_]=0,E[_]=g(f);for(var H=0;M.size()>0;){if(z=(L=M.pop()).id(),A.delete(z),H++,z===w){for(var Z=[],U=p,Q=w,J=R[Q];Z.unshift(U),null!=J&&Z.unshift(J),null!=(U=I[Q]);)J=R[Q=U.id()];return{found:!0,distance:x[z],path:this.spawn(Z),steps:H}}S[z]=!0;for(var W=L._private.edges,oe=0;oe<W.length;oe++){var X=W[oe];if(this.hasElementWithId(X.id())&&(!y||X.data("source")===z)){var me=X.source(),ae=X.target(),de=me.id()!==z?me:ae,be=de.id();if(this.hasElementWithId(be)&&!S[be]){var Se=x[z]+b(X);if(!A.has(be)){x[be]=Se,E[be]=Se+g(de),F(de,be),I[be]=L,R[be]=X;continue}Se<x[be]&&(x[be]=Se,E[be]=Se+g(de),I[be]=L,R[be]=X)}}}}return{found:!1,distance:void 0,path:void 0,steps:H}}},wn=Gr({weight:function(o){return 1},directed:!1}),li={floydWarshall:function(o){for(var c=this.cy(),d=wn(o),p=d.directed,g=d.weight,y=this.byGroup(),b=y.nodes,_=y.edges,w=b.length,x=w*w,E=function(Ye){return b.indexOf(Ye)},S=function(Ye){return b[Ye]},M=new Array(x),A=0;A<x;A++){var I=A%w;M[A]=(A-I)/w===I?0:1/0}for(var F=new Array(x),L=new Array(x),z=0;z<_.length;z++){var K=_[z],Y=K.source()[0],H=K.target()[0];if(Y!==H){var Z=E(Y),U=E(H),Q=Z*w+U,J=g(K);if(M[Q]>J&&(M[Q]=J,F[Q]=U,L[Q]=K),!p){var W=U*w+Z;!p&&M[W]>J&&(M[W]=J,F[W]=Z,L[W]=K)}}}for(var oe=0;oe<w;oe++)for(var X=0;X<w;X++)for(var me=X*w+oe,ae=0;ae<w;ae++){var de=X*w+ae,be=oe*w+ae;M[me]+M[be]<M[de]&&(M[de]=M[me]+M[be],F[de]=F[me])}var Fe=function(Ye){return E(function(Ye){return(Ae(Ye)?c.filter(Ye):Ye)[0]}(Ye))};return{distance:function(Ye,qe){var We=Fe(Ye),He=Fe(qe);return M[We*w+He]},path:function(Ye,qe){var We=Fe(Ye),He=Fe(qe),ye=S(We);if(We===He)return ye.collection();if(null==F[We*w+He])return c.collection();var Me=c.collection();for(Me.merge(ye);We!==He;)Me.merge(L[We*w+(We=F[We*w+He])]),Me.merge(S(We));return Me}}}},iC=Gr({weight:function(o){return 1},directed:!1,root:null}),eA={bellmanFord:function(o){var c=this,d=iC(o),p=d.directed,g=d.root,y=d.weight,b=this,_=this.cy(),w=this.byGroup(),x=w.edges,E=w.nodes,S=E.length,M=new uo,A=!1,I=[];g=_.collection(g)[0],x.unmergeBy(function(Lt){return Lt.isLoop()});for(var R=x.length,F=function(Dt){var Ht=M.get(Dt.id());return Ht||(Ht={},M.set(Dt.id(),Ht)),Ht},L=function(Dt){return(Ae(Dt)?_.$(Dt):Dt)[0]},Y=0;Y<S;Y++){var H=E[Y],Z=F(H);Z.dist=H.same(g)?0:1/0,Z.pred=null,Z.edge=null}for(var U=!1,Q=function(Dt,Ht,kn,yn,Qt,at){var G=yn.dist+at;G<Qt.dist&&!kn.same(yn.edge)&&(Qt.dist=G,Qt.pred=Dt,Qt.edge=kn,U=!0)},J=1;J<S;J++){U=!1;for(var W=0;W<R;W++){var oe=x[W],X=oe.source(),me=oe.target(),ae=y(oe),de=F(X),be=F(me);Q(X,0,oe,de,be,ae),p||Q(me,0,oe,be,de,ae)}if(!U)break}if(U)for(var Se=[],Fe=0;Fe<R;Fe++){var Ee=x[Fe],Re=Ee.source(),Ye=Ee.target(),qe=y(Ee),We=F(Re).dist,He=F(Ye).dist;if(We+qe<He||!p&&He+qe<We){if(A||(ti("Graph contains a negative weight cycle for Bellman-Ford"),A=!0),!1===o.findNegativeWeightCycles)break;var ye=[];We+qe<He&&ye.push(Re),!p&&He+qe<We&&ye.push(Ye);for(var Me=ye.length,Je=0;Je<Me;Je++){var ft=ye[Je],mt=[ft];mt.push(F(ft).edge);for(var nn=F(ft).pred;-1===mt.indexOf(nn);)mt.push(nn),mt.push(F(nn).edge),nn=F(nn).pred;for(var Cn=(mt=mt.slice(mt.indexOf(nn)))[0].id(),wt=0,gt=2;gt<mt.length;gt+=2)mt[gt].id()<Cn&&(Cn=mt[gt].id(),wt=gt);(mt=mt.slice(wt).concat(mt.slice(0,wt))).push(mt[0]);var Ut=mt.map(function(Lt){return Lt.id()}).join(",");-1===Se.indexOf(Ut)&&(I.push(b.spawn(mt)),Se.push(Ut))}}}return{distanceTo:function(Dt){return F(L(Dt)).dist},pathTo:function(Dt){for(var Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,kn=L(Dt),yn=[],Qt=kn;;){if(null==Qt)return c.spawn();var at=F(Qt),G=at.edge,Te=at.pred;if(yn.unshift(Qt[0]),Qt.same(Ht)&&yn.length>0)break;null!=G&&yn.unshift(G),Qt=Te}return b.spawn(yn)},hasNegativeWeightCycle:A,negativeWeightCycles:I}}},rC=Math.sqrt(2),Fh=function(o,c,d){0===d.length&&Pi("Karger-Stein must be run on a connected (sub)graph");for(var f=d[o],y=c[f[1]],b=c[f[2]],_=d,w=_.length-1;w>=0;w--){var x=_[w],E=x[1],S=x[2];(c[E]===y&&c[S]===b||c[E]===b&&c[S]===y)&&_.splice(w,1)}for(var M=0;M<_.length;M++){var A=_[M];A[1]===b?(_[M]=A.slice(),_[M][1]=y):A[2]===b&&(_[M]=A.slice(),_[M][2]=y)}for(var I=0;I<c.length;I++)c[I]===b&&(c[I]=y);return _},ms=function(o,c,d,f){for(;d>f;){var p=Math.floor(Math.random()*c.length);c=Fh(p,o,c),d--}return c},tA={kargerStein:function(){var o=this,c=this.byGroup(),d=c.nodes,f=c.edges;f.unmergeBy(function(be){return be.isLoop()});var p=d.length,g=f.length,y=Math.ceil(Math.pow(Math.log(p)/Math.LN2,2)),b=Math.floor(p/rC);if(!(p<2)){for(var _=[],w=0;w<g;w++){var x=f[w];_.push([w,d.indexOf(x.source()),d.indexOf(x.target())])}for(var E=1/0,S=[],M=new Array(p),A=new Array(p),I=new Array(p),R=function(Se,Fe){for(var Ee=0;Ee<p;Ee++)Fe[Ee]=Se[Ee]},F=0;F<=y;F++){for(var L=0;L<p;L++)A[L]=L;var z=ms(A,_.slice(),p,b),K=z.slice();R(A,I);var Y=ms(A,z,b,2),H=ms(I,K,b,2);Y.length<=H.length&&Y.length<E?(E=Y.length,S=Y,R(A,M)):H.length<=Y.length&&H.length<E&&(E=H.length,S=H,R(I,M))}for(var Z=this.spawn(S.map(function(be){return f[be[0]]})),U=this.spawn(),Q=this.spawn(),J=M[0],W=0;W<M.length;W++){var X=d[W];M[W]===J?U.merge(X):Q.merge(X)}var me=function(Se){var Fe=o.spawn();return Se.forEach(function(Ee){Fe.merge(Ee),Ee.connectedEdges().forEach(function(Re){o.contains(Re)&&!Z.contains(Re)&&Fe.merge(Re)})}),Fe},ae=[me(U),me(Q)];return{cut:Z,components:ae,partition1:U,partition2:Q}}Pi("At least 2 nodes are required for Karger-Stein algorithm")}},Xp=function(o,c,d){return{x:o.x*c+d.x,y:o.y*c+d.y}},Wo=function(o,c,d){return{x:(o.x-d.x)/c,y:(o.y-d.y)/c}},od=function(o){return{x:o[0],y:o[1]}},Lh=function(o,c){return Math.atan2(c,o)-Math.PI/2},ly=Math.log2||function(u){return Math.log(u)/Math.log(2)},ks=function(o){return o>0?1:o<0?-1:0},Kn=function(o,c){return Math.sqrt(Wc(o,c))},Wc=function(o,c){var d=c.x-o.x,f=c.y-o.y;return d*d+f*f},oA=function(o){for(var c=o.length,d=0,f=0;f<c;f++)d+=o[f];for(var p=0;p<c;p++)o[p]=o[p]/d;return o},Wr=function(o,c,d,f){return(1-f)*(1-f)*o+2*(1-f)*f*c+f*f*d},Pe=function(o,c,d,f){return{x:Wr(o.x,c.x,d.x,f),y:Wr(o.y,c.y,d.y,f)}},Kt=function(o,c,d){return Math.max(o,Math.min(d,c))},qr=function(o){if(null==o)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=o.x1&&null!=o.y1){if(null!=o.x2&&null!=o.y2&&o.x2>=o.x1&&o.y2>=o.y1)return{x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,w:o.x2-o.x1,h:o.y2-o.y1};if(null!=o.w&&null!=o.h&&o.w>=0&&o.h>=0)return{x1:o.x1,y1:o.y1,x2:o.x1+o.w,y2:o.y1+o.h,w:o.w,h:o.h}}},lC=function(o,c){o.x1=Math.min(o.x1,c.x1),o.x2=Math.max(o.x2,c.x2),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,c.y1),o.y2=Math.max(o.y2,c.y2),o.h=o.y2-o.y1},cC=function(o,c,d){o.x1=Math.min(o.x1,c),o.x2=Math.max(o.x2,c),o.w=o.x2-o.x1,o.y1=Math.min(o.y1,d),o.y2=Math.max(o.y2,d),o.h=o.y2-o.y1},ad=function(o){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.x1-=c,o.x2+=c,o.y1-=c,o.y2+=c,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},qc=function(o){var d,f,p,g,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===c.length)d=f=p=g=c[0];else if(2===c.length)d=p=c[0],g=f=c[1];else if(4===c.length){var y=xt(c,4);d=y[0],f=y[1],p=y[2],g=y[3]}return o.x1-=g,o.x2+=f,o.y1-=d,o.y2+=p,o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},Nh=function(o,c){o.x1=c.x1,o.y1=c.y1,o.x2=c.x2,o.y2=c.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1},Bh=function(o,c){return!(o.x1>c.x2||c.x1>o.x2||o.x2<c.x1||c.x2<o.x1||o.y2<c.y1||c.y2<o.y1||o.y1>c.y2||c.y1>o.y2)},Kc=function(o,c,d){return o.x1<=c&&c<=o.x2&&o.y1<=d&&d<=o.y2},en=function(o,c){return Kc(o,c.x,c.y)},Vh=function(o,c){return Kc(o,c.x1,c.y1)&&Kc(o,c.x2,c.y2)},uy=function(o,c,d,f,p,g,y){var x,b=Xc(p,g),_=p/2,w=g/2,S=f-w-y;if((x=qo(o,c,d,f,d-_+b-y,S,d+_-b+y,S,!1)).length>0)return x;var I=d+_+y;if((x=qo(o,c,d,f,I,f-w+b-y,I,f+w-b+y,!1)).length>0)return x;var K=f+w+y;if((x=qo(o,c,d,f,d-_+b-y,K,d+_-b+y,K,!1)).length>0)return x;var W,Z=d-_-y;if((x=qo(o,c,d,f,Z,f-w+b-y,Z,f+w-b+y,!1)).length>0)return x;var oe=d-_+b,X=f-w+b;if((W=al(o,c,d,f,oe,X,b+y)).length>0&&W[0]<=oe&&W[1]<=X)return[W[0],W[1]];var me=d+_-b,ae=f-w+b;if((W=al(o,c,d,f,me,ae,b+y)).length>0&&W[0]>=me&&W[1]<=ae)return[W[0],W[1]];var de=d+_-b,be=f+w-b;if((W=al(o,c,d,f,de,be,b+y)).length>0&&W[0]>=de&&W[1]>=be)return[W[0],W[1]];var Se=d-_+b,Fe=f+w-b;return(W=al(o,c,d,f,Se,Fe,b+y)).length>0&&W[0]<=Se&&W[1]>=Fe?[W[0],W[1]]:[]},ho=function(o,c,d,f,p,g,y){var b=y,_=Math.min(d,p),w=Math.max(d,p),x=Math.min(f,g),E=Math.max(f,g);return _-b<=o&&o<=w+b&&x-b<=c&&c<=E+b},dy=function(o,c,d,f,p,g,y,b,_){var w_x1=Math.min(d,y,p)-_,w_x2=Math.max(d,y,p)+_,w_y1=Math.min(f,b,g)-_,w_y2=Math.max(f,b,g)+_;return!(o<w_x1||o>w_x2||c<w_y1||c>w_y2)},Do=function(o,c,d,f,p,g,y,b){var S=[];!function(o,c,d,f,p){var y,b,_,w,x,E,S,M;0===o&&(o=1e-5),_=-27*(f/=o)+(c/=o)*(9*(d/=o)-c*c*2),y=(b=(3*d-c*c)/9)*b*b+(_/=54)*_,p[1]=0,S=c/3,y>0?(x=(x=_+Math.sqrt(y))<0?-Math.pow(-x,1/3):Math.pow(x,1/3),E=(E=_-Math.sqrt(y))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),p[0]=-S+x+E,p[4]=p[2]=-(S+=(x+E)/2),S=Math.sqrt(3)*(-E+x)/2,p[3]=S,p[5]=-S):(p[5]=p[3]=0,0===y?(M=_<0?-Math.pow(-_,1/3):Math.pow(_,1/3),p[0]=2*M-S,p[4]=p[2]=-(M+S)):(w=(b=-b)*b*b,w=Math.acos(_/Math.sqrt(w)),M=2*Math.sqrt(b),p[0]=-S+M*Math.cos(w/3),p[2]=-S+M*Math.cos((w+2*Math.PI)/3),p[4]=-S+M*Math.cos((w+4*Math.PI)/3)))}(1*d*d-4*d*p+2*d*y+4*p*p-4*p*y+y*y+f*f-4*f*g+2*f*b+4*g*g-4*g*b+b*b,9*d*p-3*d*d-3*d*y-6*p*p+3*p*y+9*f*g-3*f*f-3*f*b-6*g*g+3*g*b,3*d*d-6*d*p+d*y-d*o+2*p*p+2*p*o-y*o+3*f*f-6*f*g+f*b-f*c+2*g*g+2*g*c-b*c,1*d*p-d*d+d*o-p*o+f*g-f*f+f*c-g*c,S);for(var A=[],I=0;I<6;I+=2)Math.abs(S[I+1])<1e-7&&S[I]>=0&&S[I]<=1&&A.push(S[I]);A.push(1),A.push(0);for(var F,L,z,R=-1,K=0;K<A.length;K++)F=Math.pow(1-A[K],2)*d+2*(1-A[K])*A[K]*p+A[K]*A[K]*y,L=Math.pow(1-A[K],2)*f+2*(1-A[K])*A[K]*g+A[K]*A[K]*b,z=Math.pow(F-o,2)+Math.pow(L-c,2),R>=0?z<R&&(R=z):R=z;return R},cA=function(o,c,d,f,p,g){var y=[o-d,c-f],b=[p-d,g-f],_=b[0]*b[0]+b[1]*b[1],w=y[0]*y[0]+y[1]*y[1],x=y[0]*b[0]+y[1]*b[1],E=x*x/_;return x<0?w:E>_?(o-p)*(o-p)+(c-g)*(c-g):w-E},Us=function(o,c,d){for(var f,p,g,y,_=0,w=0;w<d.length/2;w++)if(p=d[2*w+1],w+1<d.length/2?(g=d[2*(w+1)],y=d[2*(w+1)+1]):(g=d[2*(w+1-d.length/2)],y=d[2*(w+1-d.length/2)+1]),(f=d[2*w])!=o||g!=o){if(!(f>=o&&o>=g||f<=o&&o<=g))continue;(o-f)/(g-f)*(y-p)+p>c&&_++}return _%2!=0},Cr=function(o,c,d,f,p,g,y,b,_){var x,A,w=new Array(d.length);null!=b[0]?(x=Math.atan(b[1]/b[0]),b[0]<0?x+=Math.PI/2:x=-x-Math.PI/2):x=b;for(var E=Math.cos(-x),S=Math.sin(-x),M=0;M<w.length/2;M++)w[2*M]=g/2*(d[2*M]*E-d[2*M+1]*S),w[2*M+1]=y/2*(d[2*M+1]*E+d[2*M]*S),w[2*M]+=f,w[2*M+1]+=p;if(_>0){var I=dC(w,-_);A=uC(I)}else A=w;return Us(o,c,A)},uC=function(o){for(var y,b,_,w,c=new Array(o.length/2),x=0;x<o.length/4;x++){x<o.length/4-1?(y=o[4*(x+1)],b=o[4*(x+1)+1],_=o[4*(x+1)+2],w=o[4*(x+1)+3]):(y=o[0],b=o[1],_=o[2],w=o[3]);var E=qo(o[4*x],o[4*x+1],o[4*x+2],o[4*x+3],y,b,_,w,!0);c[2*x]=E[0],c[2*x+1]=E[1]}return c},dC=function(o,c){for(var f,p,g,y,d=new Array(2*o.length),b=0;b<o.length/2;b++){b<o.length/2-1?(g=o[2*(b+1)],y=o[2*(b+1)+1]):(g=o[0],y=o[1]);var _=y-(p=o[2*b+1]),w=-(g-(f=o[2*b])),x=Math.sqrt(_*_+w*w),E=_/x,S=w/x;d[4*b]=f+E*c,d[4*b+1]=p+S*c,d[4*b+2]=g+E*c,d[4*b+3]=y+S*c}return d},Gn=function(o,c,d,f,p,g,y){return o-=p,c-=g,(o/=d/2+y)*o+(c/=f/2+y)*c<=1},al=function(o,c,d,f,p,g,y){var b=[d-o,f-c],_=[o-p,c-g],w=b[0]*b[0]+b[1]*b[1],x=2*(_[0]*b[0]+_[1]*b[1]),S=x*x-4*w*(_[0]*_[0]+_[1]*_[1]-y*y);if(S<0)return[];var M=(-x+Math.sqrt(S))/(2*w),A=(-x-Math.sqrt(S))/(2*w),I=Math.min(M,A),R=Math.max(M,A),F=[];if(I>=0&&I<=1&&F.push(I),R>=0&&R<=1&&F.push(R),0===F.length)return[];var L=F[0]*b[0]+o,z=F[0]*b[1]+c;return F.length>1?F[0]==F[1]?[L,z]:[L,z,F[1]*b[0]+o,F[1]*b[1]+c]:[L,z]},ld=function(o,c,d){return c<=o&&o<=d||d<=o&&o<=c?o:o<=c&&c<=d||d<=c&&c<=o?c:d},qo=function(o,c,d,f,p,g,y,b,_){var w=o-p,x=d-o,E=y-p,S=c-g,M=f-c,A=b-g,I=E*S-A*w,R=x*S-M*w,F=A*x-E*M;if(0!==F){var L=I/F,z=R/F,Y=-.001;return Y<=L&&L<=1.001&&Y<=z&&z<=1.001||_?[o+L*x,c+L*M]:[]}return 0===I||0===R?ld(o,d,y)===y?[y,b]:ld(o,d,p)===p?[p,g]:ld(p,y,d)===d?[d,f]:[]:[]},Zc=function(o,c,d,f,p,g,y,b){var w,S,_=[],x=new Array(d.length),E=!0;if(null==g&&(E=!1),E){for(var M=0;M<x.length/2;M++)x[2*M]=d[2*M]*g+f,x[2*M+1]=d[2*M+1]*y+p;if(b>0){var A=dC(x,-b);S=uC(A)}else S=x}else S=d;for(var F,L,z=0;z<S.length/2;z++)z<S.length/2-1?(F=S[2*(z+1)],L=S[2*(z+1)+1]):(F=S[0],L=S[1]),0!==(w=qo(o,c,f,p,S[2*z],S[2*z+1],F,L)).length&&_.push(w[0],w[1]);return _},ll=function(o,c,d){var f=[o[0]-c[0],o[1]-c[1]],p=Math.sqrt(f[0]*f[0]+f[1]*f[1]),g=(p-d)/p;return g<0&&(g=1e-5),[c[0]+g*f[0],c[1]+g*f[1]]},vs=function(o,c){var d=Qp(o,c);return un(d)},un=function(o){for(var c,d,f=o.length/2,p=1/0,g=1/0,y=-1/0,b=-1/0,_=0;_<f;_++)c=o[2*_],d=o[2*_+1],p=Math.min(p,c),y=Math.max(y,c),g=Math.min(g,d),b=Math.max(b,d);for(var w=2/(y-p),x=2/(b-g),E=0;E<f;E++)c=o[2*E]=o[2*E]*w,d=o[2*E+1]=o[2*E+1]*x,p=Math.min(p,c),y=Math.max(y,c),g=Math.min(g,d),b=Math.max(b,d);if(g<-1)for(var S=0;S<f;S++)d=o[2*S+1]=o[2*S+1]+(-1-g);return o},Qp=function(o,c){var d=1/o*2*Math.PI,f=o%2==0?Math.PI/2+d/2:Math.PI/2;f+=c;for(var g,p=new Array(2*o),y=0;y<o;y++)g=y*d+f,p[2*y]=Math.cos(g),p[2*y+1]=Math.sin(-g);return p},Xc=function(o,c){return Math.min(o/4,c/4,8)},Hh=function(o,c){return Math.min(o/10,c/10,8)},zh=function(o,c){return{heightOffset:Math.min(15,.05*c),widthOffset:Math.min(100,.25*o),ctrlPtOffsetPct:.05}},De=Gr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(o){return 1}}),ys={pageRank:function(o){for(var c=De(o),d=c.dampingFactor,f=c.precision,p=c.iterations,g=c.weight,y=this._private.cy,b=this.byGroup(),_=b.nodes,w=b.edges,x=_.length,S=w.length,M=new Array(x*x),A=new Array(x),I=(1-d)/x,R=0;R<x;R++){for(var F=0;F<x;F++)M[R*x+F]=0;A[R]=0}for(var z=0;z<S;z++){var K=w[z],Y=K.data("source"),H=K.data("target");if(Y!==H){var Z=_.indexOfId(Y),U=_.indexOfId(H),Q=g(K);M[U*x+Z]+=Q,A[Z]+=Q}}for(var W=1/x+I,oe=0;oe<x;oe++)if(0===A[oe])for(var X=0;X<x;X++)M[X*x+oe]=W;else for(var ae=0;ae<x;ae++){var de=ae*x+oe;M[de]=M[de]/A[oe]+I}for(var Fe,be=new Array(x),Se=new Array(x),Ee=0;Ee<x;Ee++)be[Ee]=1;for(var Re=0;Re<p;Re++){for(var Ye=0;Ye<x;Ye++)Se[Ye]=0;for(var qe=0;qe<x;qe++)for(var We=0;We<x;We++)Se[qe]+=M[qe*x+We]*be[We];oA(Se),Fe=be,be=Se,Se=Fe;for(var ye=0,Me=0;Me<x;Me++){var Je=Fe[Me]-be[Me];ye+=Je*Je}if(ye<f)break}return{rank:function(nn){return nn=y.collection(nn)[0],be[_.indexOf(nn)]}}}},mi=Gr({root:null,weight:function(o){return 1},directed:!1,alpha:0}),fr={degreeCentralityNormalized:function(o){o=mi(o);var c=this.cy(),d=this.nodes(),f=d.length;if(o.directed){for(var w={},x={},E=0,S=0,M=0;M<f;M++){var A=d[M],I=A.id();o.root=A;var R=this.degreeCentrality(o);E<R.indegree&&(E=R.indegree),S<R.outdegree&&(S=R.outdegree),w[I]=R.indegree,x[I]=R.outdegree}return{indegree:function(L){return 0==E?0:(Ae(L)&&(L=c.filter(L)),w[L.id()]/E)},outdegree:function(L){return 0===S?0:(Ae(L)&&(L=c.filter(L)),x[L.id()]/S)}}}for(var p={},g=0,y=0;y<f;y++){var b=d[y];o.root=b;var _=this.degreeCentrality(o);g<_.degree&&(g=_.degree),p[b.id()]=_.degree}return{degree:function(L){return 0===g?0:(Ae(L)&&(L=c.filter(L)),p[L.id()]/g)}}},degreeCentrality:function(o){o=mi(o);var c=this.cy(),d=this,p=o.root,g=o.weight,y=o.directed,b=o.alpha;if(p=c.collection(p)[0],y){for(var S=p.connectedEdges(),M=S.filter(function(Y){return Y.target().same(p)&&d.has(Y)}),A=S.filter(function(Y){return Y.source().same(p)&&d.has(Y)}),I=M.length,R=A.length,F=0,L=0,z=0;z<M.length;z++)F+=g(M[z]);for(var K=0;K<A.length;K++)L+=g(A[K]);return{indegree:Math.pow(I,1-b)*Math.pow(F,b),outdegree:Math.pow(R,1-b)*Math.pow(L,b)}}for(var _=p.connectedEdges().intersection(d),w=_.length,x=0,E=0;E<_.length;E++)x+=g(_[E]);return{degree:Math.pow(w,1-b)*Math.pow(x,b)}}};fr.dc=fr.degreeCentrality,fr.dcn=fr.degreeCentralityNormalised=fr.degreeCentralityNormalized;var rs=Gr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Eo={closenessCentralityNormalized:function(o){for(var c=rs(o),d=c.harmonic,f=c.weight,p=c.directed,g=this.cy(),y={},b=0,_=this.nodes(),w=this.floydWarshall({weight:f,directed:p}),x=0;x<_.length;x++){for(var E=0,S=_[x],M=0;M<_.length;M++)if(x!==M){var A=w.distance(S,_[M]);E+=d?1/A:A}d||(E=1/E),b<E&&(b=E),y[S.id()]=E}return{closeness:function(R){return 0==b?0:(R=Ae(R)?g.filter(R)[0].id():R.id(),y[R]/b)}}},closenessCentrality:function(o){var c=rs(o),d=c.root,f=c.weight,p=c.directed,g=c.harmonic;d=this.filter(d)[0];for(var y=this.dijkstra({root:d,weight:f,directed:p}),b=0,_=this.nodes(),w=0;w<_.length;w++){var x=_[w];if(!x.same(d)){var E=y.distanceTo(x);b+=g?1/E:E}}return g?b:1/b}};Eo.cc=Eo.closenessCentrality,Eo.ccn=Eo.closenessCentralityNormalised=Eo.closenessCentralityNormalized;var Gs=Gr({weight:null,directed:!1}),Is={betweennessCentrality:function(o){for(var c=Gs(o),d=c.directed,f=c.weight,p=null!=f,g=this.cy(),y=this.nodes(),b={},_={},w=0,x={set:function(L,z){_[L]=z,z>w&&(w=z)},get:function(L){return _[L]}},E=0;E<y.length;E++){var S=y[E],M=S.id();b[M]=d?S.outgoers().nodes():S.openNeighborhood().nodes(),x.set(M,0)}for(var A=function(L){for(var z=y[L].id(),K=[],Y={},H={},Z={},U=new ge.default(function(We,He){return Z[We]-Z[He]}),Q=0;Q<y.length;Q++){var J=y[Q].id();Y[J]=[],H[J]=0,Z[J]=1/0}for(H[z]=1,Z[z]=0,U.push(z);!U.empty();){var W=U.pop();if(K.push(W),p)for(var oe=0;oe<b[W].length;oe++){var ae,X=b[W][oe],me=g.getElementById(W);ae=me.edgesTo(X).length>0?me.edgesTo(X)[0]:X.edgesTo(me)[0];var de=f(ae);X=X.id(),Z[X]>Z[W]+de&&(Z[X]=Z[W]+de,U.nodes.indexOf(X)<0?U.push(X):U.updateItem(X),H[X]=0,Y[X]=[]),Z[X]==Z[W]+de&&(H[X]=H[X]+H[W],Y[X].push(W))}else for(var be=0;be<b[W].length;be++){var Se=b[W][be].id();Z[Se]==1/0&&(U.push(Se),Z[Se]=Z[W]+1),Z[Se]==Z[W]+1&&(H[Se]=H[Se]+H[W],Y[Se].push(W))}}for(var Fe={},Ee=0;Ee<y.length;Ee++)Fe[y[Ee].id()]=0;for(;K.length>0;){for(var Re=K.pop(),Ye=0;Ye<Y[Re].length;Ye++){var qe=Y[Re][Ye];Fe[qe]=Fe[qe]+H[qe]/H[Re]*(1+Fe[Re])}Re!=y[L].id()&&x.set(Re,x.get(Re)+Fe[Re])}},I=0;I<y.length;I++)A(I);var R={betweenness:function(L){var z=g.collection(L).id();return x.get(z)},betweennessNormalized:function(L){if(0==w)return 0;var z=g.collection(L).id();return x.get(z)/w}};return R.betweennessNormalised=R.betweennessNormalized,R}};Is.bc=Is.betweennessCentrality;var Tt=Gr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(u){return 1}]}),Fi=function(o,c){for(var d=0,f=0;f<c.length;f++)d+=c[f](o);return d},cl=function(o,c){for(var d,f=0;f<c;f++){d=0;for(var p=0;p<c;p++)d+=o[p*c+f];for(var g=0;g<c;g++)o[g*c+f]=o[g*c+f]/d}},Pr=function(o,c,d){for(var f=new Array(d*d),p=0;p<d;p++){for(var g=0;g<d;g++)f[p*d+g]=0;for(var y=0;y<d;y++)for(var b=0;b<d;b++)f[p*d+b]+=o[p*d+y]*c[y*d+b]}return f},Bl=function(o,c,d){for(var f=o.slice(0),p=1;p<d;p++)o=Pr(o,f,c);return o},Ki=function(o,c,d){for(var f=new Array(c*c),p=0;p<c*c;p++)f[p]=Math.pow(o[p],d);return cl(f,c),f},cd=function(o,c,d,f){for(var p=0;p<d;p++)if(Math.round(o[p]*Math.pow(10,f))/Math.pow(10,f)!=Math.round(c[p]*Math.pow(10,f))/Math.pow(10,f))return!1;return!0},Pn=function(o,c){for(var d=0;d<o.length;d++)if(!c[d]||o[d].id()!==c[d].id())return!1;return!0},Vl=function(o){for(var c=this.nodes(),d=this.edges(),f=this.cy(),p=function(o){return Tt(o)}(o),g={},y=0;y<c.length;y++)g[c[y].id()]=y;for(var x,b=c.length,_=b*b,w=new Array(_),E=0;E<_;E++)w[E]=0;for(var S=0;S<d.length;S++){var M=d[S],A=g[M.source().id()],I=g[M.target().id()],R=Fi(M,p.attributes);w[A*b+I]+=R,w[I*b+A]+=R}(function(o,c,d){for(var f=0;f<c;f++)o[f*c+f]=d})(w,b,p.multFactor),cl(w,b);for(var F=!0,L=0;F&&L<p.maxIterations;)F=!1,x=Bl(w,b,p.expandFactor),w=Ki(x,b,p.inflateFactor),cd(w,x,_,4)||(F=!0),L++;var z=function(o,c,d,f){for(var p=[],g=0;g<c;g++){for(var y=[],b=0;b<c;b++)Math.round(1e3*o[g*c+b])/1e3>0&&y.push(d[b]);0!==y.length&&p.push(f.collection(y))}return p}(w,b,c,f);return z=function(o){for(var c=0;c<o.length;c++)for(var d=0;d<o.length;d++)c!=d&&Pn(o[c],o[d])&&o.splice(d,1);return o}(z),z},Jp={markovClustering:Vl,mcl:Vl},Hl=function(o){return o},Kr=function(o,c){return Math.abs(c-o)},Qc=function(o,c,d){return o+Kr(c,d)},zl=function(o,c,d){return o+Math.pow(d-c,2)},So=function(o){return Math.sqrt(o)},Jc=function(o,c,d){return Math.max(o,Kr(c,d))},eu=function(o,c,d,f,p){for(var g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hl,y=f,w=0;w<o;w++)y=p(y,c(w),d(w));return g(y)},ci={euclidean:function(o,c,d){return o>=2?eu(o,c,d,0,zl,So):eu(o,c,d,0,Qc)},squaredEuclidean:function(o,c,d){return eu(o,c,d,0,zl)},manhattan:function(o,c,d){return eu(o,c,d,0,Qc)},max:function(o,c,d){return eu(o,c,d,-1/0,Jc)}};function jh(u,o,c,d,f,p){var g;return g=ht(u)?u:ci[u]||ci.euclidean,0===o&&ht(u)?g(f,p):g(o,c,d,f,p)}ci["squared-euclidean"]=ci.squaredEuclidean,ci.squaredeuclidean=ci.squaredEuclidean;var fC=Gr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),tu=function(o){return fC(o)},nu=function(o,c,d,f,p){var y="kMedoids"!==p?function(x){return d[x]}:function(x){return f[x](d)};return jh(o,f.length,y,function(E){return f[E](c)},d,c)},$l=function(o,c,d){for(var f=d.length,p=new Array(f),g=new Array(f),y=new Array(c),b=null,_=0;_<f;_++)p[_]=o.min(d[_]).value,g[_]=o.max(d[_]).value;for(var w=0;w<c;w++){b=[];for(var x=0;x<f;x++)b[x]=Math.random()*(g[x]-p[x])+p[x];y[w]=b}return y},dd=function(o,c,d,f,p){for(var g=1/0,y=0,b=0;b<c.length;b++){var _=nu(d,o,c[b],f,p);_<g&&(g=_,y=b)}return y},ul=function(o,c,d){for(var f=[],p=null,g=0;g<c.length;g++)d[(p=c[g]).id()]===o&&f.push(p);return f},ss=function(o,c,d){return Math.abs(c-o)<=d},pC=function(o,c,d){for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length;p++)if(Math.abs(o[f][p]-c[f][p])>d)return!1;return!0},Rs=function(o,c,d){for(var f=0;f<d;f++)if(o===c[f])return!0;return!1},fo=function(o,c){var d=new Array(c);if(o.length<50)for(var f=0;f<c;f++){for(var p=o[Math.floor(Math.random()*o.length)];Rs(p,d,f);)p=o[Math.floor(Math.random()*o.length)];d[f]=p}else for(var g=0;g<c;g++)d[g]=o[Math.floor(Math.random()*o.length)];return d},Uh=function(o,c,d){for(var f=0,p=0;p<c.length;p++)f+=nu("manhattan",c[p],o,d,"kMedoids");return f},Mo=function(o,c,d,f,p){for(var g,y,b=0;b<c.length;b++)for(var _=0;_<o.length;_++)f[b][_]=Math.pow(d[b][_],p.m);for(var w=0;w<o.length;w++)for(var x=0;x<p.attributes.length;x++){g=0,y=0;for(var E=0;E<c.length;E++)g+=f[E][w]*p.attributes[x](c[E]),y+=f[E][w];o[w][x]=g/y}},gC=function(o,c,d,f,p){for(var g=0;g<o.length;g++)c[g]=o[g].slice();for(var y,b,_,w=2/(p.m-1),x=0;x<d.length;x++)for(var E=0;E<f.length;E++){y=0;for(var S=0;S<d.length;S++)b=nu(p.distance,f[E],d[x],p.attributes,"cmeans"),_=nu(p.distance,f[E],d[S],p.attributes,"cmeans"),y+=Math.pow(b/_,w);o[E][x]=1/y}},hy=function(o){var p,g,y,b,_,c=this.cy(),d=this.nodes(),f=tu(o);b=new Array(d.length);for(var w=0;w<d.length;w++)b[w]=new Array(f.k);y=new Array(d.length);for(var x=0;x<d.length;x++)y[x]=new Array(f.k);for(var E=0;E<d.length;E++){for(var S=0,M=0;M<f.k;M++)y[E][M]=Math.random(),S+=y[E][M];for(var A=0;A<f.k;A++)y[E][A]=y[E][A]/S}g=new Array(f.k);for(var I=0;I<f.k;I++)g[I]=new Array(f.attributes.length);_=new Array(d.length);for(var R=0;R<d.length;R++)_[R]=new Array(f.k);for(var F=!0,L=0;F&&L<f.maxIterations;)F=!1,Mo(g,d,y,_,f),gC(y,b,g,d,f),pC(y,b,f.sensitivityThreshold)||(F=!0),L++;return p=function(o,c,d,f){for(var p=new Array(d.k),g=0;g<p.length;g++)p[g]=[];for(var y,b,_=0;_<c.length;_++){y=-1/0,b=-1;for(var w=0;w<c[0].length;w++)c[_][w]>y&&(y=c[_][w],b=w);p[b].push(o[_])}for(var x=0;x<p.length;x++)p[x]=f.collection(p[x]);return p}(d,y,f,c),{clusters:p,degreeOfMembership:y}},mC={kMeans:function(o){var b,c=this.cy(),d=this.nodes(),f=null,p=tu(o),g=new Array(p.k),y={};b=p.testMode?"number"==typeof p.testCentroids?$l(d,p.k,p.attributes):"object"===st(p.testCentroids)?p.testCentroids:$l(d,p.k,p.attributes):$l(d,p.k,p.attributes);for(var _=!0,w=0;_&&w<p.maxIterations;){for(var x=0;x<d.length;x++)y[(f=d[x]).id()]=dd(f,b,p.distance,p.attributes,"kMeans");_=!1;for(var E=0;E<p.k;E++){var S=ul(E,d,y);if(0!==S.length){for(var M=p.attributes.length,A=b[E],I=new Array(M),R=new Array(M),F=0;F<M;F++){R[F]=0;for(var L=0;L<S.length;L++)R[F]+=p.attributes[F](f=S[L]);I[F]=R[F]/S.length,ss(I[F],A[F],p.sensitivityThreshold)||(_=!0)}b[E]=I,g[E]=c.collection(S)}}w++}return g},kMedoids:function(o){var y,_,c=this.cy(),d=this.nodes(),f=null,p=tu(o),g=new Array(p.k),b={},w=new Array(p.k);p.testMode?"number"==typeof p.testCentroids||(y="object"===st(p.testCentroids)?p.testCentroids:fo(d,p.k)):y=fo(d,p.k);for(var x=!0,E=0;x&&E<p.maxIterations;){for(var S=0;S<d.length;S++)b[(f=d[S]).id()]=dd(f,y,p.distance,p.attributes,"kMedoids");x=!1;for(var M=0;M<y.length;M++){var A=ul(M,d,b);if(0!==A.length){w[M]=Uh(y[M],A,p.attributes);for(var I=0;I<A.length;I++)(_=Uh(A[I],A,p.attributes))<w[M]&&(w[M]=_,y[M]=A[I],x=!0);g[M]=c.collection(A)}}E++}return g},fuzzyCMeans:hy,fcm:hy},dA=Gr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),hA={single:"min",complete:"max"},vC=function(o,c,d,f,p){for(var b,g=0,y=1/0,_=p.attributes,w=function(U,Q){return jh(p.distance,_.length,function(J){return _[J](U)},function(J){return _[J](Q)},U,Q)},x=0;x<o.length;x++){var E=o[x].key,S=d[E][f[E]];S<y&&(g=E,y=S)}if("threshold"===p.mode&&y>=p.threshold||"dendrogram"===p.mode&&1===o.length)return!1;var I,M=c[g],A=c[f[g]];I="dendrogram"===p.mode?{left:M,right:A,key:M.key}:{value:M.value.concat(A.value),key:M.key},o[M.index]=I,o.splice(A.index,1),c[M.key]=I;for(var R=0;R<o.length;R++){var F=o[R];M.key===F.key?b=1/0:"min"===p.linkage?(b=d[M.key][F.key],d[M.key][F.key]>d[A.key][F.key]&&(b=d[A.key][F.key])):"max"===p.linkage?(b=d[M.key][F.key],d[M.key][F.key]<d[A.key][F.key]&&(b=d[A.key][F.key])):b="mean"===p.linkage?(d[M.key][F.key]*M.size+d[A.key][F.key]*A.size)/(M.size+A.size):"dendrogram"===p.mode?w(F.value,M.value):w(F.value[0],M.value[0]),d[M.key][F.key]=d[F.key][M.key]=b}for(var L=0;L<o.length;L++){var z=o[L].key;if(f[z]===M.key||f[z]===A.key){for(var K=z,Y=0;Y<o.length;Y++){var H=o[Y].key;d[z][H]<d[z][K]&&(K=H)}f[z]=K}o[L].index=L}return M.key=A.key=M.index=A.index=null,!0},eg=function u(o,c,d){!o||(o.value?c.push(o.value):(o.left&&u(o.left,c),o.right&&u(o.right,c)))},pA=function u(o,c){if(!o)return"";if(o.left&&o.right){var d=u(o.left,c),f=u(o.right,c),p=c.add({group:"nodes",data:{id:d+","+f}});return c.add({group:"edges",data:{source:d,target:p.id()}}),c.add({group:"edges",data:{source:f,target:p.id()}}),p.id()}return o.value?o.value.id():void 0},gA=function u(o,c,d){if(!o)return[];var f=[],p=[],g=[];return 0===c?(o.left&&eg(o.left,f),o.right&&eg(o.right,p),g=f.concat(p),[d.collection(g)]):1===c?o.value?[d.collection(o.value)]:(o.left&&eg(o.left,f),o.right&&eg(o.right,p),[d.collection(f),d.collection(p)]):o.value?[d.collection(o.value)]:(o.left&&(f=u(o.left,c-1,d)),o.right&&(p=u(o.right,c-1,d)),f.concat(p))},yC=function(o){for(var c=this.cy(),d=this.nodes(),f=function(o){var c=dA(o),d=hA[c.linkage];return null!=d&&(c.linkage=d),c}(o),p=f.attributes,g=function(L,z){return jh(f.distance,p.length,function(K){return p[K](L)},function(K){return p[K](z)},L,z)},y=[],b=[],_=[],w=[],x=0;x<d.length;x++){var E={value:"dendrogram"===f.mode?d[x]:[d[x]],key:x,index:x};y[x]=E,w[x]=E,b[x]=[],_[x]=0}for(var S=0;S<y.length;S++)for(var M=0;M<=S;M++){var A;A="dendrogram"===f.mode?S===M?1/0:g(y[S].value,y[M].value):S===M?1/0:g(y[S].value[0],y[M].value[0]),b[S][M]=A,b[M][S]=A,A<b[S][_[S]]&&(_[S]=M)}for(var I=vC(y,w,b,_,f);I;)I=vC(y,w,b,_,f);var R;return"dendrogram"===f.mode?(R=gA(y[0],f.dendrogramDepth,c),f.addDendrogram&&pA(y[0],c)):(R=new Array(y.length),y.forEach(function(F,L){F.key=F.index=null,R[L]=c.collection(F.value)})),R},mA={hierarchicalClustering:yC,hca:yC},vA=Gr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),_A=function(o,c,d,f){var p=function(y,b){return f[b](y)};return-jh(o,f.length,function(g){return p(c,g)},function(g){return p(d,g)},c,d)},tg=function(o,c,d){for(var f=[],p=0;p<o;p++){for(var g=-1,y=-1/0,b=0;b<d.length;b++){var _=d[b];c[p*o+_]>y&&(g=_,y=c[p*o+_])}g>0&&f.push(g)}for(var w=0;w<d.length;w++)f[d[w]]=d[w];return f},_C=function(o){for(var c=this.cy(),d=this.nodes(),f=function(o){var c=o.damping,d=o.preference;.5<=c&&c<1||Pi("Damping must range on [0.5, 1).  Got: ".concat(c));var f=["median","mean","min","max"];return f.some(function(p){return p===d})||Le(d)||Pi("Preference must be one of [".concat(f.map(function(p){return"'".concat(p,"'")}).join(", "),"] or a number.  Got: ").concat(d)),vA(o)}(o),p={},g=0;g<d.length;g++)p[d[g].id()]=g;var y,b,_,w,x,E,U;b=(y=d.length)*y,_=new Array(b);for(var S=0;S<b;S++)_[S]=-1/0;for(var M=0;M<y;M++)for(var A=0;A<y;A++)M!==A&&(_[M*y+A]=_A(f.distance,d[M],d[A],f.attributes));w=function(o,c){var d;return d="median"===c?function(o){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(d<o.length&&o.splice(d,o.length-d),c>0&&o.splice(0,c)):o=o.slice(c,d);for(var y=0,b=o.length-1;b>=0;b--)g?isFinite(o[b])||(o[b]=-1/0,y++):o.splice(b,1);p&&o.sort(function(E,S){return E-S});var w=o.length,x=Math.floor(w/2);return w%2!=0?o[x+1+y]:(o[x-1+y]+o[x+y])/2}(o):"mean"===c?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=0,p=0,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g<d;g++){var y=o[g];isFinite(y)&&(f+=y,p++)}return f/p}(o):"min"===c?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=o[p];isFinite(g)&&(f=Math.min(g,f))}return f}(o):"max"===c?function(o){for(var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.length,f=-1/0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p<d;p++){var g=o[p];isFinite(g)&&(f=Math.max(g,f))}return f}(o):c,d}(_,f.preference);for(var I=0;I<y;I++)_[I*y+I]=w;x=new Array(b);for(var R=0;R<b;R++)x[R]=0;E=new Array(b);for(var F=0;F<b;F++)E[F]=0;for(var L=new Array(y),z=new Array(y),K=new Array(y),Y=0;Y<y;Y++)L[Y]=0,z[Y]=0,K[Y]=0;for(var H=new Array(y*f.minIterations),Z=0;Z<H.length;Z++)H[Z]=0;for(U=0;U<f.maxIterations;U++){for(var Q=0;Q<y;Q++){for(var J=-1/0,W=-1/0,oe=-1,X=0,me=0;me<y;me++)L[me]=x[Q*y+me],(X=E[Q*y+me]+_[Q*y+me])>=J?(W=J,J=X,oe=me):X>W&&(W=X);for(var ae=0;ae<y;ae++)x[Q*y+ae]=(1-f.damping)*(_[Q*y+ae]-J)+f.damping*L[ae];x[Q*y+oe]=(1-f.damping)*(_[Q*y+oe]-W)+f.damping*L[oe]}for(var de=0;de<y;de++){for(var be=0,Se=0;Se<y;Se++)L[Se]=E[Se*y+de],z[Se]=Math.max(0,x[Se*y+de]),be+=z[Se];be-=z[de],z[de]=x[de*y+de],be+=z[de];for(var Fe=0;Fe<y;Fe++)E[Fe*y+de]=(1-f.damping)*Math.min(0,be-z[Fe])+f.damping*L[Fe];E[de*y+de]=(1-f.damping)*(be-z[de])+f.damping*L[de]}for(var Ee=0,Re=0;Re<y;Re++){var Ye=E[Re*y+Re]+x[Re*y+Re]>0?1:0;H[U%f.minIterations*y+Re]=Ye,Ee+=Ye}if(Ee>0&&(U>=f.minIterations-1||U==f.maxIterations-1)){for(var qe=0,We=0;We<y;We++){K[We]=0;for(var He=0;He<f.minIterations;He++)K[We]+=H[He*y+We];(0===K[We]||K[We]===f.minIterations)&&qe++}if(qe===y)break}}for(var ye=function(o,c,d){for(var f=[],p=0;p<o;p++)c[p*o+p]+d[p*o+p]>0&&f.push(p);return f}(y,x,E),Me=function(o,c,d){for(var f=tg(o,c,d),p=0;p<d.length;p++){for(var g=[],y=0;y<f.length;y++)f[y]===d[p]&&g.push(y);for(var b=-1,_=-1/0,w=0;w<g.length;w++){for(var x=0,E=0;E<g.length;E++)x+=c[g[E]*o+g[w]];x>_&&(b=w,_=x)}d[p]=g[b]}return tg(o,c,d)}(y,_,ye),Je={},ft=0;ft<ye.length;ft++)Je[ye[ft]]=[];for(var mt=0;mt<d.length;mt++){var Cn=Me[p[d[mt].id()]];null!=Cn&&Je[Cn].push(d[mt])}for(var wt=new Array(ye.length),gt=0;gt<ye.length;gt++)wt[gt]=c.collection(Je[ye[gt]]);return wt},CA={affinityPropagation:_C,ap:_C},xA=Gr({root:void 0,directed:!1}),jl={hierholzer:function(o){if(!tt(o)){var c=arguments;o={root:c[0],directed:c[1]}}var b,_,w,d=xA(o),f=d.root,p=d.directed,g=this,y=!1;f&&(w=Ae(f)?this.filter(f)[0].id():f[0].id());var x={},E={};g.forEach(p?function(F){var L=F.id();if(F.isNode()){var z=F.indegree(!0),K=F.outdegree(!0),Y=z-K,H=K-z;1==Y?b?y=!0:b=L:1==H?_?y=!0:_=L:(H>1||Y>1)&&(y=!0),x[L]=[],F.outgoers().forEach(function(Z){Z.isEdge()&&x[L].push(Z.id())})}else E[L]=[void 0,F.target().id()]}:function(F){var L=F.id();F.isNode()?(F.degree(!0)%2&&(b?_?y=!0:_=L:b=L),x[L]=[],F.connectedEdges().forEach(function(K){return x[L].push(K.id())})):E[L]=[F.source().id(),F.target().id()]});var S={found:!1,trail:void 0};if(y)return S;if(_&&b)if(p){if(w&&_!=w)return S;w=_}else{if(w&&_!=w&&b!=w)return S;w||(w=_)}else w||(w=g[0].id());var M=function(L){for(var Y,H,Z,z=L,K=[L];x[z].length;)Y=x[z].shift(),H=E[Y][0],z!=(Z=E[Y][1])?(x[Z]=x[Z].filter(function(U){return U!=Y}),z=Z):!p&&z!=H&&(x[H]=x[H].filter(function(U){return U!=Y}),z=H),K.unshift(Y),K.unshift(z);return K},A=[],I=[];for(I=M(w);1!=I.length;)0==x[I[0]].length?(A.unshift(g.getElementById(I.shift())),A.unshift(g.getElementById(I.shift()))):I=M(I.shift()).concat(I);for(var R in A.unshift(g.getElementById(I.shift())),x)if(x[R].length)return S;return S.found=!0,S.trail=this.spawn(A,!0),S}},qh=function(){var o=this,c={},d=0,f=0,p=[],g=[],y={},_=function x(E,S,M){E===M&&(f+=1),c[S]={id:d,low:d++,cutVertex:!1};var I,R,F,L,A=o.getElementById(S).connectedEdges().intersection(o);0===A.size()?p.push(o.spawn(o.getElementById(S))):A.forEach(function(z){I=z.source().id(),R=z.target().id(),(F=I===S?R:I)!==M&&(L=z.id(),y[L]||(y[L]=!0,g.push({x:S,y:F,edge:z})),F in c?c[S].low=Math.min(c[S].low,c[F].id):(x(E,F,S),c[S].low=Math.min(c[S].low,c[F].low),c[S].id<=c[F].low&&(c[S].cutVertex=!0,function(E,S){for(var M=g.length-1,A=[],I=o.spawn();g[M].x!=E||g[M].y!=S;)A.push(g.pop().edge),M--;A.push(g.pop().edge),A.forEach(function(R){var F=R.connectedNodes().intersection(o);I.merge(R),F.forEach(function(L){var z=L.id(),K=L.connectedEdges().intersection(o);I.merge(L),I.merge(c[z].cutVertex?K.filter(function(Y){return Y.isLoop()}):K)})}),p.push(I)}(S,F))))})};o.forEach(function(x){if(x.isNode()){var E=x.id();E in c||(f=0,_(E,E),c[E].cutVertex=f>1)}});var w=Object.keys(c).filter(function(x){return c[x].cutVertex}).map(function(x){return o.getElementById(x)});return{cut:o.spawn(w),components:p}},hd=function(){var o=this,c={},d=0,f=[],p=[],g=o.spawn(o),y=function b(_){if(p.push(_),c[_]={index:d,low:d++,explored:!1},o.getElementById(_).connectedEdges().intersection(o).forEach(function(A){var I=A.target().id();I!==_&&(I in c||b(I),c[I].explored||(c[_].low=Math.min(c[_].low,c[I].low)))}),c[_].index===c[_].low){for(var x=o.spawn();;){var E=p.pop();if(x.merge(o.getElementById(E)),c[E].low=c[_].index,c[E].explored=!0,E===_)break}var S=x.edgesWith(x),M=x.merge(S);f.push(M),g=g.difference(M)}};return o.forEach(function(b){if(b.isNode()){var _=b.id();_ in c||y(_)}}),{cut:g,components:f}},fy={};[ni,Zp,JT,Ph,li,eA,tA,ys,fr,Eo,Is,Jp,mC,mA,CA,jl,{hopcroftTarjanBiconnected:qh,htbc:qh,htb:qh,hopcroftTarjanBiconnectedComponents:qh},{tarjanStronglyConnected:hd,tsc:hd,tscc:hd,tarjanStronglyConnectedComponents:hd}].forEach(function(u){qt(fy,u)});var To=function u(o){if(!(this instanceof u))return new u(o);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof o&&o.call(this,this.fulfill.bind(this),this.reject.bind(this))};To.prototype={fulfill:function(o){return gy(this,1,"fulfillValue",o)},reject:function(o){return gy(this,2,"rejectReason",o)},then:function(o,c){var d=this,f=new To;return d.onFulfilled.push(my(o,f,"fulfill")),d.onRejected.push(my(c,f,"reject")),qs(d),f.proxy}};var gy=function(o,c,d,f){return 0===o.state&&(o.state=c,o[d]=f,qs(o)),o},qs=function(o){1===o.state?Kh(o,"onFulfilled",o.fulfillValue):2===o.state&&Kh(o,"onRejected",o.rejectReason)},Kh=function(o,c,d){if(0!==o[c].length){var f=o[c];o[c]=[];var p=function(){for(var y=0;y<f.length;y++)f[y](d)};"function"==typeof setImmediate?setImmediate(p):setTimeout(p,0)}},my=function(o,c,d){return function(f){if("function"!=typeof o)c[d].call(c,f);else{var p;try{p=o(f)}catch(g){return void c.reject(g)}sg(c,p)}}},sg=function u(o,c){if(o!==c&&o.proxy!==c){var d;if("object"===st(c)&&null!==c||"function"==typeof c)try{d=c.then}catch(p){return void o.reject(p)}if("function"!=typeof d)o.fulfill(c);else{var f=!1;try{d.call(c,function(p){f||(f=!0,p===c?o.reject(new TypeError("circular thenable chain")):u(o,p))},function(p){f||(f=!0,o.reject(p))})}catch(p){f||o.reject(p)}}}else o.reject(new TypeError("cannot resolve promise with itself"))};To.all=function(u){return new To(function(o,c){for(var d=new Array(u.length),f=0,p=function(b,_){d[b]=_,++f===u.length&&o(d)},g=0;g<u.length;g++)!function(y){var b=u[y];null!=b&&null!=b.then?b.then(function(x){p(y,x)},function(x){c(x)}):p(y,b)}(g)})},To.resolve=function(u){return new To(function(o,c){o(u)})},To.reject=function(u){return new To(function(o,c){c(u)})};var iu=typeof Promise<"u"?Promise:To,vy=function(o,c,d){var f=vn(o),p=!f,g=this._private=qt({duration:1e3},c,d);if(g.target=o,g.style=g.style||g.css,g.started=!1,g.playing=!1,g.hooked=!1,g.applying=!1,g.progress=0,g.completes=[],g.frames=[],g.complete&&ht(g.complete)&&g.completes.push(g.complete),p){var y=o.position();g.startPosition=g.startPosition||{x:y.x,y:y.y},g.startStyle=g.startStyle||o.cy().style().getAnimationStartStyle(o,g.style)}if(f){var b=o.pan();g.startPan={x:b.x,y:b.y},g.startZoom=o.zoom()}this.length=1,this[0]=this},Ri=vy.prototype;qt(Ri,{instanceString:function(){return"animation"},hook:function(){var o=this._private;if(!o.hooked){var d=o.target._private.animation;(o.queue?d.queue:d.current).push(this),Ge(o.target)&&o.target.cy().addToAnimationPool(o.target),o.hooked=!0}return this},play:function(){var o=this._private;return 1===o.progress&&(o.progress=0),o.playing=!0,o.started=!1,o.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var o=this._private;return o.applying=!0,o.started=!1,o.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var o=this._private;return o.playing=!1,o.started=!1,this},stop:function(){var o=this._private;return o.playing=!1,o.started=!1,o.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(o){var c=this._private;return void 0===o?c.progress*c.duration:this.progress(o/c.duration)},progress:function(o){var c=this._private,d=c.playing;return void 0===o?c.progress:(d&&this.pause(),c.progress=o,c.started=!1,d&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var o=this._private,c=o.playing;c&&this.pause(),o.progress=1-o.progress,o.started=!1;var d=function(_,w){var x=o[_];null!=x&&(o[_]=o[w],o[w]=x)};if(d("zoom","startZoom"),d("pan","startPan"),d("position","startPosition"),o.style)for(var f=0;f<o.style.length;f++){var p=o.style[f],g=p.name,y=o.startStyle[g];o.startStyle[g]=p,o.style[f]=y}return c&&this.play(),this},promise:function(o){var d,c=this._private;return d="frame"===o?c.frames:c.completes,new iu(function(f,p){d.push(function(){f()})})}}),Ri.complete=Ri.completed,Ri.run=Ri.play,Ri.running=Ri.playing;var DA={data:function(o){return o=qt({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(f){},beforeSet:function(f,p){},onSet:function(f){},canSet:function(f){return!0}},o),function(f,p){var g=o,y=this,b=void 0!==y.length,_=b?y:[y],w=b?y[0]:y;if(Ae(f)){var S,E=-1!==f.indexOf(".")&&rt.default(f);if(g.allowGetting&&void 0===p)return w&&(g.beforeGet(w),S=E&&void 0===w._private[g.field][f]?Ce.default(w._private[g.field],E):w._private[g.field][f]),S;if(g.allowSetting&&void 0!==p&&!g.immutableKeys[f]){var A=Qe({},f,p);g.beforeSet(y,A);for(var I=0,R=_.length;I<R;I++){var F=_[I];g.canSet(F)&&(E&&void 0===w._private[g.field][f]?Be.default(F._private[g.field],E,p):F._private[g.field][f]=p)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}}else if(g.allowSetting&&tt(f)){var z,K,L=f,Y=Object.keys(L);g.beforeSet(y,L);for(var H=0;H<Y.length;H++)if(K=L[z=Y[H]],!g.immutableKeys[z])for(var U=0;U<_.length;U++){var Q=_[U];g.canSet(Q)&&(Q._private[g.field][z]=K)}g.updateStyle&&y.updateStyle(),g.onSet(y),g.settingTriggersEvent&&y[g.triggerFnName](g.settingEvent)}else if(g.allowBinding&&ht(f))y.on(g.bindingEvent,f);else if(g.allowGetting&&void 0===f){var W;return w&&(g.beforeGet(w),W=w._private[g.field]),W}return y}},removeData:function(o){return o=qt({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},o),function(f){var p=o,g=this,b=void 0!==g.length?g:[g];if(Ae(f)){for(var _=f.split(/\s+/),w=_.length,x=0;x<w;x++){var E=_[x];if(!vt(E)&&!p.immutableKeys[E])for(var M=0,A=b.length;M<A;M++)b[M]._private[p.field][E]=void 0}p.triggerEvent&&g[p.triggerFnName](p.event)}else if(void 0===f){for(var I=0,R=b.length;I<R;I++)for(var F=b[I]._private[p.field],L=Object.keys(F),z=0;z<L.length;z++){var K=L[z];!p.immutableKeys[K]&&(F[K]=void 0)}p.triggerEvent&&g[p.triggerFnName](p.event)}return g}}},Yh={eventAliasesOn:function(o){var c=o;c.addListener=c.listen=c.bind=c.on,c.unlisten=c.unbind=c.off=c.removeListener,c.trigger=c.emit,c.pon=c.promiseOn=function(d,f){var p=this,g=Array.prototype.slice.call(arguments,0);return new iu(function(y,b){var w=g.concat([function(S){p.off.apply(p,x),y(S)}]),x=w.concat([]);p.on.apply(p,w)})}}},An={};[{animated:function(){return function(){var c=this,f=void 0!==c.length?c:[c];if(!(this._private.cy||this).styleEnabled())return!1;var g=f[0];return g?g._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var c=this,f=void 0!==c.length?c:[c];if(!(this._private.cy||this).styleEnabled())return this;for(var g=0;g<f.length;g++)f[g]._private.animation.queue=[];return this}},delay:function(){return function(c,d){return(this._private.cy||this).styleEnabled()?this.animate({delay:c,duration:c,complete:d}):this}},delayAnimation:function(){return function(c,d){return(this._private.cy||this).styleEnabled()?this.animation({delay:c,duration:c,complete:d}):this}},animation:function(){return function(c,d){var f=this,p=void 0!==f.length,g=p?f:[f],y=this._private.cy||this,b=!p,_=!b;if(!y.styleEnabled())return this;var w=y.style();if(c=qt({},c,d),0===Object.keys(c).length)return new vy(g[0],c);switch(void 0===c.duration&&(c.duration=400),c.duration){case"slow":c.duration=600;break;case"fast":c.duration=200}if(_&&(c.style=w.getPropsList(c.style||c.css),c.css=void 0),_&&null!=c.renderedPosition){var E=c.renderedPosition,S=y.pan(),M=y.zoom();c.position=Wo(E,M,S)}if(b&&null!=c.panBy){var A=c.panBy,I=y.pan();c.pan={x:I.x+A.x,y:I.y+A.y}}var R=c.center||c.centre;if(b&&null!=R){var F=y.getCenterPan(R.eles,c.zoom);null!=F&&(c.pan=F)}if(b&&null!=c.fit){var L=c.fit,z=y.getFitViewport(L.eles||L.boundingBox,L.padding);null!=z&&(c.pan=z.pan,c.zoom=z.zoom)}if(b&&tt(c.zoom)){var K=y.getZoomedViewport(c.zoom);null!=K?(K.zoomed&&(c.zoom=K.zoom),K.panned&&(c.pan=K.pan)):c.zoom=null}return new vy(g[0],c)}},animate:function(){return function(c,d){var f=this,g=void 0!==f.length?f:[f];if(!(this._private.cy||this).styleEnabled())return this;d&&(c=qt({},c,d));for(var b=0;b<g.length;b++){var _=g[b],w=_.animated()&&(void 0===c.queue||c.queue);_.animation(c,w?{queue:!0}:void 0).play()}return this}},stop:function(){return function(c,d){var f=this,g=void 0!==f.length?f:[f],y=this._private.cy||this;if(!y.styleEnabled())return this;for(var b=0;b<g.length;b++){for(var w=g[b]._private,x=w.animation.current,E=0;E<x.length;E++)d&&(x[E]._private.duration=0);c&&(w.animation.queue=[]),d||(w.animation.current=[])}return y.notify("draw"),this}}},DA,Yh].forEach(function(u){qt(An,u)});var CC={animate:An.animate(),animation:An.animation(),animated:An.animated(),clearQueue:An.clearQueue(),delay:An.delay(),delayAnimation:An.delayAnimation(),stop:An.stop()},ru={classes:function(o){var c=this;if(void 0===o){var d=[];return c[0]._private.classes.forEach(function(M){return d.push(M)}),d}Mt(o)||(o=(o||"").match(/\S+/g)||[]);for(var f=[],p=new si(o),g=0;g<c.length;g++){for(var y=c[g],b=y._private,_=b.classes,w=!1,x=0;x<o.length;x++)if(!_.has(o[x])){w=!0;break}w||(w=_.size!==o.length),w&&(b.classes=p,f.push(y))}return f.length>0&&this.spawn(f).updateStyle().emit("class"),c},addClass:function(o){return this.toggleClass(o,!0)},hasClass:function(o){var c=this[0];return null!=c&&c._private.classes.has(o)},toggleClass:function(o,c){Mt(o)||(o=o.match(/\S+/g)||[]);for(var d=this,f=void 0===c,p=[],g=0,y=d.length;g<y;g++)for(var b=d[g],_=b._private.classes,w=!1,x=0;x<o.length;x++){var E=o[x],S=_.has(E),M=!1;c||f&&!S?(_.add(E),M=!0):(!c||f&&S)&&(_.delete(E),M=!0),!w&&M&&(p.push(b),w=!0)}return p.length>0&&this.spawn(p).updateStyle().emit("class"),d},removeClass:function(o){return this.toggleClass(o,!1)},flashClass:function(o,c){var d=this;if(null==c)c=250;else if(0===c)return d;return d.addClass(o),setTimeout(function(){d.removeClass(o)},c),d}};ru.className=ru.classNames=ru.classes;var jn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:ei,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};jn.variable="(?:[\\w-.]|(?:\\\\"+jn.metaChar+"))+",jn.className="(?:[\\w-]|(?:\\\\"+jn.metaChar+"))+",jn.value=jn.string+"|"+jn.number,jn.id=jn.variable,function(){var u,o,c;for(u=jn.comparatorOp.split("|"),c=0;c<u.length;c++)jn.comparatorOp+="|@"+(o=u[c]);for(u=jn.comparatorOp.split("|"),c=0;c<u.length;c++)!((o=u[c]).indexOf("!")>=0)&&"="!==o&&(jn.comparatorOp+="|\\!"+o)}();var su=[{selector:":selected",matches:function(o){return o.selected()}},{selector:":unselected",matches:function(o){return!o.selected()}},{selector:":selectable",matches:function(o){return o.selectable()}},{selector:":unselectable",matches:function(o){return!o.selectable()}},{selector:":locked",matches:function(o){return o.locked()}},{selector:":unlocked",matches:function(o){return!o.locked()}},{selector:":visible",matches:function(o){return o.visible()}},{selector:":hidden",matches:function(o){return!o.visible()}},{selector:":transparent",matches:function(o){return o.transparent()}},{selector:":grabbed",matches:function(o){return o.grabbed()}},{selector:":free",matches:function(o){return!o.grabbed()}},{selector:":removed",matches:function(o){return o.removed()}},{selector:":inside",matches:function(o){return!o.removed()}},{selector:":grabbable",matches:function(o){return o.grabbable()}},{selector:":ungrabbable",matches:function(o){return!o.grabbable()}},{selector:":animated",matches:function(o){return o.animated()}},{selector:":unanimated",matches:function(o){return!o.animated()}},{selector:":parent",matches:function(o){return o.isParent()}},{selector:":childless",matches:function(o){return o.isChildless()}},{selector:":child",matches:function(o){return o.isChild()}},{selector:":orphan",matches:function(o){return o.isOrphan()}},{selector:":nonorphan",matches:function(o){return o.isChild()}},{selector:":compound",matches:function(o){return o.isNode()?o.isParent():o.source().isParent()||o.target().isParent()}},{selector:":loop",matches:function(o){return o.isLoop()}},{selector:":simple",matches:function(o){return o.isSimple()}},{selector:":active",matches:function(o){return o.active()}},{selector:":inactive",matches:function(o){return!o.active()}},{selector:":backgrounding",matches:function(o){return o.backgrounding()}},{selector:":nonbackgrounding",matches:function(o){return!o.backgrounding()}}].sort(function(u,o){return function(o,c){return-1*co(o,c)}(u.selector,o.selector)}),xC=function(){for(var o,u={},c=0;c<su.length;c++)u[(o=su[c]).selector]=o.matches;return u}(),yy="("+su.map(function(u){return u.selector}).join("|")+")",hl=function(o){return o.replace(new RegExp("\\\\("+jn.metaChar+")","g"),function(c,d){return d})},Xt=function(o,c,d){o[o.length-1]=d},Zh=[{name:"group",query:!0,regex:"("+jn.group+")",populate:function(o,c,d){var p=xt(d,1)[0];c.checks.push({type:0,value:"*"===p?p:p+"s"})}},{name:"state",query:!0,regex:yy,populate:function(o,c,d){var f=xt(d,1);c.checks.push({type:7,value:f[0]})}},{name:"id",query:!0,regex:"\\#("+jn.id+")",populate:function(o,c,d){var f=xt(d,1);c.checks.push({type:8,value:hl(f[0])})}},{name:"className",query:!0,regex:"\\.("+jn.className+")",populate:function(o,c,d){var f=xt(d,1);c.checks.push({type:9,value:hl(f[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+jn.variable+")\\s*\\]",populate:function(o,c,d){var f=xt(d,1);c.checks.push({type:4,field:hl(f[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+jn.variable+")\\s*("+jn.comparatorOp+")\\s*("+jn.value+")\\s*\\]",populate:function(o,c,d){var f=xt(d,3),p=f[0],g=f[1],y=f[2];y=null!=new RegExp("^"+jn.string+"$").exec(y)?y.substring(1,y.length-1):parseFloat(y),c.checks.push({type:3,field:hl(p),operator:g,value:y})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+jn.boolOp+")\\s*("+jn.variable+")\\s*\\]",populate:function(o,c,d){var f=xt(d,2),p=f[0];c.checks.push({type:5,field:hl(f[1]),operator:p})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+jn.meta+")\\s*("+jn.comparatorOp+")\\s*("+jn.number+")\\s*\\]\\]",populate:function(o,c,d){var f=xt(d,3),g=f[1],y=f[2];c.checks.push({type:6,field:hl(f[0]),operator:g,value:parseFloat(y)})}},{name:"nextQuery",separator:!0,regex:jn.separator,populate:function(o,c){var d=o.currentSubject,f=o.edgeCount,p=o.compoundCount,g=o[o.length-1];return null!=d&&(g.subject=d,o.currentSubject=null),g.edgeCount=f,g.compoundCount=p,o.edgeCount=0,o.compoundCount=0,o[o.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:jn.directedEdge,populate:function(o,c){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:11,source:c,target:p}),Xt(o,0,d),o.edgeCount++,p}var g={checks:[]},b={checks:[]};return g.checks.push({type:12,source:c,target:b}),Xt(o,0,g),o.edgeCount++,b}},{name:"undirectedEdge",separator:!0,regex:jn.undirectedEdge,populate:function(o,c){if(null==o.currentSubject){var d={checks:[]},p={checks:[]};return d.checks.push({type:10,nodes:[c,p]}),Xt(o,0,d),o.edgeCount++,p}var g={checks:[]},b={checks:[]};return g.checks.push({type:14,node:c,neighbor:b}),Xt(o,0,g),b}},{name:"child",separator:!0,regex:jn.child,populate:function(o,c){if(null==o.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:15,parent:o[o.length-1],child:f}),Xt(o,0,d),o.compoundCount++,f}if(o.currentSubject===c){var g={checks:[]},b={checks:[]},_={checks:[]},w={checks:[]},x={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:b,subject:_}),_.checks=c.checks,c.checks=[{type:20}],x.checks.push({type:20}),b.checks.push({type:17,parent:x,child:w}),Xt(o,0,g),o.currentSubject=_,o.compoundCount++,w}var E={checks:[]},S={checks:[]},M=[{type:17,parent:E,child:S}];return E.checks=c.checks,c.checks=M,o.compoundCount++,S}},{name:"descendant",separator:!0,regex:jn.descendant,populate:function(o,c){if(null==o.currentSubject){var d={checks:[]},f={checks:[]};return d.checks.push({type:16,ancestor:o[o.length-1],descendant:f}),Xt(o,0,d),o.compoundCount++,f}if(o.currentSubject===c){var g={checks:[]},b={checks:[]},_={checks:[]},w={checks:[]},x={checks:[]};return g.checks.push({type:19,left:o[o.length-1],right:b,subject:_}),_.checks=c.checks,c.checks=[{type:20}],x.checks.push({type:20}),b.checks.push({type:18,ancestor:x,descendant:w}),Xt(o,0,g),o.currentSubject=_,o.compoundCount++,w}var E={checks:[]},S={checks:[]},M=[{type:18,ancestor:E,descendant:S}];return E.checks=c.checks,c.checks=M,o.compoundCount++,S}},{name:"subject",modifier:!0,regex:jn.subject,populate:function(o,c){if(null!=o.currentSubject&&o.currentSubject!==c)return ti("Redefinition of subject in selector `"+o.toString()+"`"),!1;o.currentSubject=c;var f=o[o.length-1].checks[0],p=null==f?null:f.type;11===p?f.type=13:10===p&&(f.type=14,f.node=f.nodes[1],f.neighbor=f.nodes[0],f.nodes=null)}}];Zh.forEach(function(u){return u.regexObj=new RegExp("^"+u.regex)});var EA=function(o){for(var c,d,f,p=0;p<Zh.length;p++){var g=Zh[p],y=g.name,b=o.match(g.regexObj);if(null!=b){d=b,c=g,f=y,o=o.substring(b[0].length);break}}return{expr:c,match:d,name:f,remaining:o}},_y={parse:function(o){var c=this,d=c.inputText=o,f=c[0]={checks:[]};for(c.length=1,d=function(o){var c=o.match(/^\s+/);return c&&(o=o.substring(c[0].length)),o}(d);;){var p=EA(d);if(null==p.expr)return ti("The selector `"+o+"`is invalid"),!1;var g=p.match.slice(1),y=p.expr.populate(c,f,g);if(!1===y)return!1;if(null!=y&&(f=y),(d=p.remaining).match(/^\s*$/))break}var b=c[c.length-1];null!=c.currentSubject&&(b.subject=c.currentSubject),b.edgeCount=c.edgeCount,b.compoundCount=c.compoundCount;for(var _=0;_<c.length;_++){var w=c[_];if(w.compoundCount>0&&w.edgeCount>0)return ti("The selector `"+o+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(w.edgeCount>1)return ti("The selector `"+o+"` is invalid because it uses multiple edge selectors"),!1;1===w.edgeCount&&ti("The selector `"+o+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var o=function(w){return w??""},c=function(w){return Ae(w)?'"'+w+'"':o(w)},d=function(w){return" "+w+" "},p=function(w,x){return w.checks.reduce(function(E,S,M){return E+(x===w&&0===M?"$":"")+function(w,x){var S=w.value;switch(w.type){case 0:var M=o(S);return M.substring(0,M.length-1);case 3:return"["+w.field+d(o(w.operator))+c(S)+"]";case 5:var F=w.field;return"["+o(w.operator)+F+"]";case 4:return"["+w.field+"]";case 6:return"[["+w.field+d(o(w.operator))+c(S)+"]]";case 7:return S;case 8:return"#"+S;case 9:return"."+S;case 17:case 15:return p(w.parent,x)+d(">")+p(w.child,x);case 18:case 16:return p(w.ancestor,x)+" "+p(w.descendant,x);case 19:var Y=p(w.left,x),H=p(w.subject,x),Z=p(w.right,x);return Y+(Y.length>0?" ":"")+H+Z;case 20:return""}}(S,x)},"")},g="",y=0;y<this.length;y++){var b=this[y];g+=p(b,b.subject),this.length>1&&y<this.length-1&&(g+=", ")}return this.toStringCache=g,g}},by=function(o,c,d){var f,b,_,p=Ae(o),g=Le(o),y=Ae(d),w=!1,x=!1,E=!1;switch(c.indexOf("!")>=0&&(c=c.replace("!",""),x=!0),c.indexOf("@")>=0&&(c=c.replace("@",""),w=!0),(p||y||w)&&(b=p||g?""+o:"",_=""+d),w&&(o=b=b.toLowerCase(),d=_=_.toLowerCase()),c){case"*=":f=b.indexOf(_)>=0;break;case"$=":f=b.indexOf(_,b.length-_.length)>=0;break;case"^=":f=0===b.indexOf(_);break;case"=":f=o===d;break;case">":E=!0,f=o>d;break;case">=":E=!0,f=o>=d;break;case"<":E=!0,f=o<d;break;case"<=":E=!0,f=o<=d;break;default:f=!1}return x&&(null!=o||!E)&&(f=!f),f},Yn=function(o,c){return o.data(c)},ii=[],Sn=function(o,c){return o.checks.every(function(d){return ii[d.type](d,c)})};ii[0]=function(u,o){var c=u.value;return"*"===c||c===o.group()},ii[7]=function(u,o){return function(o,c){return xC[o](c)}(u.value,o)},ii[8]=function(u,o){var c=u.value;return o.id()===c},ii[9]=function(u,o){return o.hasClass(u.value)},ii[6]=function(u,o){var d=u.operator,f=u.value;return by(function(o,c){return o[c]()}(o,u.field),d,f)},ii[3]=function(u,o){var d=u.operator,f=u.value;return by(Yn(o,u.field),d,f)},ii[5]=function(u,o){var d=u.operator;return function(o,c){switch(c){case"?":return!!o;case"!":return!o;case"^":return void 0===o}}(Yn(o,u.field),d)},ii[4]=function(u,o){return function(o){return void 0!==o}(Yn(o,u.field))},ii[10]=function(u,o){var c=u.nodes[0],d=u.nodes[1],f=o.source(),p=o.target();return Sn(c,f)&&Sn(d,p)||Sn(d,f)&&Sn(c,p)},ii[14]=function(u,o){return Sn(u.node,o)&&o.neighborhood().some(function(c){return c.isNode()&&Sn(u.neighbor,c)})},ii[11]=function(u,o){return Sn(u.source,o.source())&&Sn(u.target,o.target())},ii[12]=function(u,o){return Sn(u.source,o)&&o.outgoers().some(function(c){return c.isNode()&&Sn(u.target,c)})},ii[13]=function(u,o){return Sn(u.target,o)&&o.incomers().some(function(c){return c.isNode()&&Sn(u.source,c)})},ii[15]=function(u,o){return Sn(u.child,o)&&Sn(u.parent,o.parent())},ii[17]=function(u,o){return Sn(u.parent,o)&&o.children().some(function(c){return Sn(u.child,c)})},ii[16]=function(u,o){return Sn(u.descendant,o)&&o.ancestors().some(function(c){return Sn(u.ancestor,c)})},ii[18]=function(u,o){return Sn(u.ancestor,o)&&o.descendants().some(function(c){return Sn(u.descendant,c)})},ii[19]=function(u,o){return Sn(u.subject,o)&&Sn(u.left,o)&&Sn(u.right,o)},ii[20]=function(){return!0},ii[1]=function(u,o){return u.value.has(o)},ii[2]=function(u,o){return(0,u.value)(o)};var Ko={matches:function(o){for(var d=0;d<this.length;d++)if(Sn(this[d],o))return!0;return!1},filter:function(o){var c=this;if(1===c.length&&1===c[0].checks.length&&8===c[0].checks[0].type)return o.getElementById(c[0].checks[0].value).collection();var d=function(p){for(var g=0;g<c.length;g++)if(Sn(c[g],p))return!0;return!1};return null==c.text()&&(d=function(){return!0}),o.filter(d)}},Yo=function(o){this.inputText=o,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==o||Ae(o)&&o.match(/^\s*$/)||(Ge(o)?this.addQuery({checks:[{type:1,value:o.collection()}]}):ht(o)?this.addQuery({checks:[{type:2,value:o}]}):Ae(o)?this.parse(o)||(this.invalid=!0):Pi("A selector must be created from a string; found "))},Zo=Yo.prototype;[_y,Ko].forEach(function(u){return qt(Zo,u)}),Zo.text=function(){return this.inputText},Zo.size=function(){return this.length},Zo.eq=function(u){return this[u]},Zo.sameText=function(u){return!this.invalid&&!u.invalid&&this.text()===u.text()},Zo.addQuery=function(u){this[this.length++]=u},Zo.selector=Zo.toString;var Ul={allAre:function(o){var c=new Yo(o);return this.every(function(d){return c.matches(d)})},is:function(o){var c=new Yo(o);return this.some(function(d){return c.matches(d)})},some:function(o,c){for(var d=0;d<this.length;d++)if(c?o.apply(c,[this[d],d,this]):o(this[d],d,this))return!0;return!1},every:function(o,c){for(var d=0;d<this.length;d++)if(!(c?o.apply(c,[this[d],d,this]):o(this[d],d,this)))return!1;return!0},same:function(o){if(this===o)return!0;o=this.cy().collection(o);var c=this.length;return c===o.length&&(1===c?this[0]===o[0]:this.every(function(f){return o.hasElementWithId(f.id())}))},anySame:function(o){return o=this.cy().collection(o),this.some(function(c){return o.hasElementWithId(c.id())})},allAreNeighbors:function(o){o=this.cy().collection(o);var c=this.neighborhood();return o.every(function(d){return c.hasElementWithId(d.id())})},contains:function(o){o=this.cy().collection(o);var c=this;return o.every(function(d){return c.hasElementWithId(d.id())})}};Ul.allAreNeighbours=Ul.allAreNeighbors,Ul.has=Ul.contains,Ul.equal=Ul.equals=Ul.same;var Qo,Jo,po=function(o,c){return function(f,p,g,y){var w,b=f,_=this;if(null==b?w="":Ge(b)&&1===b.length&&(w=b.id()),1===_.length&&w){var x=_[0]._private,E=x.traversalCache=x.traversalCache||{},S=E[c]=E[c]||[],M=rl(w);return S[M]||(S[M]=o.call(_,f,p,g,y))}return o.call(_,f,p,g,y)}},pd={parent:function(o){var c=[];if(1===this.length){var d=this[0]._private.parent;if(d)return d}for(var f=0;f<this.length;f++){var g=this[f]._private.parent;g&&c.push(g)}return this.spawn(c,!0).filter(o)},parents:function(o){for(var c=[],d=this.parent();d.nonempty();){for(var f=0;f<d.length;f++)c.push(d[f]);d=d.parent()}return this.spawn(c,!0).filter(o)},commonAncestors:function(o){for(var c,d=0;d<this.length;d++){var p=this[d].parents();c=(c=c||p).intersect(p)}return c.filter(o)},orphans:function(o){return this.stdFilter(function(c){return c.isOrphan()}).filter(o)},nonorphans:function(o){return this.stdFilter(function(c){return c.isChild()}).filter(o)},children:po(function(u){for(var o=[],c=0;c<this.length;c++)for(var f=this[c]._private.children,p=0;p<f.length;p++)o.push(f[p]);return this.spawn(o,!0).filter(u)},"children"),siblings:function(o){return this.parent().children().not(this).filter(o)},isParent:function(){var o=this[0];if(o)return o.isNode()&&0!==o._private.children.length},isChildless:function(){var o=this[0];if(o)return o.isNode()&&0===o._private.children.length},isChild:function(){var o=this[0];if(o)return o.isNode()&&null!=o._private.parent},isOrphan:function(){var o=this[0];if(o)return o.isNode()&&null==o._private.parent},descendants:function(o){var c=[];return function d(f){for(var p=0;p<f.length;p++){var g=f[p];c.push(g),g.children().nonempty()&&d(g.children())}}(this.children()),this.spawn(c,!0).filter(o)}};function Xh(u,o,c,d){for(var f=[],p=new si,y=u.cy().hasCompoundNodes(),b=0;b<u.length;b++){var _=u[b];c?f.push(_):y&&d(f,p,_)}for(;f.length>0;){var w=f.shift();o(w),p.add(w.id()),y&&d(f,p,w)}return u}function os(u,o,c){if(c.isParent())for(var d=c._private.children,f=0;f<d.length;f++){var p=d[f];o.has(p.id())||u.push(p)}}function Xo(u,o,c){if(c.isChild()){var d=c._private.parent;o.has(d.id())||u.push(d)}}function Cy(u,o,c){Xo(u,o,c),os(u,o,c)}pd.forEachDown=function(u){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Xh(this,u,o,os)},pd.forEachUp=function(u){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Xh(this,u,o,Xo)},pd.forEachUpAndDown=function(u){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Xh(this,u,o,Cy)},pd.ancestors=pd.parents,Qo=Jo={data:An.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:An.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:An.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:An.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:An.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:An.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var o=this[0];if(o)return o._private.data.id}},Qo.attr=Qo.data,Qo.removeAttr=Qo.removeData;var TC=Jo,gd={};function og(u){return function(o){var c=this;if(void 0===o&&(o=!0),0===c.length);else if(c.isNode()&&!c.removed()){for(var d=0,f=c[0],p=f._private.edges,g=0;g<p.length;g++){var y=p[g];!o&&y.isLoop()||(d+=u(f,y))}return d}}}function ou(u,o){return function(c){for(var d,f=this.nodes(),p=0;p<f.length;p++){var y=f[p][u](c);void 0!==y&&(void 0===d||o(y,d))&&(d=y)}return d}}qt(gd,{degree:og(function(u,o){return o.source().same(o.target())?2:1}),indegree:og(function(u,o){return o.target().same(u)?1:0}),outdegree:og(function(u,o){return o.source().same(u)?1:0})}),qt(gd,{minDegree:ou("degree",function(u,o){return u<o}),maxDegree:ou("degree",function(u,o){return u>o}),minIndegree:ou("indegree",function(u,o){return u<o}),maxIndegree:ou("indegree",function(u,o){return u>o}),minOutdegree:ou("outdegree",function(u,o){return u<o}),maxOutdegree:ou("outdegree",function(u,o){return u>o})}),qt(gd,{totalDegree:function(o){for(var c=0,d=this.nodes(),f=0;f<d.length;f++)c+=d[f].degree(o);return c}});var Ys,Qh,ag=function(o,c,d){for(var f=0;f<o.length;f++){var p=o[f];if(!p.locked()){var g=p._private.position,y={x:null!=c.x?c.x-g.x:0,y:null!=c.y?c.y-g.y:0};p.isParent()&&!(0===y.x&&0===y.y)&&p.children().shift(y,d),p.dirtyBoundingBoxCache()}}},Jh={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(o){o.updateCompoundBounds()},beforeSet:function(o,c){ag(o,c,!1)},onSet:function(o){o.dirtyCompoundBoundsCache()},canSet:function(o){return!o.locked()}};Ys=Qh={position:An.data(Jh),silentPosition:An.data(qt({},Jh,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(o,c){ag(o,c,!0)},onSet:function(o){o.dirtyCompoundBoundsCache()}})),positions:function(o,c){if(tt(o))c?this.silentPosition(o):this.position(o);else if(ht(o)){var d=o,f=this.cy();f.startBatch();for(var p=0;p<this.length;p++){var y,g=this[p];(y=d(g,p))&&(c?g.silentPosition(y):g.position(y))}f.endBatch()}return this},silentPositions:function(o){return this.positions(o,!0)},shift:function(o,c,d){var f;if(tt(o)?(f={x:Le(o.x)?o.x:0,y:Le(o.y)?o.y:0},d=c):Ae(o)&&Le(c)&&((f={x:0,y:0})[o]=c),null!=f){var p=this.cy();p.startBatch();for(var g=0;g<this.length;g++){var y=this[g];if(!(p.hasCompoundNodes()&&y.isChild()&&y.ancestors().anySame(this))){var b=y.position(),_={x:b.x+f.x,y:b.y+f.y};d?y.silentPosition(_):y.position(_)}}p.endBatch()}return this},silentShift:function(o,c){return tt(o)?this.shift(o,!0):Ae(o)&&Le(c)&&this.shift(o,c,!0),this},renderedPosition:function(o,c){var d=this[0],f=this.cy(),p=f.zoom(),g=f.pan(),y=tt(o)?o:void 0,b=void 0!==y||void 0!==c&&Ae(o);if(d&&d.isNode()){if(!b){var x=d.position();return y=Xp(x,p,g),void 0===o?y:y[o]}for(var _=0;_<this.length;_++){var w=this[_];void 0!==c?w.position(o,(c-g[o])/p):void 0!==y&&w.position(Wo(y,p,g))}}else if(!b)return;return this},relativePosition:function(o,c){var d=this[0],f=this.cy(),p=tt(o)?o:void 0,g=void 0!==p||void 0!==c&&Ae(o),y=f.hasCompoundNodes();if(d&&d.isNode()){if(!g){var M=d.position(),A=y?d.parent():null,I=A&&A.length>0;I&&(A=A[0]);var F=I?A.position():{x:0,y:0};return p={x:M.x-F.x,y:M.y-F.y},void 0===o?p:p[o]}for(var b=0;b<this.length;b++){var _=this[b],w=y?_.parent():null,x=w&&w.length>0;x&&(w=w[0]);var S=x?w.position():{x:0,y:0};void 0!==c?_.position(o,c+S[o]):void 0!==p&&_.position({x:p.x+S.x,y:p.y+S.y})}}else if(!g)return;return this}},Ys.modelPosition=Ys.point=Ys.position,Ys.modelPositions=Ys.points=Ys.positions,Ys.renderedPoint=Ys.renderedPosition,Ys.relativePoint=Ys.relativePosition;var Gl,ea,AC=Qh;Gl=ea={},ea.renderedBoundingBox=function(u){var o=this.boundingBox(u),c=this.cy(),d=c.zoom(),f=c.pan(),p=o.x1*d+f.x,g=o.x2*d+f.x,y=o.y1*d+f.y,b=o.y2*d+f.y;return{x1:p,x2:g,y1:y,y2:b,w:g-p,h:b-y}},ea.dirtyCompoundBoundsCache=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();return o.styleEnabled()&&o.hasCompoundNodes()?(this.forEachUp(function(c){if(c.isParent()){var d=c._private;d.compoundBoundsClean=!1,d.bbCache=null,u||c.emitAndNotify("bounds")}}),this):this},ea.updateCompoundBounds=function(){var u=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.cy();if(!o.styleEnabled()||!o.hasCompoundNodes())return this;if(!u&&o.batching())return this;function c(g){if(g.isParent()){var y=g._private,b=g.children(),_="include"===g.pstyle("compound-sizing-wrt-labels").value,w={width:{val:g.pstyle("min-width").pfValue,left:g.pstyle("min-width-bias-left"),right:g.pstyle("min-width-bias-right")},height:{val:g.pstyle("min-height").pfValue,top:g.pstyle("min-height-bias-top"),bottom:g.pstyle("min-height-bias-bottom")}},x=b.boundingBox({includeLabels:_,includeOverlays:!1,useCache:!1}),E=y.position;(0===x.w||0===x.h)&&((x={w:g.pstyle("width").pfValue,h:g.pstyle("height").pfValue}).x1=E.x-x.w/2,x.x2=E.x+x.w/2,x.y1=E.y-x.h/2,x.y2=E.y+x.h/2);var A=w.width.left.value;"px"===w.width.left.units&&w.width.val>0&&(A=100*A/w.width.val);var I=w.width.right.value;"px"===w.width.right.units&&w.width.val>0&&(I=100*I/w.width.val);var R=w.height.top.value;"px"===w.height.top.units&&w.height.val>0&&(R=100*R/w.height.val);var F=w.height.bottom.value;"px"===w.height.bottom.units&&w.height.val>0&&(F=100*F/w.height.val);var L=S(w.width.val-x.w,A,I),z=L.biasDiff,K=L.biasComplementDiff,Y=S(w.height.val-x.h,R,F),H=Y.biasDiff,Z=Y.biasComplementDiff;y.autoPadding=function M(U,Q,J,W){if("%"!==J.units)return"px"===J.units?J.pfValue:0;switch(W){case"width":return U>0?J.pfValue*U:0;case"height":return Q>0?J.pfValue*Q:0;case"average":return U>0&&Q>0?J.pfValue*(U+Q)/2:0;case"min":return U>0&&Q>0?U>Q?J.pfValue*Q:J.pfValue*U:0;case"max":return U>0&&Q>0?U>Q?J.pfValue*U:J.pfValue*Q:0;default:return 0}}(x.w,x.h,g.pstyle("padding"),g.pstyle("padding-relative-to").value),y.autoWidth=Math.max(x.w,w.width.val),E.x=(-z+x.x1+x.x2+K)/2,y.autoHeight=Math.max(x.h,w.height.val),E.y=(-H+x.y1+x.y2+Z)/2}function S(U,Q,J){var W=0,oe=0,X=Q+J;return U>0&&X>0&&(W=Q/X*U,oe=J/X*U),{biasDiff:W,biasComplementDiff:oe}}}for(var d=0;d<this.length;d++){var f=this[d],p=f._private;(!p.compoundBoundsClean||u)&&(c(f),o.batching()||(p.compoundBoundsClean=!0))}return this};var Zs=function(o){return o===1/0||o===-1/0?0:o},go=function(o,c,d,f,p){f-c==0||p-d==0||null==c||null==d||null==f||null==p||(o.x1=c<o.x1?c:o.x1,o.x2=f>o.x2?f:o.x2,o.y1=d<o.y1?d:o.y1,o.y2=p>o.y2?p:o.y2,o.w=o.x2-o.x1,o.h=o.y2-o.y1)},fl=function(o,c){return null==c?o:go(o,c.x1,c.y1,c.x2,c.y2)},au=function(o,c,d){return ai(o,c,d)},lu=function(o,c,d){if(!c.cy().headless()){var b,_,f=c._private,p=f.rstyle,g=p.arrowWidth/2;if("none"!==c.pstyle(d+"-arrow-shape").value){"source"===d?(b=p.srcX,_=p.srcY):"target"===d?(b=p.tgtX,_=p.tgtY):(b=p.midX,_=p.midY);var w=f.arrowBounds=f.arrowBounds||{},x=w[d]=w[d]||{};x.x1=b-g,x.y1=_-g,x.x2=b+g,x.y2=_+g,x.w=x.x2-x.x1,x.h=x.y2-x.y1,ad(x,1),go(o,x.x1,x.y1,x.x2,x.y2)}}},lg=function(o,c,d){if(!c.cy().headless()){var f,p=c._private,g=p.rstyle;if(c.pstyle((f=d?d+"-":"")+"label").strValue){var J,W,oe,X,b=c.pstyle("text-halign"),_=c.pstyle("text-valign"),w=au(g,"labelWidth",d),x=au(g,"labelHeight",d),E=au(g,"labelX",d),S=au(g,"labelY",d),M=c.pstyle(f+"text-margin-x").pfValue,A=c.pstyle(f+"text-margin-y").pfValue,I=c.isEdge(),R=c.pstyle(f+"text-rotation"),F=c.pstyle("text-outline-width").pfValue,z=c.pstyle("text-border-width").pfValue/2,K=c.pstyle("text-background-padding").pfValue,H=x,Z=w,U=Z/2,Q=H/2;if(I)J=E-U,W=E+U,oe=S-Q,X=S+Q;else{switch(b.value){case"left":J=E-Z,W=E;break;case"center":J=E-U,W=E+U;break;case"right":J=E,W=E+Z}switch(_.value){case"top":oe=S-H,X=S;break;case"center":oe=S-Q,X=S+Q;break;case"bottom":oe=S,X=S+H}}J+=M-Math.max(F,z)-K-2,W+=M+Math.max(F,z)+K+2,oe+=A-Math.max(F,z)-K-2,X+=A+Math.max(F,z)+K+2;var me=d||"main",ae=p.labelBounds,de=ae[me]=ae[me]||{};de.x1=J,de.y1=oe,de.x2=W,de.y2=X,de.w=W-J,de.h=X-oe;var be=I&&"autorotate"===R.strValue;if(be||null!=R.pfValue&&0!==R.pfValue){var Fe=be?au(p.rstyle,"labelAngle",d):R.pfValue,Ee=Math.cos(Fe),Re=Math.sin(Fe),Ye=(J+W)/2,qe=(oe+X)/2;if(!I){switch(b.value){case"left":Ye=W;break;case"right":Ye=J}switch(_.value){case"top":qe=X;break;case"bottom":qe=oe}}var We=function(Cn,wt){return{x:(Cn-=Ye)*Ee-(wt-=qe)*Re+Ye,y:Cn*Re+wt*Ee+qe}},He=We(J,oe),ye=We(J,X),Me=We(W,oe),Je=We(W,X);J=Math.min(He.x,ye.x,Me.x,Je.x),W=Math.max(He.x,ye.x,Me.x,Je.x),oe=Math.min(He.y,ye.y,Me.y,Je.y),X=Math.max(He.y,ye.y,Me.y,Je.y)}var ft=me+"Rot",mt=ae[ft]=ae[ft]||{};mt.x1=J,mt.y1=oe,mt.x2=W,mt.y2=X,mt.w=W-J,mt.h=X-oe,go(o,J,oe,W,X),go(p.labelBounds.all,J,oe,W,X)}return o}},as=function(o){var c=0,d=function(g){return(g?1:0)<<c++},f=0;return f+=d(o.incudeNodes),f+=d(o.includeEdges),f+=d(o.includeLabels),f+=d(o.includeMainLabels),f+=d(o.includeSourceLabels),(f+=d(o.includeTargetLabels))+d(o.includeOverlays)},xa=function(o){if(o.isEdge()){var c=o.source().position(),d=o.target().position(),f=function(g){return Math.round(g)};return function(o,c){var d={value:0,done:!1},f=0,p=o.length;return Wp({next:function(){return f<p?d.value=o[f++]:d.done=!0,d}},void 0)}([f(c.x),f(c.y),f(d.x),f(d.y)])}return 0},Li=function(o,c){var f,d=o._private,p=o.isEdge(),y=(null==c?xy:as(c))===xy,b=xa(o),_=d.bbCachePosKey===b,w=c.useCache&&_,x=function(A){return null==A._private.bbCache||A._private.styleDirty};if(!w||x(o)||p&&x(o.source())||x(o.target())?(_||o.recalculateRenderedStyle(w),f=function(o,c){var w,x,E,S,M,A,d=o._private.cy,f=d.styleEnabled(),p=d.headless(),g=qr(),y=o._private,b=o.isNode(),_=o.isEdge(),I=y.rstyle,R=b&&f?o.pstyle("bounds-expansion").pfValue:[0],F=function(Ut){return"none"!==Ut.pstyle("display").value},L=!f||F(o)&&(!_||F(o.source())&&F(o.target()));if(L){var K=0;f&&c.includeOverlays&&0!==o.pstyle("overlay-opacity").value&&(K=o.pstyle("overlay-padding").value);var H=0;f&&c.includeUnderlays&&0!==o.pstyle("underlay-opacity").value&&(H=o.pstyle("underlay-padding").value);var Z=Math.max(K,H),Q=0;if(f&&(Q=o.pstyle("width").pfValue/2),b&&c.includeNodes){var J=o.position();M=J.x,A=J.y;var oe=o.outerWidth()/2,me=o.outerHeight()/2;go(g,w=M-oe,E=A-me,x=M+oe,S=A+me)}else if(_&&c.includeEdges)if(f&&!p){var ae=o.pstyle("curve-style").strValue;if(w=Math.min(I.srcX,I.midX,I.tgtX),x=Math.max(I.srcX,I.midX,I.tgtX),E=Math.min(I.srcY,I.midY,I.tgtY),S=Math.max(I.srcY,I.midY,I.tgtY),go(g,w-=Q,E-=Q,x+=Q,S+=Q),"haystack"===ae){var de=I.haystackPts;if(de&&2===de.length){if((w=de[0].x)>(x=de[1].x)){var be=w;w=x,x=be}if((E=de[0].y)>(S=de[1].y)){var Se=E;E=S,S=Se}go(g,w-Q,E-Q,x+Q,S+Q)}}else if("bezier"===ae||"unbundled-bezier"===ae||"segments"===ae||"taxi"===ae){var Fe;switch(ae){case"bezier":case"unbundled-bezier":Fe=I.bezierPts;break;case"segments":case"taxi":Fe=I.linePts}if(null!=Fe)for(var Ee=0;Ee<Fe.length;Ee++){var Re=Fe[Ee];go(g,w=Re.x-Q,E=Re.y-Q,x=Re.x+Q,S=Re.y+Q)}}}else{var qe=o.source().position(),He=o.target().position();if((w=qe.x)>(x=He.x)){var ye=w;w=x,x=ye}if((E=qe.y)>(S=He.y)){var Me=E;E=S,S=Me}go(g,w-=Q,E-=Q,x+=Q,S+=Q)}if(f&&c.includeEdges&&_&&(lu(g,o,"mid-source"),lu(g,o,"mid-target"),lu(g,o,"source"),lu(g,o,"target")),f&&"yes"===o.pstyle("ghost").value){var ft=o.pstyle("ghost-offset-x").pfValue,mt=o.pstyle("ghost-offset-y").pfValue;go(g,g.x1+ft,g.y1+mt,g.x2+ft,g.y2+mt)}var nn=y.bodyBounds=y.bodyBounds||{};Nh(nn,g),qc(nn,R),ad(nn,1),f&&go(g,(w=g.x1)-Z,(E=g.y1)-Z,(x=g.x2)+Z,(S=g.y2)+Z);var Cn=y.overlayBounds=y.overlayBounds||{};Nh(Cn,g),qc(Cn,R),ad(Cn,1);var wt=y.labelBounds=y.labelBounds||{};null!=wt.all?function(o){o.x1=1/0,o.y1=1/0,o.x2=-1/0,o.y2=-1/0,o.w=0,o.h=0}(wt.all):wt.all=qr(),f&&c.includeLabels&&(c.includeMainLabels&&lg(g,o,null),_&&(c.includeSourceLabels&&lg(g,o,"source"),c.includeTargetLabels&&lg(g,o,"target")))}return g.x1=Zs(g.x1),g.y1=Zs(g.y1),g.x2=Zs(g.x2),g.y2=Zs(g.y2),g.w=Zs(g.x2-g.x1),g.h=Zs(g.y2-g.y1),g.w>0&&g.h>0&&L&&(qc(g,R),ad(g,1)),g}(o,ta),d.bbCache=f,d.bbCachePosKey=b):f=d.bbCache,!y){var S=o.isNode();f=qr(),(c.includeNodes&&S||c.includeEdges&&!S)&&fl(f,c.includeOverlays?d.overlayBounds:d.bodyBounds),c.includeLabels&&(c.includeMainLabels&&(!p||c.includeSourceLabels&&c.includeTargetLabels)?fl(f,d.labelBounds.all):(c.includeMainLabels&&fl(f,d.labelBounds.mainRot),c.includeSourceLabels&&fl(f,d.labelBounds.sourceRot),c.includeTargetLabels&&fl(f,d.labelBounds.targetRot))),f.w=f.x2-f.x1,f.h=f.y2-f.y1}return f},ta={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},xy=as(ta),ef=Gr(ta);ea.boundingBox=function(u){var o;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==u&&void 0!==u.useCache&&!0!==u.useCache){o=qr();var c=ef(u=u||ta),d=this;if(d.cy().styleEnabled())for(var g=0;g<d.length;g++){var y=d[g],b=y._private,_=xa(y);y.recalculateRenderedStyle(c.useCache&&b.bbCachePosKey===_&&!b.styleDirty)}this.updateCompoundBounds(!u.useCache);for(var E=0;E<d.length;E++)fl(o,Li(d[E],c))}else u=void 0===u?ta:ef(u),o=Li(this[0],u);return o.x1=Zs(o.x1),o.y1=Zs(o.y1),o.x2=Zs(o.x2),o.y2=Zs(o.y2),o.w=Zs(o.x2-o.x1),o.h=Zs(o.y2-o.y1),o},ea.dirtyBoundingBoxCache=function(){for(var u=0;u<this.length;u++){var o=this[u]._private;o.bbCache=null,o.bbCachePosKey=null,o.bodyBounds=null,o.overlayBounds=null,o.labelBounds.all=null,o.labelBounds.source=null,o.labelBounds.target=null,o.labelBounds.main=null,o.labelBounds.sourceRot=null,o.labelBounds.targetRot=null,o.labelBounds.mainRot=null,o.arrowBounds.source=null,o.arrowBounds.target=null,o.arrowBounds["mid-source"]=null,o.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},ea.boundingBoxAt=function(u){var o=this.nodes(),c=this.cy(),d=c.hasCompoundNodes(),f=c.collection();if(d&&(f=o.filter(function(_){return _.isParent()}),o=o.not(f)),tt(u)){var p=u;u=function(){return p}}c.startBatch(),o.forEach(function(w,x){return w._private.bbAtOldPos=u(w,x)}).silentPositions(u),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0));var b=function(o){return{x1:o.x1,x2:o.x2,w:o.w,y1:o.y1,y2:o.y2,h:o.h}}(this.boundingBox({useCache:!1}));return o.silentPositions(function(w){return w._private.bbAtOldPos}),d&&(f.dirtyCompoundBoundsCache(),f.dirtyBoundingBoxCache(),f.updateCompoundBounds(!0)),c.endBatch(),b},Gl.boundingbox=Gl.bb=Gl.boundingBox,Gl.renderedBoundingbox=Gl.renderedBoundingBox;var md,vd,IC=ea;md=vd={};var yd=function(o){o.uppercaseName=is(o.name),o.autoName="auto"+o.uppercaseName,o.labelName="label"+o.uppercaseName,o.outerName="outer"+o.uppercaseName,o.uppercaseOuterName=is(o.outerName),md[o.name]=function(){var d=this[0],f=d._private;if(d){if(f.cy._private.styleEnabled){if(d.isParent())return d.updateCompoundBounds(),f[o.autoName]||0;var y=d.pstyle(o.name);return"label"===y.strValue?(d.recalculateRenderedStyle(),f.rstyle[o.labelName]||0):y.pfValue}return 1}},md["outer"+o.uppercaseName]=function(){var d=this[0];if(d)return d._private.cy._private.styleEnabled?d[o.name]()+d.pstyle("border-width").pfValue+2*d.padding():1},md["rendered"+o.uppercaseName]=function(){var d=this[0];if(d)return d[o.name]()*this.cy().zoom()},md["rendered"+o.uppercaseOuterName]=function(){var d=this[0];if(d)return d[o.outerName]()*this.cy().zoom()}};yd({name:"width"}),yd({name:"height"}),vd.padding=function(){var u=this[0],o=u._private;return u.isParent()?(u.updateCompoundBounds(),void 0!==o.autoPadding?o.autoPadding:u.pstyle("padding").pfValue):u.pstyle("padding").pfValue},vd.paddedHeight=function(){var u=this[0];return u.height()+2*u.padding()},vd.paddedWidth=function(){var u=this[0];return u.width()+2*u.padding()};var tf=vd,cu={controlPoints:{get:function(o){return o.renderer().getControlPoints(o)},mult:!0},segmentPoints:{get:function(o){return o.renderer().getSegmentPoints(o)},mult:!0},sourceEndpoint:{get:function(o){return o.renderer().getSourceEndpoint(o)}},targetEndpoint:{get:function(o){return o.renderer().getTargetEndpoint(o)}},midpoint:{get:function(o){return o.renderer().getEdgeMidpoint(o)}}},FC=Object.keys(cu).reduce(function(u,o){var c=cu[o],d=function(o){return"rendered"+o[0].toUpperCase()+o.substr(1)}(o);return u[o]=function(){return function(o,c){if(o.isEdge())return c(o)}(this,c.get)},u[d]=c.mult?function(){return function(o,c){if(o.isEdge()){var d=o.cy(),f=d.pan(),p=d.zoom();return c(o).map(function(g){return Xp(g,p,f)})}}(this,c.get)}:function(){return function(o,c){if(o.isEdge()){var d=o.cy();return Xp(c(o),d.zoom(),d.pan())}}(this,c.get)},u},{}),LC=qt({},AC,IC,tf,FC),NC=function(o,c){this.recycle(o,c)};function rf(){return!1}function Wl(){return!0}NC.prototype={instanceString:function(){return"event"},recycle:function(o,c){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=rf,null!=o&&o.preventDefault?(this.type=o.type,this.isDefaultPrevented=o.defaultPrevented?Wl:rf):null!=o&&o.type?c=o:this.type=o,null!=c&&(this.originalEvent=c.originalEvent,this.type=null!=c.type?c.type:this.type,this.cy=c.cy,this.target=c.target,this.position=c.position,this.renderedPosition=c.renderedPosition,this.namespace=c.namespace,this.layout=c.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var d=this.position,f=this.cy.zoom(),p=this.cy.pan();this.renderedPosition={x:d.x*f+p.x,y:d.y*f+p.y}}this.timeStamp=o&&o.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Wl;var o=this.originalEvent;!o||o.preventDefault&&o.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Wl;var o=this.originalEvent;!o||o.stopPropagation&&o.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Wl,this.stopPropagation()},isDefaultPrevented:rf,isPropagationStopped:rf,isImmediatePropagationStopped:rf};var dg=/^([^.]+)(\.(?:[^.]+))?$/,bd={qualifierCompare:function(o,c){return o===c},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(o){return o},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},hg=Object.keys(bd),Sy={};function Da(){for(var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sy,o=arguments.length>1?arguments[1]:void 0,c=0;c<hg.length;c++){var d=hg[c];this[d]=u[d]||bd[d]}this.context=o||this.context,this.listeners=[],this.emitting=0}var gl=Da.prototype,ql=function(o,c,d,f,p,g,y){ht(f)&&(p=f,f=null),y&&(g=null==g?y:qt({},g,y));for(var b=Mt(d)?d:d.split(/\s+/),_=0;_<b.length;_++){var w=b[_];if(!vt(w)){var x=w.match(dg);if(x&&!1===c(o,w,x[1],x[2]?x[2]:null,f,p,g))break}}},sf=function(o,c){return o.addEventFields(o.context,c),new NC(c.type,c)};gl.on=gl.addListener=function(u,o,c,d,f){return ql(this,function(p,g,y,b,_,w,x){ht(w)&&p.listeners.push({event:g,callback:w,type:y,namespace:b,qualifier:_,conf:x})},u,o,c,d,f),this},gl.one=function(u,o,c,d){return this.on(u,o,c,d,{one:!0})},gl.removeListener=gl.off=function(u,o,c,d){var f=this;0!==this.emitting&&(this.listeners=function(o){return o.slice()}(this.listeners));for(var p=this.listeners,g=function(_){var w=p[_];ql(f,function(x,E,S,M,A,I){if((w.type===S||"*"===u)&&(!M&&".*"!==w.namespace||w.namespace===M)&&(!A||x.qualifierCompare(w.qualifier,A))&&(!I||w.callback===I))return p.splice(_,1),!1},u,o,c,d)},y=p.length-1;y>=0;y--)g(y);return this},gl.removeAllListeners=function(){return this.removeListener("*")},gl.emit=gl.trigger=function(u,o,c){var d=this.listeners,f=d.length;return this.emitting++,Mt(o)||(o=[o]),function(o,c,d){if(function(o){return"event"===$e(o)}(d))c(o,d);else if(tt(d))c(o,sf(o,d));else for(var f=Mt(d)?d:d.split(/\s+/),p=0;p<f.length;p++){var g=f[p];if(!vt(g)){var y=g.match(dg);y&&c(o,sf(o,{type:y[1],namespace:y[2]?y[2]:null,target:o.context}))}}}(this,function(p,g){null!=c&&(f=(d=[{event:g.event,type:g.type,namespace:g.namespace,callback:c}]).length);for(var y=function(w){var x=d[w];if(x.type===g.type&&(!x.namespace||x.namespace===g.namespace||".*"===x.namespace)&&p.eventMatches(p.context,x,g)){var E=[g];null!=o&&function(o,c){for(var d=0;d<c.length;d++)o.push(c[d])}(E,o),p.beforeEmit(p.context,x,g),x.conf&&x.conf.one&&(p.listeners=p.listeners.filter(function(A){return A!==x}));var S=p.callbackContext(p.context,x,g),M=x.callback.apply(S,E);p.afterEmit(p.context,x,g),!1===M&&(g.stopPropagation(),g.preventDefault())}},b=0;b<f;b++)y(b);p.bubble(p.context)&&!g.isPropagationStopped()&&p.parent(p.context).emit(g,o)},u),this.emitting--,this};var SA={qualifierCompare:function(o,c){return null==o||null==c?null==o&&null==c:o.sameText(c)},eventMatches:function(o,c,d){var f=c.qualifier;return null==f||o!==d.target&&Ai(d.target)&&f.matches(d.target)},addEventFields:function(o,c){c.cy=o.cy(),c.target=o},callbackContext:function(o,c,d){return null!=c.qualifier?d.target:o},beforeEmit:function(o,c){c.conf&&c.conf.once&&c.conf.onceCollection.removeListener(c.event,c.qualifier,c.callback)},bubble:function(){return!0},parent:function(o){return o.isChild()?o.parent():o.cy()}},wd=function(o){return Ae(o)?new Yo(o):o},fg={createEmitter:function(){for(var o=0;o<this.length;o++){var c=this[o],d=c._private;d.emitter||(d.emitter=new Da(SA,c))}return this},emitter:function(){return this._private.emitter},on:function(o,c,d){for(var f=wd(c),p=0;p<this.length;p++)this[p].emitter().on(o,f,d);return this},removeListener:function(o,c,d){for(var f=wd(c),p=0;p<this.length;p++)this[p].emitter().removeListener(o,f,d);return this},removeAllListeners:function(){for(var o=0;o<this.length;o++)this[o].emitter().removeAllListeners();return this},one:function(o,c,d){for(var f=wd(c),p=0;p<this.length;p++)this[p].emitter().one(o,f,d);return this},once:function(o,c,d){for(var f=wd(c),p=0;p<this.length;p++)this[p].emitter().on(o,f,d,{once:!0,onceCollection:this})},emit:function(o,c){for(var d=0;d<this.length;d++)this[d].emitter().emit(o,c);return this},emitAndNotify:function(o,c){if(0!==this.length)return this.cy().notify(o,this),this.emit(o,c),this}};An.eventAliasesOn(fg);var My={nodes:function(o){return this.filter(function(c){return c.isNode()}).filter(o)},edges:function(o){return this.filter(function(c){return c.isEdge()}).filter(o)},byGroup:function(){for(var o=this.spawn(),c=this.spawn(),d=0;d<this.length;d++){var f=this[d];f.isNode()?o.push(f):c.push(f)}return{nodes:o,edges:c}},filter:function(o,c){if(void 0===o)return this;if(Ae(o)||Ge(o))return new Yo(o).filter(this);if(ht(o)){for(var d=this.spawn(),f=this,p=0;p<f.length;p++){var g=f[p];(c?o.apply(c,[g,p,f]):o(g,p,f))&&d.push(g)}return d}return this.spawn()},not:function(o){if(o){Ae(o)&&(o=this.filter(o));for(var c=this.spawn(),d=0;d<this.length;d++){var f=this[d];o.has(f)||c.push(f)}return c}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(o){if(Ae(o))return this.filter(o);for(var d=this.spawn(),g=this.length<o.length,y=g?this:o,b=g?o:this,_=0;_<y.length;_++){var w=y[_];b.has(w)&&d.push(w)}return d},xor:function(o){var c=this._private.cy;Ae(o)&&(o=c.$(o));var d=this.spawn(),p=o,g=function(b,_){for(var w=0;w<b.length;w++){var x=b[w];_.hasElementWithId(x._private.data.id)||d.push(x)}};return g(this,p),g(p,this),d},diff:function(o){var c=this._private.cy;Ae(o)&&(o=c.$(o));var d=this.spawn(),f=this.spawn(),p=this.spawn(),y=o,b=function(w,x,E){for(var S=0;S<w.length;S++){var M=w[S];x.hasElementWithId(M._private.data.id)?p.merge(M):E.push(M)}};return b(this,y,d),b(y,this,f),{left:d,right:f,both:p}},add:function(o){var c=this._private.cy;if(!o)return this;if(Ae(o)){var d=o;o=c.mutableElements().filter(d)}for(var f=this.spawnSelf(),p=0;p<o.length;p++){var g=o[p];!this.has(g)&&f.push(g)}return f},merge:function(o){var c=this._private,d=c.cy;if(!o)return this;if(o&&Ae(o)){var f=o;o=d.mutableElements().filter(f)}for(var p=c.map,g=0;g<o.length;g++){var y=o[g],b=y._private.data.id;if(!p.has(b)){var w=this.length++;this[w]=y,p.set(b,{ele:y,index:w})}}return this},unmergeAt:function(o){var d=this[o].id(),p=this._private.map;if(this[o]=void 0,p.delete(d),this.length>1&&o!==this.length-1){var y=this.length-1,b=this[y],_=b._private.data.id;this[y]=void 0,this[o]=b,p.set(_,{ele:b,index:o})}return this.length--,this},unmergeOne:function(o){var p=this._private.map.get((o=o[0])._private.data.id);return p?(this.unmergeAt(p.index),this):this},unmerge:function(o){var c=this._private.cy;if(!o)return this;if(o&&Ae(o)){var d=o;o=c.mutableElements().filter(d)}for(var f=0;f<o.length;f++)this.unmergeOne(o[f]);return this},unmergeBy:function(o){for(var c=this.length-1;c>=0;c--)o(this[c])&&this.unmergeAt(c);return this},map:function(o,c){for(var d=[],f=this,p=0;p<f.length;p++){var g=f[p],y=c?o.apply(c,[g,p,f]):o(g,p,f);d.push(y)}return d},reduce:function(o,c){for(var d=c,f=this,p=0;p<f.length;p++)d=o(d,f[p],p,f);return d},max:function(o,c){for(var f,d=-1/0,p=this,g=0;g<p.length;g++){var y=p[g],b=c?o.apply(c,[y,g,p]):o(y,g,p);b>d&&(d=b,f=y)}return{value:d,ele:f}},min:function(o,c){for(var f,d=1/0,p=this,g=0;g<p.length;g++){var y=p[g],b=c?o.apply(c,[y,g,p]):o(y,g,p);b<d&&(d=b,f=y)}return{value:d,ele:f}}},Fn=My;Fn.u=Fn["|"]=Fn["+"]=Fn.union=Fn.or=Fn.add,Fn["\\"]=Fn["!"]=Fn["-"]=Fn.difference=Fn.relativeComplement=Fn.subtract=Fn.not,Fn.n=Fn["&"]=Fn["."]=Fn.and=Fn.intersection=Fn.intersect,Fn["^"]=Fn["(+)"]=Fn["(-)"]=Fn.symmetricDifference=Fn.symdiff=Fn.xor,Fn.fnFilter=Fn.filterFn=Fn.stdFilter=Fn.filter,Fn.complement=Fn.abscomp=Fn.absoluteComplement;var o,uu=function(o,c){var f=o.cy().hasCompoundNodes();function p(w){var x=w.pstyle("z-compound-depth");return"auto"===x.value?f?w.zDepth():0:"bottom"===x.value?-1:"top"===x.value?sl:0}var g=p(o)-p(c);if(0!==g)return g;function y(w){return"auto"===w.pstyle("z-index-compare").value&&w.isNode()?1:0}var b=y(o)-y(c);if(0!==b)return b;var _=o.pstyle("z-index").value-c.pstyle("z-index").value;return 0!==_?_:o.poolIndex()-c.poolIndex()},du={forEach:function(o,c){if(ht(o))for(var d=this.length,f=0;f<d;f++){var p=this[f];if(!1===(c?o.apply(c,[p,f,this]):o(p,f,this)))break}return this},toArray:function(){for(var o=[],c=0;c<this.length;c++)o.push(this[c]);return o},slice:function(o,c){var d=[],f=this.length;null==c&&(c=f),null==o&&(o=0),o<0&&(o=f+o),c<0&&(c=f+c);for(var p=o;p>=0&&p<c&&p<f;p++)d.push(this[p]);return this.spawn(d)},size:function(){return this.length},eq:function(o){return this[o]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(o){if(!ht(o))return this;var c=this.toArray().sort(o);return this.spawn(c)},sortByZIndex:function(){return this.sort(uu)},zDepth:function(){var o=this[0];if(o){var c=o._private;if("nodes"===c.group){var f=c.data.parent?o.parents().size():0;return o.isParent()?f:sl-1}var g=c.target,y=c.source.zDepth(),b=g.zDepth();return Math.max(y,b,0)}}};du.each=du.forEach,o="undefined",(typeof Symbol>"u"?"undefined":st(Symbol))!=o&&st(Symbol.iterator)!=o&&(du[Symbol.iterator]=function(){var d=this,f={value:void 0,done:!1},p=0,g=this.length;return Qe({next:function(){return p<g?f.value=d[p++]:(f.value=void 0,f.done=!0),f}},Symbol.iterator,function(){return this})});var lf=Gr({nodeDimensionsIncludeLabels:!1}),Kl={layoutDimensions:function(o){var c;if(o=lf(o),this.takesUpSpace())if(o.nodeDimensionsIncludeLabels){var d=this.boundingBox();c={w:d.w,h:d.h}}else c={w:this.outerWidth(),h:this.outerHeight()};else c={w:0,h:0};return(0===c.w||0===c.h)&&(c.w=c.h=1),c},layoutPositions:function(o,c,d){var f=this.nodes().filter(function(K){return!K.isParent()}),p=this.cy(),g=c.eles,y=function(Y){return Y.id()},b=hr(d,y);o.emit({type:"layoutstart",layout:o}),o.animations=[];var w=c.spacingFactor&&1!==c.spacingFactor,E=function(){if(!w)return null;for(var Y=qr(),H=0;H<f.length;H++){var U=b(f[H],H);cC(Y,U.x,U.y)}return Y}(),S=hr(function(K,Y){var H=b(K,Y);return w&&(H=function(Y,H,Z){var U_x=H.x1+H.w/2,U_y=H.y1+H.h/2;return{x:U_x+(Z.x-U_x)*Y,y:U_y+(Z.y-U_y)*Y}}(Math.abs(c.spacingFactor),E,H)),null!=c.transform&&(H=c.transform(K,H)),H},y);if(c.animate){for(var M=0;M<f.length;M++){var A=f[M],I=S(A,M);if(null==c.animateFilter||c.animateFilter(A,M)){var F=A.animation({position:I,duration:c.animationDuration,easing:c.animationEasing});o.animations.push(F)}else A.position(I)}if(c.fit){var L=p.animation({fit:{boundingBox:g.boundingBoxAt(S),padding:c.padding},duration:c.animationDuration,easing:c.animationEasing});o.animations.push(L)}else if(void 0!==c.zoom&&void 0!==c.pan){var z=p.animation({zoom:c.zoom,pan:c.pan,duration:c.animationDuration,easing:c.animationEasing});o.animations.push(z)}o.animations.forEach(function(K){return K.play()}),o.one("layoutready",c.ready),o.emit({type:"layoutready",layout:o}),iu.all(o.animations.map(function(K){return K.promise()})).then(function(){o.one("layoutstop",c.stop),o.emit({type:"layoutstop",layout:o})})}else f.positions(S),c.fit&&p.fit(c.eles,c.padding),null!=c.zoom&&p.zoom(c.zoom),c.pan&&p.pan(c.pan),o.one("layoutready",c.ready),o.emit({type:"layoutready",layout:o}),o.one("layoutstop",c.stop),o.emit({type:"layoutstop",layout:o});return this},layout:function(o){return this.cy().makeLayout(qt({},o,{eles:this}))}};function Ty(u,o,c){var p,d=c._private,f=d.styleCache=d.styleCache||[];return null!=(p=f[u])||(p=f[u]=o(c)),p}function Cd(u,o){return u=rl(u),function(d){return Ty(u,o,d)}}function xd(u,o){u=rl(u);var c=function(f){return o.call(f)};return function(){var f=this[0];if(f)return Ty(u,c,f)}}Kl.createLayout=Kl.makeLayout=Kl.layout;var Fr={recalculateRenderedStyle:function(o){var c=this.cy(),d=c.renderer(),f=c.styleEnabled();return d&&f&&d.recalculateRenderedStyle(this,o),this},dirtyStyleCache:function(){var d,o=this.cy(),c=function(p){return p._private.styleCache=null};return o.hasCompoundNodes()?((d=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(d.connectedEdges()),d.forEach(c)):this.forEach(function(f){c(f),f.connectedEdges().forEach(c)}),this},updateStyle:function(o){var c=this._private.cy;if(!c.styleEnabled())return this;if(c.batching())return c._private.batchStyleEles.merge(this),this;var p=this;o=!(!o&&void 0!==o),c.hasCompoundNodes()&&(p=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var g=p;return o?g.emitAndNotify("style"):g.emit("style"),p.forEach(function(y){return y._private.styleDirty=!0}),this},cleanStyle:function(){var o=this.cy();if(o.styleEnabled())for(var c=0;c<this.length;c++){var d=this[c];d._private.styleDirty&&(d._private.styleDirty=!1,o.style().apply(d))}},parsedStyle:function(o){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],d=this[0],f=d.cy();if(f.styleEnabled()&&d){this.cleanStyle();var p=d._private.style[o];return p??(c?f.style().getDefaultProperty(o):null)}},numericStyle:function(o){var c=this[0];if(c.cy().styleEnabled()&&c){var d=c.pstyle(o);return void 0!==d.pfValue?d.pfValue:d.value}},numericStyleUnits:function(o){var c=this[0];if(c.cy().styleEnabled()&&c)return c.pstyle(o).units},renderedStyle:function(o){var c=this.cy();if(!c.styleEnabled())return this;var d=this[0];return d?c.style().getRenderedStyle(d,o):void 0},style:function(o,c){var d=this.cy();if(!d.styleEnabled())return this;var p=d.style();if(tt(o))p.applyBypass(this,o,!1),this.emitAndNotify("style");else if(Ae(o)){if(void 0===c){var y=this[0];return y?p.getStylePropertyValue(y,o):void 0}p.applyBypass(this,o,c,!1),this.emitAndNotify("style")}else if(void 0===o){var b=this[0];return b?p.getRawStyle(b):void 0}return this},removeStyle:function(o){var c=this.cy();if(!c.styleEnabled())return this;var f=c.style(),p=this;if(void 0===o)for(var g=0;g<p.length;g++)f.removeAllBypasses(p[g],!1);else{o=o.split(/\s+/);for(var b=0;b<p.length;b++)f.removeBypasses(p[b],o,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var o=this.cy();if(!o.styleEnabled())return 1;var c=o.hasCompoundNodes(),d=this[0];if(d){var f=d._private,p=d.pstyle("opacity").value;if(!c)return p;var g=f.data.parent?d.parents():null;if(g)for(var y=0;y<g.length;y++)p*=g[y].pstyle("opacity").value;return p}},transparent:function(){if(!this.cy().styleEnabled())return!1;var c=this[0],d=c.cy().hasCompoundNodes();return c?d?0===c.effectiveOpacity():0===c.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function cf(u,o){var d=u._private.data.parent?u.parents():null;if(d)for(var f=0;f<d.length;f++)if(!o(d[f]))return!1;return!0}function gg(u){var o=u.ok,c=u.edgeOkViaNode||u.ok,d=u.parentOk||u.ok;return function(){var f=this.cy();if(!f.styleEnabled())return!0;var p=this[0],g=f.hasCompoundNodes();if(p){var y=p._private;if(!o(p))return!1;if(p.isNode())return!g||cf(p,d);var b=y.source,_=y.target;return c(b)&&(!g||cf(b,c))&&(b===_||c(_)&&(!g||cf(_,c)))}}}var Ea=Cd("eleTakesUpSpace",function(u){return"element"===u.pstyle("display").value&&0!==u.width()&&(!u.isNode()||0!==u.height())});Fr.takesUpSpace=xd("takesUpSpace",gg({ok:Ea}));var Dd=Cd("eleInteractive",function(u){return"yes"===u.pstyle("events").value&&"visible"===u.pstyle("visibility").value&&Ea(u)}),VC=Cd("parentInteractive",function(u){return"visible"===u.pstyle("visibility").value&&Ea(u)});Fr.interactive=xd("interactive",gg({ok:Dd,parentOk:VC,edgeOkViaNode:Ea})),Fr.noninteractive=function(){var u=this[0];if(u)return!u.interactive()};var Ay=Cd("eleVisible",function(u){return"visible"===u.pstyle("visibility").value&&0!==u.pstyle("opacity").pfValue&&Ea(u)});Fr.visible=xd("visible",gg({ok:Ay,edgeOkViaNode:Ea})),Fr.hidden=function(){var u=this[0];if(u)return!u.visible()},Fr.isBundledBezier=xd("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Fr.bypass=Fr.css=Fr.style,Fr.renderedCss=Fr.renderedStyle,Fr.removeBypass=Fr.removeCss=Fr.removeStyle,Fr.pstyle=Fr.parsedStyle;var Xs={};function Iy(u){return function(){var o=arguments,c=[];if(2===o.length){var d=o[0],f=o[1];this.on(u.event,d,f)}else if(1===o.length&&ht(o[0])){var p=o[0];this.on(u.event,p)}else if(0===o.length||1===o.length&&Mt(o[0])){for(var g=1===o.length?o[0]:null,y=0;y<this.length;y++){var b=this[y],_=!u.ableField||b._private[u.ableField],w=b._private[u.field]!=u.value;if(u.overrideAble){var x=u.overrideAble(b);if(void 0!==x&&(_=x,!x))return this}_&&(b._private[u.field]=u.value,w&&c.push(b))}var E=this.spawn(c);E.updateStyle(),E.emit(u.event),g&&E.emit(g)}return this}}function bt(u){Xs[u.field]=function(){var o=this[0];if(o){if(u.overrideField){var c=u.overrideField(o);if(void 0!==c)return c}return o._private[u.field]}},Xs[u.on]=Iy({event:u.on,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!0}),Xs[u.off]=Iy({event:u.off,field:u.field,ableField:u.ableField,overrideAble:u.overrideAble,value:!1})}bt({field:"locked",overrideField:function(o){return!!o.cy().autolock()||void 0},on:"lock",off:"unlock"}),bt({field:"grabbable",overrideField:function(o){return!o.cy().autoungrabify()&&!o.pannable()&&void 0},on:"grabify",off:"ungrabify"}),bt({field:"selected",ableField:"selectable",overrideAble:function(o){return!o.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),bt({field:"selectable",overrideField:function(o){return!o.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Xs.deselect=Xs.unselect,Xs.grabbed=function(){var u=this[0];if(u)return u._private.grabbed},bt({field:"active",on:"activate",off:"unactivate"}),bt({field:"pannable",on:"panify",off:"unpanify"}),Xs.inactive=function(){var u=this[0];if(u)return!u._private.active};var Lr={},Ry=function(o){return function(d){for(var p=[],g=0;g<this.length;g++){var y=this[g];if(y.isNode()){for(var b=!1,_=y.connectedEdges(),w=0;w<_.length;w++){var x=_[w],E=x.source(),S=x.target();if(o.noIncomingEdges&&S===y&&E!==y||o.noOutgoingEdges&&E===y&&S!==y){b=!0;break}}b||p.push(y)}}return this.spawn(p,!0).filter(d)}},mg=function(o){return function(c){for(var f=[],p=0;p<this.length;p++){var g=this[p];if(g.isNode())for(var y=g.connectedEdges(),b=0;b<y.length;b++){var _=y[b],w=_.source(),x=_.target();o.outgoing&&w===g?(f.push(_),f.push(x)):o.incoming&&x===g&&(f.push(_),f.push(w))}}return this.spawn(f,!0).filter(c)}},_s=function(o){return function(c){for(var d=this,f=[],p={};;){var g=o.outgoing?d.outgoers():d.incomers();if(0===g.length)break;for(var y=!1,b=0;b<g.length;b++){var _=g[b],w=_.id();p[w]||(p[w]=!0,f.push(_),y=!0)}if(!y)break;d=g}return this.spawn(f,!0).filter(c)}};function Yl(u){return function(c){for(var d=[],f=0;f<this.length;f++){var g=this[f]._private[u.attr];g&&d.push(g)}return this.spawn(d,!0).filter(c)}}function Zl(u){return function(c){var d=[],f=this._private.cy,p=u||{};Ae(c)&&(c=f.$(c));for(var g=0;g<c.length;g++)for(var y=c[g]._private.edges,b=0;b<y.length;b++){var _=y[b],w=_._private.data,x=this.hasElementWithId(w.source)&&c.hasElementWithId(w.target),E=c.hasElementWithId(w.source)&&this.hasElementWithId(w.target);!x&&!E||(p.thisIsSrc||p.thisIsTgt)&&(p.thisIsSrc&&!x||p.thisIsTgt&&!E)||d.push(_)}return this.spawn(d,!0)}}function Xl(u){return u=qt({},{codirected:!1},u),function(d){for(var f=[],p=this.edges(),g=u,y=0;y<p.length;y++)for(var _=p[y]._private,w=_.source,x=w._private.data.id,E=_.data.target,S=w._private.edges,M=0;M<S.length;M++){var A=S[M],I=A._private.data,R=I.target,F=I.source,L=R===E&&F===x;(g.codirected&&L||!g.codirected&&(L||x===R&&E===F))&&f.push(A)}return this.spawn(f,!0).filter(d)}}Lr.clearTraversalCache=function(){for(var u=0;u<this.length;u++)this[u]._private.traversalCache=null},qt(Lr,{roots:Ry({noIncomingEdges:!0}),leaves:Ry({noOutgoingEdges:!0}),outgoers:po(mg({outgoing:!0}),"outgoers"),successors:_s({outgoing:!0}),incomers:po(mg({incoming:!0}),"incomers"),predecessors:_s({incoming:!0})}),qt(Lr,{neighborhood:po(function(u){for(var o=[],c=this.nodes(),d=0;d<c.length;d++)for(var f=c[d],p=f.connectedEdges(),g=0;g<p.length;g++){var y=p[g],b=y.source(),_=y.target(),w=f===b?_:b;w.length>0&&o.push(w[0]),o.push(y[0])}return this.spawn(o,!0).filter(u)},"neighborhood"),closedNeighborhood:function(o){return this.neighborhood().add(this).filter(o)},openNeighborhood:function(o){return this.neighborhood(o)}}),Lr.neighbourhood=Lr.neighborhood,Lr.closedNeighbourhood=Lr.closedNeighborhood,Lr.openNeighbourhood=Lr.openNeighborhood,qt(Lr,{source:po(function(o){var d,c=this[0];return c&&(d=c._private.source||c.cy().collection()),d&&o?d.filter(o):d},"source"),target:po(function(o){var d,c=this[0];return c&&(d=c._private.target||c.cy().collection()),d&&o?d.filter(o):d},"target"),sources:Yl({attr:"source"}),targets:Yl({attr:"target"})}),qt(Lr,{edgesWith:po(Zl(),"edgesWith"),edgesTo:po(Zl({thisIsSrc:!0}),"edgesTo")}),qt(Lr,{connectedEdges:po(function(u){for(var o=[],d=0;d<this.length;d++){var f=this[d];if(f.isNode())for(var p=f._private.edges,g=0;g<p.length;g++)o.push(p[g])}return this.spawn(o,!0).filter(u)},"connectedEdges"),connectedNodes:po(function(u){for(var o=[],d=0;d<this.length;d++){var f=this[d];!f.isEdge()||(o.push(f.source()[0]),o.push(f.target()[0]))}return this.spawn(o,!0).filter(u)},"connectedNodes"),parallelEdges:po(Xl(),"parallelEdges"),codirectedEdges:po(Xl({codirected:!0}),"codirectedEdges")}),qt(Lr,{components:function(o){var c=this,d=c.cy(),f=d.collection(),p=null==o?c.nodes():o.nodes(),g=[];null!=o&&p.empty()&&(p=o.sources());var y=function(w,x){f.merge(w),p.unmerge(w),x.merge(w)};if(p.empty())return c.spawn();var b=function(){var w=d.collection();g.push(w);var x=p[0];y(x,w),c.bfs({directed:!1,roots:x,visit:function(S){return y(S,w)}}),w.forEach(function(E){E.connectedEdges().forEach(function(S){c.has(S)&&w.has(S.source())&&w.has(S.target())&&w.merge(S)})})};do{b()}while(p.length>0);return g},component:function(){var o=this[0];return o.cy().mutableElements().components(o)[0]}}),Lr.componentsOf=Lr.components;var Nr=function(o,c){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==o){var p=new uo,g=!1;if(c){if(c.length>0&&tt(c[0])&&!Ai(c[0])){g=!0;for(var y=[],b=new si,_=0,w=c.length;_<w;_++){var x=c[_];null==x.data&&(x.data={});var E=x.data;if(null==E.id)E.id=ry();else if(o.hasElementWithId(E.id)||b.has(E.id))continue;var S=new Gc(o,x,!1);y.push(S),b.add(E.id)}c=y}}else c=[];this.length=0;for(var M=0,A=c.length;M<A;M++){var I=c[M][0];if(null!=I){var R=I._private.data.id;(!d||!p.has(R))&&(d&&p.set(R,{index:this.length,ele:I}),this[this.length]=I,this.length++)}}this._private={eles:this,cy:o,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(F){this.lazyMap=F},rebuildMap:function(){for(var L=this.lazyMap=new uo,z=this.eles,K=0;K<z.length;K++){var Y=z[K];L.set(Y.id(),{index:K,ele:Y})}}},d&&(this._private.map=p),g&&!f&&this.restore()}else Pi("A collection must have a reference to the core")},Di=Gc.prototype=Nr.prototype=Object.create(Array.prototype);Di.instanceString=function(){return"collection"},Di.spawn=function(u,o){return new Nr(this.cy(),u,o)},Di.spawnSelf=function(){return this.spawn(this)},Di.cy=function(){return this._private.cy},Di.renderer=function(){return this._private.cy.renderer()},Di.element=function(){return this[0]},Di.collection=function(){return Oi(this)?this:new Nr(this._private.cy,[this])},Di.unique=function(){return new Nr(this._private.cy,this,!0)},Di.hasElementWithId=function(u){return this._private.map.has(u=""+u)},Di.getElementById=function(u){var o=this._private.cy,c=this._private.map.get(u=""+u);return c?c.ele:new Nr(o)},Di.$id=Di.getElementById,Di.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Di.indexOf=function(u){return this._private.map.get(u[0]._private.data.id).index},Di.indexOfId=function(u){return this._private.map.get(u=""+u).index},Di.json=function(u){var o=this.element(),c=this.cy();if(null==o&&u)return this;if(null!=o){var d=o._private;if(tt(u)){if(c.startBatch(),u.data){o.data(u.data);var f=d.data;if(o.isEdge()){var p=!1,g={},y=u.data.source,b=u.data.target;null!=y&&y!=f.source&&(g.source=""+y,p=!0),null!=b&&b!=f.target&&(g.target=""+b,p=!0),p&&(o=o.move(g))}else{var w=u.data.parent;"parent"in u.data&&(null!=w||null!=f.parent)&&w!=f.parent&&(void 0===w&&(w=null),null!=w&&(w=""+w),o=o.move({parent:w}))}}u.position&&o.position(u.position);var x=function(A,I,R){var F=u[A];null!=F&&F!==d[A]&&(F?o[I]():o[R]())};return x("removed","remove","restore"),x("selected","select","unselect"),x("selectable","selectify","unselectify"),x("locked","lock","unlock"),x("grabbable","grabify","ungrabify"),x("pannable","panify","unpanify"),null!=u.classes&&o.classes(u.classes),c.endBatch(),this}if(void 0===u){var E={data:xo(d.data),position:xo(d.position),group:d.group,removed:d.removed,selected:d.selected,selectable:d.selectable,locked:d.locked,grabbable:d.grabbable,pannable:d.pannable,classes:""},S=0;return d.classes.forEach(function(M){return E.classes+=0==S++?M:" "+M}),E}}},Di.jsons=function(){for(var u=[],o=0;o<this.length;o++){var d=this[o].json();u.push(d)}return u},Di.clone=function(){for(var u=this.cy(),o=[],c=0;c<this.length;c++){var f=this[c].json(),p=new Gc(u,f,!1);o.push(p)}return new Nr(u,o)},Di.copy=Di.clone,Di.restore=function(){for(var y,u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=this,d=c.cy(),f=d._private,p=[],g=[],b=0,_=c.length;b<_;b++){var w=c[b];o&&!w.removed()||(w.isNode()?p.push(w):g.push(w))}y=p.concat(g);var x,E=function(){y.splice(x,1),x--};for(x=0;x<y.length;x++){var S=y[x],M=S._private,A=M.data;if(S.clearTraversalCache(),o||M.removed)if(void 0===A.id)A.id=ry();else if(Le(A.id))A.id=""+A.id;else{if(vt(A.id)||!Ae(A.id)){Pi("Can not create element with invalid string ID `"+A.id+"`"),E();continue}if(d.hasElementWithId(A.id)){Pi("Can not create second element with ID `"+A.id+"`"),E();continue}}var I=A.id;if(S.isNode()){var R=M.position;null==R.x&&(R.x=0),null==R.y&&(R.y=0)}if(S.isEdge()){for(var F=S,L=["source","target"],z=L.length,K=!1,Y=0;Y<z;Y++){var H=L[Y],Z=A[H];Le(Z)&&(Z=A[H]=""+A[H]),null==Z||""===Z?(Pi("Can not create edge `"+I+"` with unspecified "+H),K=!0):d.hasElementWithId(Z)||(Pi("Can not create edge `"+I+"` with nonexistant "+H+" `"+Z+"`"),K=!0)}if(K){E();continue}var U=d.getElementById(A.source),Q=d.getElementById(A.target);U.same(Q)?U._private.edges.push(F):(U._private.edges.push(F),Q._private.edges.push(F)),F._private.source=U,F._private.target=Q}M.map=new uo,M.map.set(I,{ele:S,index:0}),M.removed=!1,o&&d.addToPool(S)}for(var J=0;J<p.length;J++){var W=p[J],oe=W._private.data;Le(oe.parent)&&(oe.parent=""+oe.parent);var X=oe.parent,me=null!=X;if(me||W._private.parent){var ae=W._private.parent?d.collection().merge(W._private.parent):d.getElementById(X);if(ae.empty())oe.parent=void 0;else if(ae[0].removed())ti("Node added with missing parent, reference to parent removed"),oe.parent=void 0,W._private.parent=null;else{for(var de=!1,be=ae;!be.empty();){if(W.same(be)){de=!0,oe.parent=void 0;break}be=be.parent()}de||(ae[0]._private.children.push(W),W._private.parent=ae[0],f.hasCompoundNodes=!0)}}}if(y.length>0){for(var Se=y.length===c.length?c:new Nr(d,y),Fe=0;Fe<Se.length;Fe++){var Ee=Se[Fe];Ee.isNode()||(Ee.parallelEdges().clearTraversalCache(),Ee.source().clearTraversalCache(),Ee.target().clearTraversalCache())}(f.hasCompoundNodes?d.collection().merge(Se).merge(Se.connectedNodes()).merge(Se.parent()):Se).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(u),u?Se.emitAndNotify("add"):o&&Se.emit("add")}return c},Di.removed=function(){var u=this[0];return u&&u._private.removed},Di.inside=function(){var u=this[0];return u&&!u._private.removed},Di.remove=function(){var u=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=this,d=[],f={},p=c._private.cy;function g(X){for(var me=X._private.edges,ae=0;ae<me.length;ae++)b(me[ae])}function y(X){for(var me=X._private.children,ae=0;ae<me.length;ae++)b(me[ae])}function b(X){var me=f[X.id()];o&&X.removed()||me||(f[X.id()]=!0,X.isNode()?(d.push(X),g(X),y(X)):d.unshift(X))}for(var _=0,w=c.length;_<w;_++){var x=c[_];b(x)}function E(X,me){wa(X._private.edges,me),X.clearTraversalCache()}function S(X){X.clearTraversalCache()}var M=[];function A(X,me){me=me[0];var ae=(X=X[0])._private.children,de=X.id();wa(ae,me),me._private.parent=null,M.ids[de]||(M.ids[de]=!0,M.push(X))}M.ids={},c.dirtyCompoundBoundsCache(),o&&p.removeFromPool(d);for(var I=0;I<d.length;I++){var R=d[I];if(R.isEdge()){var F=R.source()[0],L=R.target()[0];E(F,R),E(L,R);for(var z=R.parallelEdges(),K=0;K<z.length;K++){var Y=z[K];S(Y),Y.isBundledBezier()&&Y.dirtyBoundingBoxCache()}}else{var H=R.parent();0!==H.length&&A(H,R)}o&&(R._private.removed=!0)}var Z=p._private.elements;p._private.hasCompoundNodes=!1;for(var U=0;U<Z.length;U++){var Q=Z[U];if(Q.isParent()){p._private.hasCompoundNodes=!0;break}}var J=new Nr(this.cy(),d);J.size()>0&&(u?J.emitAndNotify("remove"):o&&J.emit("remove"));for(var W=0;W<M.length;W++){var oe=M[W];(!o||!oe.removed())&&oe.updateStyle()}return J},Di.move=function(u){var o=this._private.cy,c=this,d=!1,f=!1,p=function(M){return null==M?M:""+M};if(void 0!==u.source||void 0!==u.target){var g=p(u.source),y=p(u.target),b=null!=g&&o.hasElementWithId(g),_=null!=y&&o.hasElementWithId(y);(b||_)&&(o.batch(function(){c.remove(d,f),c.emitAndNotify("moveout");for(var S=0;S<c.length;S++){var M=c[S],A=M._private.data;M.isEdge()&&(b&&(A.source=g),_&&(A.target=y))}c.restore(d,f)}),c.emitAndNotify("move"))}else if(void 0!==u.parent){var w=p(u.parent);if(null===w||o.hasElementWithId(w)){var E=null===w?void 0:w;o.batch(function(){var S=c.remove(d,f);S.emitAndNotify("moveout");for(var M=0;M<c.length;M++){var A=c[M],I=A._private.data;A.isNode()&&(I.parent=E)}S.restore(d,f)}),c.emitAndNotify("move")}}return this},[fy,CC,ru,Ul,pd,TC,gd,LC,fg,My,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var o=this[0];if(o)return o._private.group}},du,Kl,Fr,Xs,Lr].forEach(function(u){qt(Di,u)});var hu={add:function(o){var c,d=this;if(Ge(o)){var f=o;if(f._private.cy===d)c=f.restore();else{for(var p=[],g=0;g<f.length;g++)p.push(f[g].json());c=new Nr(d,p)}}else if(Mt(o))c=new Nr(d,o);else if(tt(o)&&(Mt(o.nodes)||Mt(o.edges))){for(var _=o,w=[],x=["nodes","edges"],E=0,S=x.length;E<S;E++){var M=x[E],A=_[M];if(Mt(A))for(var I=0,R=A.length;I<R;I++){var F=qt({group:M},A[I]);w.push(F)}}c=new Nr(d,w)}else c=new Gc(d,o).collection();return c},remove:function(o){return Ge(o)||Ae(o)&&(o=this.$(o)),o.remove()}},HC=function(){function u(d){return-d.tension*d.x-d.friction*d.v}function o(d,f,p){var g={x:d.x+p.dx*f,v:d.v+p.dv*f,tension:d.tension,friction:d.friction};return{dx:g.v,dv:u(g)}}function c(d,f){var p={dx:d.v,dv:u(d)},g=o(d,.5*f,p),y=o(d,.5*f,g),b=o(d,f,y),w=1/6*(p.dv+2*(g.dv+y.dv)+b.dv);return d.x=d.x+1/6*(p.dx+2*(g.dx+y.dx)+b.dx)*f,d.v=d.v+w*f,d}return function d(f,p,g){var E,S,M,y={x:-1,v:0,tension:null,friction:null},b=[0],_=0,w=1e-4;for(f=parseFloat(f)||500,p=parseFloat(p)||20,g=g||null,y.tension=f,y.friction=p,S=(E=null!==g)?(_=d(f,p))/g*.016:.016;M=c(M||y,S),b.push(1+M.x),_+=16,Math.abs(M.x)>w&&Math.abs(M.v)>w;);return E?function(A){return b[A*(b.length-1)|0]}:_}}(),Ie=function(o,c,d,f){var p=function MA(u,o,c,d){var f=4,p=.001,g=1e-7,y=10,b=11,_=1/(b-1),w=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;u=Math.min(u,1),c=Math.min(c,1),u=Math.max(u,0),c=Math.max(c,0);var E=w?new Float32Array(b):new Array(b);function S(Q,J){return 1-3*J+3*Q}function M(Q,J){return 3*J-6*Q}function A(Q){return 3*Q}function I(Q,J,W){return((S(J,W)*Q+M(J,W))*Q+A(J))*Q}function R(Q,J,W){return 3*S(J,W)*Q*Q+2*M(J,W)*Q+A(J)}function F(Q,J){for(var W=0;W<f;++W){var oe=R(J,u,c);if(0===oe)return J;J-=(I(J,u,c)-Q)/oe}return J}function L(){for(var Q=0;Q<b;++Q)E[Q]=I(Q*_,u,c)}function z(Q,J,W){var oe,X,me=0;do{(oe=I(X=J+(W-J)/2,u,c)-Q)>0?W=X:J=X}while(Math.abs(oe)>g&&++me<y);return X}function K(Q){for(var J=0,W=1,oe=b-1;W!==oe&&E[W]<=Q;++W)J+=_;--W;var me=J+(Q-E[W])/(E[W+1]-E[W])*_,ae=R(me,u,c);return ae>=p?F(Q,me):0===ae?me:z(Q,J,J+_)}var Y=!1;function H(){Y=!0,(u!==o||c!==d)&&L()}var Z=function(J){return Y||H(),u===o&&c===d?J:0===J?0:1===J?1:I(K(J),o,d)};Z.getControlPoints=function(){return[{x:u,y:o},{x:c,y:d}]};var U="generateBezier("+[u,o,c,d]+")";return Z.toString=function(){return U},Z}(o,c,d,f);return function(g,y,b){return g+(y-g)*p(b)}},vg={linear:function(o,c,d){return o+(c-o)*d},ease:Ie(.25,.1,.25,1),"ease-in":Ie(.42,0,1,1),"ease-out":Ie(0,0,.58,1),"ease-in-out":Ie(.42,0,.58,1),"ease-in-sine":Ie(.47,0,.745,.715),"ease-out-sine":Ie(.39,.575,.565,1),"ease-in-out-sine":Ie(.445,.05,.55,.95),"ease-in-quad":Ie(.55,.085,.68,.53),"ease-out-quad":Ie(.25,.46,.45,.94),"ease-in-out-quad":Ie(.455,.03,.515,.955),"ease-in-cubic":Ie(.55,.055,.675,.19),"ease-out-cubic":Ie(.215,.61,.355,1),"ease-in-out-cubic":Ie(.645,.045,.355,1),"ease-in-quart":Ie(.895,.03,.685,.22),"ease-out-quart":Ie(.165,.84,.44,1),"ease-in-out-quart":Ie(.77,0,.175,1),"ease-in-quint":Ie(.755,.05,.855,.06),"ease-out-quint":Ie(.23,1,.32,1),"ease-in-out-quint":Ie(.86,0,.07,1),"ease-in-expo":Ie(.95,.05,.795,.035),"ease-out-expo":Ie(.19,1,.22,1),"ease-in-out-expo":Ie(1,0,0,1),"ease-in-circ":Ie(.6,.04,.98,.335),"ease-out-circ":Ie(.075,.82,.165,1),"ease-in-out-circ":Ie(.785,.135,.15,.86),spring:function(o,c,d){if(0===d)return vg.linear;var f=HC(o,c,d);return function(p,g,y){return p+(g-p)*f(y)}},"cubic-bezier":Ie};function zC(u,o,c,d,f){if(1===d||o===c)return c;var p=f(o,c,d);return null==u||((u.roundValue||u.color)&&(p=Math.round(p)),void 0!==u.min&&(p=Math.max(p,u.min)),void 0!==u.max&&(p=Math.min(p,u.max))),p}function $C(u,o){return null!=u.pfValue||null!=u.value?null==u.pfValue||null!=o&&"%"===o.type.units?u.value:u.pfValue:u}function Ed(u,o,c,d,f){var p=null!=f?f.type:null;c<0?c=0:c>1&&(c=1);var g=$C(u,f),y=$C(o,f);if(Le(g)&&Le(y))return zC(p,g,y,c,d);if(Mt(g)&&Mt(y)){for(var b=[],_=0;_<y.length;_++){var w=g[_],x=y[_];if(null!=w&&null!=x){var E=zC(p,w,x,c,d);b.push(E)}else b.push(x)}return b}}function TA(u,o,c,d){var f=!d,p=u._private,g=o._private,y=g.easing,b=g.startTime,w=(d?u:u.cy()).style();if(!g.easingImpl)if(null==y)g.easingImpl=vg.linear;else{var x,S,M;x=Ae(y)?w.parse("transition-timing-function",y).value:y,Ae(x)?(S=x,M=[]):(S=x[1],M=x.slice(2).map(function(Se){return+Se})),M.length>0?("spring"===S&&M.push(g.duration),g.easingImpl=vg[S].apply(null,M)):g.easingImpl=vg[S]}var I,A=g.easingImpl;if(I=0===g.duration?1:(c-b)/g.duration,g.applying&&(I=g.progress),I<0?I=0:I>1&&(I=1),null==g.delay){var R=g.startPosition,F=g.position;if(F&&f&&!u.locked()){var L={};uf(R.x,F.x)&&(L.x=Ed(R.x,F.x,I,A)),uf(R.y,F.y)&&(L.y=Ed(R.y,F.y,I,A)),u.position(L)}var z=g.startPan,K=g.pan,Y=p.pan,H=null!=K&&d;H&&(uf(z.x,K.x)&&(Y.x=Ed(z.x,K.x,I,A)),uf(z.y,K.y)&&(Y.y=Ed(z.y,K.y,I,A)),u.emit("pan"));var Z=g.startZoom,U=g.zoom,Q=null!=U&&d;Q&&(uf(Z,U)&&(p.zoom=Kt(p.minZoom,Ed(Z,U,I,A),p.maxZoom)),u.emit("zoom")),(H||Q)&&u.emit("viewport");var J=g.style;if(J&&J.length>0&&f){for(var W=0;W<J.length;W++){var oe=J[W],X=oe.name,ae=g.startStyle[X],be=Ed(ae,oe,I,A,w.properties[ae.name]);w.overrideBypass(u,X,be)}u.emit("style")}}return g.progress=I,I}function uf(u,o){return!!(null!=u&&null!=o&&(Le(u)&&Le(o)||u&&o))}function AA(u,o,c,d){var f=o._private;f.started=!0,f.startTime=c-f.progress*f.duration}function fu(u,o){var c=o._private.aniEles,d=[];function f(w,x){var E=w._private,S=E.animation.current,M=E.animation.queue,A=!1;if(0===S.length){var I=M.shift();I&&S.push(I)}for(var R=function(Y){for(var H=Y.length-1;H>=0;H--)(0,Y[H])();Y.splice(0,Y.length)},F=S.length-1;F>=0;F--){var L=S[F],z=L._private;z.stopped?(S.splice(F,1),z.hooked=!1,z.playing=!1,z.started=!1,R(z.frames)):!z.playing&&!z.applying||(z.playing&&z.applying&&(z.applying=!1),z.started||AA(0,L,u),TA(w,L,u,x),z.applying&&(z.applying=!1),R(z.frames),null!=z.step&&z.step(u),L.completed()&&(S.splice(F,1),z.hooked=!1,z.playing=!1,z.started=!1,R(z.completes)),A=!0)}return!x&&0===S.length&&0===M.length&&d.push(w),A}for(var p=!1,g=0;g<c.length;g++){var b=f(c[g]);p=p||b}var _=f(o,!0);(p||_)&&(c.length>0?o.notify("draw",c):o.notify("draw")),c.unmerge(d),o.emit("step")}var kA={animate:An.animate(),animation:An.animation(),animated:An.animated(),clearQueue:An.clearQueue(),delay:An.delay(),delayAnimation:An.delayAnimation(),stop:An.stop(),addToAnimationPool:function(o){!this.styleEnabled()||this._private.aniEles.merge(o)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var o=this;if(o._private.animationsRunning=!0,o.styleEnabled()){var d=o.renderer();d&&d.beforeRender?d.beforeRender(function(p,g){fu(g,o)},d.beforeRenderPriorities.animations):function c(){!o._private.animationsRunning||nl(function(p){fu(p,o),c()})}()}}},IA={qualifierCompare:function(o,c){return null==o||null==c?null==o&&null==c:o.sameText(c)},eventMatches:function(o,c,d){var f=c.qualifier;return null==f||o!==d.target&&Ai(d.target)&&f.matches(d.target)},addEventFields:function(o,c){c.cy=o,c.target=o},callbackContext:function(o,c,d){return null!=c.qualifier?d.target:o}},Zi=function(o){return Ae(o)?new Yo(o):o},df={createEmitter:function(){var o=this._private;return o.emitter||(o.emitter=new Da(IA,this)),this},emitter:function(){return this._private.emitter},on:function(o,c,d){return this.emitter().on(o,Zi(c),d),this},removeListener:function(o,c,d){return this.emitter().removeListener(o,Zi(c),d),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(o,c,d){return this.emitter().one(o,Zi(c),d),this},once:function(o,c,d){return this.emitter().one(o,Zi(c),d),this},emit:function(o,c){return this.emitter().emit(o,c),this},emitAndNotify:function(o,c){return this.emit(o),this.notify(o,c),this}};An.eventAliasesOn(df);var Ql={png:function(o){return this._private.renderer.png(o=o||{})},jpg:function(o){var c=this._private.renderer;return(o=o||{}).bg=o.bg||"#fff",c.jpg(o)}};Ql.jpeg=Ql.jpg;var yg={layout:function(o){var c=this;if(null!=o)if(null!=o.name){var p,d=o.name,f=c.extension("layout",d);if(null!=f)return p=Ae(o.eles)?c.$(o.eles):null!=o.eles?o.eles:c.$(),new f(qt({},o,{cy:c,eles:p}));Pi("No such layout `"+d+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Pi("A `name` must be specified to make a layout");else Pi("Layout options must be specified to make a layout")}};yg.createLayout=yg.makeLayout=yg.layout;var jC={notify:function(o,c){var d=this._private;if(this.batching()){d.batchNotifications=d.batchNotifications||{};var f=d.batchNotifications[o]=d.batchNotifications[o]||this.collection();null!=c&&f.merge(c)}else if(d.notificationsEnabled){var p=this.renderer();this.destroyed()||!p||p.notify(o,c)}},notifications:function(o){var c=this._private;return void 0===o?c.notificationsEnabled:(c.notificationsEnabled=!!o,this)},noNotifications:function(o){this.notifications(!1),o(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var o=this._private;return null==o.batchCount&&(o.batchCount=0),0===o.batchCount&&(o.batchStyleEles=this.collection(),o.batchNotifications={}),o.batchCount++,this},endBatch:function(){var o=this._private;if(0===o.batchCount)return this;if(o.batchCount--,0===o.batchCount){o.batchStyleEles.updateStyle();var c=this.renderer();Object.keys(o.batchNotifications).forEach(function(d){var f=o.batchNotifications[d];f.empty()?c.notify(d):c.notify(d,f)})}return this},batch:function(o){return this.startBatch(),o(),this.endBatch(),this},batchData:function(o){var c=this;return this.batch(function(){for(var d=Object.keys(o),f=0;f<d.length;f++){var p=d[f],g=o[p];c.getElementById(p).data(g)}})}},Qs=Gr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Ao={renderTo:function(o,c,d,f){return this._private.renderer.renderTo(o,c,d,f),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(o){var c=this,d=c.extension("renderer",o.name);if(null!=d){void 0!==o.wheelSensitivity&&ti("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var f=Qs(o);f.cy=c,c._private.renderer=new d(f),this.notify("init")}else Pi("Can not initialise: No such renderer `".concat(o.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var o=this;o.notify("destroy");var c=o.container();if(c)for(c._cyreg=null;c.childNodes.length>0;)c.removeChild(c.childNodes[0]);o._private.renderer=null,o.mutableElements().forEach(function(d){var f=d._private;f.rscratch={},f.rstyle={},f.animation.current=[],f.animation.queue=[]})},onRender:function(o){return this.on("render",o)},offRender:function(o){return this.off("render",o)}};Ao.invalidateDimensions=Ao.resize;var Sd={collection:function(o,c){return Ae(o)?this.$(o):Ge(o)?o.collection():Mt(o)?(c||(c={}),new Nr(this,o,c.unique,c.removed)):new Nr(this)},nodes:function(o){var c=this.$(function(d){return d.isNode()});return o?c.filter(o):c},edges:function(o){var c=this.$(function(d){return d.isEdge()});return o?c.filter(o):c},$:function(o){var c=this._private.elements;return o?c.filter(o):c.spawnSelf()},mutableElements:function(){return this._private.elements}};Sd.elements=Sd.filter=Sd.$;var xr={apply:function(u){for(var o=this,f=o._private.cy.collection(),p=0;p<u.length;p++){var g=u[p],y=o.getContextMeta(g);if(!y.empty){var b=o.getContextStyle(y),_=o.applyContextStyle(y,b,g);g._private.appliedInitStyle?o.updateTransitions(g,_.diffProps):g._private.appliedInitStyle=!0,o.updateStyleHints(g)&&f.push(g)}}return f},getPropertiesDiff:function(u,o){var c=this,d=c._private.propDiffs=c._private.propDiffs||{},f=u+"-"+o,p=d[f];if(p)return p;for(var g=[],y={},b=0;b<c.length;b++){var _=c[b],x="t"===o[b],E="t"===u[b]!==x,S=_.mappedProperties.length>0;if(E||x&&S){var M=void 0;E&&S||E?M=_.properties:S&&(M=_.mappedProperties);for(var A=0;A<M.length;A++){for(var I=M[A],R=I.name,F=!1,L=b+1;L<c.length&&("t"!==o[L]||!(F=null!=c[L].properties[I.name]));L++);!y[R]&&!F&&(y[R]=!0,g.push(R))}}}return d[f]=g,g},getContextMeta:function(u){for(var d,o=this,c="",f=u._private.styleCxtKey||"",p=0;p<o.length;p++){var g=o[p];c+=g.selector&&g.selector.matches(u)?"t":"f"}return d=o.getPropertiesDiff(f,c),u._private.styleCxtKey=c,{key:c,diffPropNames:d,empty:0===d.length}},getContextStyle:function(u){var o=u.key,d=this._private.contextStyles=this._private.contextStyles||{};if(d[o])return d[o];for(var f={_private:{key:o}},p=0;p<this.length;p++){var g=this[p];if("t"===o[p])for(var b=0;b<g.properties.length;b++){var _=g.properties[b];f[_.name]=_}}return d[o]=f,f},applyContextStyle:function(u,o,c){for(var f=u.diffPropNames,p={},g=this.types,y=0;y<f.length;y++){var b=f[y],_=o[b],w=c.pstyle(b);if(!_){if(!w)continue;_=w.bypass?{name:b,deleteBypassed:!0}:{name:b,delete:!0}}if(w!==_){if(_.mapped===g.fn&&null!=w&&null!=w.mapping&&w.mapping.value===_.value){var x=w.mapping;if((x.fnValue=_.value(c))===x.prevFnValue)continue}var S=p[b]={prev:w};this.applyParsedProperty(c,_),S.next=c.pstyle(b),S.next&&S.next.bypass&&(S.next=S.next.bypassed)}}return{diffProps:p}},updateStyleHints:function(u){var d,o=u._private,c=this,f=c.propertyGroupKeys,p=function(ft,mt,nn){return c.getPropertiesHash(ft,mt,nn)},g=o.styleKey;if(u.removed())return!1;var ft,y="nodes"===o.group,b=u._private.style;d=Object.keys(b);for(var _=0;_<f.length;_++)o.styleKeys[f[_]]=[ba,jc];for(var x=function(ft,mt){return o.styleKeys[mt][0]=Uc(ft,o.styleKeys[mt][0])},E=function(ft,mt){return o.styleKeys[mt][1]=wr(ft,o.styleKeys[mt][1])},S=function(ft,mt){x(ft,mt),E(ft,mt)},M=function(ft,mt){for(var nn=0;nn<ft.length;nn++){var Cn=ft.charCodeAt(nn);x(Cn,mt),E(Cn,mt)}},R=0;R<d.length;R++){var F=d[R],L=b[F];if(null!=L){var z=this.properties[F],K=z.type,Y=z.groupKey,H=void 0;null!=z.hashOverride?H=z.hashOverride(u,L):null!=L.pfValue&&(H=L.pfValue);var Z=null==z.enums?L.value:null,U=null!=H,W=L.units;!K.number||!U&&null==Z||K.multiple?M(L.strValue,Y):(S(-128<(ft=U?H:Z)&&ft<128&&Math.floor(ft)!==ft?2e9-(1024*ft|0):ft,Y),!U&&null!=W&&M(W,Y))}}for(var X=[ba,jc],me=0;me<f.length;me++){var de=o.styleKeys[f[me]];X[0]=Uc(de[0],X[0]),X[1]=wr(de[1],X[1])}o.styleKey=function(o,c){return 2097152*o+c}(X[0],X[1]);var be=o.styleKeys;o.labelDimsKey=il(be.labelDimensions);var Se=p(u,["label"],be.labelDimensions);if(o.labelKey=il(Se),o.labelStyleKey=il(Ih(be.commonLabel,Se)),!y){var Fe=p(u,["source-label"],be.labelDimensions);o.sourceLabelKey=il(Fe),o.sourceLabelStyleKey=il(Ih(be.commonLabel,Fe));var Ee=p(u,["target-label"],be.labelDimensions);o.targetLabelKey=il(Ee),o.targetLabelStyleKey=il(Ih(be.commonLabel,Ee))}if(y){var Re=o.styleKeys,ye=Re.pie,Me=[Re.nodeBody,Re.nodeBorder,Re.backgroundImage,Re.compound,ye].filter(function(Je){return null!=Je}).reduce(Ih,[ba,jc]);o.nodeKey=il(Me),o.hasPie=null!=ye&&ye[0]!==ba&&ye[1]!==jc}return g!==o.styleKey},clearStyleHints:function(u){var o=u._private;o.styleCxtKey="",o.styleKeys={},o.styleKey=null,o.labelKey=null,o.labelStyleKey=null,o.sourceLabelKey=null,o.sourceLabelStyleKey=null,o.targetLabelKey=null,o.targetLabelStyleKey=null,o.nodeKey=null,o.hasPie=null},applyParsedProperty:function(u,o){var p,c=this,d=o,f=u._private.style,g=c.types,y=c.properties[d.name].type,b=d.bypass,_=f[d.name],w=_&&_.bypass,x=u._private,E="mapping",S=function(Ye){return null==Ye?null:null!=Ye.pfValue?Ye.pfValue:Ye.value},M=function(){var Ye=S(_),qe=S(d);c.checkTriggers(u,d.name,Ye,qe)};if(d&&"pie"===d.name.substr(0,3)&&ti("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===o.name&&u.isEdge()&&("bezier"!==o.value&&u.isLoop()||"haystack"===o.value&&(u.source().isParent()||u.target().isParent()))&&(d=o=this.parse(o.name,"bezier",b)),d.delete)return f[d.name]=void 0,M(),!0;if(d.deleteBypassed)return _?!!_.bypass&&(_.bypassed=void 0,M(),!0):(M(),!0);if(d.deleteBypass)return _?!!_.bypass&&(f[d.name]=_.bypassed,M(),!0):(M(),!0);var A=function(){ti("Do not assign mappings to elements without corresponding data (i.e. ele `"+u.id()+"` has no mapping for property `"+d.name+"` with data field `"+d.field+"`); try a `["+d.field+"]` selector to limit scope to elements with `"+d.field+"` defined")};switch(d.mapped){case g.mapData:for(var I=d.field.split("."),R=x.data,F=0;F<I.length&&R;F++)R=R[I[F]];if(null==R)return A(),!1;var z;if(!Le(R))return ti("Do not use continuous mappers without specifying numeric data (i.e. `"+d.field+": "+R+"` for `"+u.id()+"` is non-numeric)"),!1;var K=d.fieldMax-d.fieldMin;if((z=0===K?0:(R-d.fieldMin)/K)<0?z=0:z>1&&(z=1),y.color){var Y=d.valueMin[0],Z=d.valueMin[1],U=d.valueMax[1],Q=d.valueMin[2],J=d.valueMax[2],W=d.valueMin[3]??1,oe=d.valueMax[3]??1,X=[Math.round(Y+(d.valueMax[0]-Y)*z),Math.round(Z+(U-Z)*z),Math.round(Q+(J-Q)*z),Math.round(W+(oe-W)*z)];p={bypass:d.bypass,name:d.name,value:X,strValue:"rgb("+X[0]+", "+X[1]+", "+X[2]+")"}}else{if(!y.number)return!1;p=this.parse(d.name,d.valueMin+(d.valueMax-d.valueMin)*z,d.bypass,E)}if(!p)return A(),!1;p.mapping=d,d=p;break;case g.data:for(var ae=d.field.split("."),de=x.data,be=0;be<ae.length&&de;be++)de=de[ae[be]];if(null!=de&&(p=this.parse(d.name,de,d.bypass,E)),!p)return A(),!1;p.mapping=d,d=p;break;case g.fn:var Ee=null!=d.fnValue?d.fnValue:(0,d.value)(u);if(d.prevFnValue=Ee,null==Ee)return ti("Custom function mappers may not return null (i.e. `"+d.name+"` for ele `"+u.id()+"` is null)"),!1;if(!(p=this.parse(d.name,Ee,d.bypass,E)))return ti("Custom function mappers may not return invalid values for the property type (i.e. `"+d.name+"` for ele `"+u.id()+"` is invalid)"),!1;p.mapping=xo(d),d=p;break;case void 0:break;default:return!1}return b?(d.bypassed=w?_.bypassed:_,f[d.name]=d):w?_.bypassed=d:f[d.name]=d,M(),!0},cleanElements:function(u,o){for(var c=0;c<u.length;c++){var d=u[c];if(this.clearStyleHints(d),d.dirtyCompoundBoundsCache(),d.dirtyBoundingBoxCache(),o)for(var f=d._private.style,p=Object.keys(f),g=0;g<p.length;g++){var y=p[g],b=f[y];null!=b&&(b.bypass?b.bypassed=null:f[y]=null)}else d._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(u,o){var c=this,d=u._private,f=u.pstyle("transition-property").value,p=u.pstyle("transition-duration").pfValue,g=u.pstyle("transition-delay").pfValue;if(f.length>0&&p>0){for(var y={},b=!1,_=0;_<f.length;_++){var w=f[_],x=u.pstyle(w),E=o[w];if(E){var M=E.prev,A=null!=E.next?E.next:x,I=!1,R=void 0,F=1e-6;!M||(Le(M.pfValue)&&Le(A.pfValue)?R=M.pfValue+F*(I=A.pfValue-M.pfValue):Le(M.value)&&Le(A.value)?R=M.value+F*(I=A.value-M.value):Mt(M.value)&&Mt(A.value)&&(I=M.value[0]!==A.value[0]||M.value[1]!==A.value[1]||M.value[2]!==A.value[2],R=M.strValue),I&&(y[w]=A.strValue,this.applyBypass(u,w,R),b=!0))}}if(!b)return;d.transitioning=!0,new iu(function(L){g>0?u.delayAnimation(g).play().promise().then(L):L()}).then(function(){return u.animation({style:y,duration:p,easing:u.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){c.removeBypasses(u,f),u.emitAndNotify("style"),d.transitioning=!1})}else d.transitioning&&(this.removeBypasses(u,f),u.emitAndNotify("style"),d.transitioning=!1)},checkTrigger:function(u,o,c,d,f,p){var g=this.properties[o],y=f(g);null!=y&&y(c,d)&&p(g)},checkZOrderTrigger:function(u,o,c,d){var f=this;this.checkTrigger(u,o,c,d,function(p){return p.triggersZOrder},function(){f._private.cy.notify("zorder",u)})},checkBoundsTrigger:function(u,o,c,d){this.checkTrigger(u,o,c,d,function(f){return f.triggersBounds},function(f){u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),f.triggersBoundsOfParallelBeziers&&("curve-style"===o&&("bezier"===c||"bezier"===d)||"display"===o&&("none"===c||"none"===d))&&u.parallelEdges().forEach(function(p){p.isBundledBezier()&&p.dirtyBoundingBoxCache()})})},checkTriggers:function(u,o,c,d){u.dirtyStyleCache(),this.checkZOrderTrigger(u,o,c,d),this.checkBoundsTrigger(u,o,c,d)}},Md={applyBypass:function(u,o,c,d){var p=[];if("*"===o||"**"===o){if(void 0!==c)for(var y=0;y<this.properties.length;y++){var w=this.parse(this.properties[y].name,c,!0);w&&p.push(w)}}else if(Ae(o)){var x=this.parse(o,c,!0);x&&p.push(x)}else{if(!tt(o))return!1;var E=o;d=c;for(var S=Object.keys(E),M=0;M<S.length;M++){var A=S[M],I=E[A];if(void 0===I&&(I=E[ns(A)]),void 0!==I){var R=this.parse(A,I,!0);R&&p.push(R)}}}if(0===p.length)return!1;for(var F=!1,L=0;L<u.length;L++){for(var z=u[L],K={},Y=void 0,H=0;H<p.length;H++){var Z=p[H];if(d){var U=z.pstyle(Z.name);Y=K[Z.name]={prev:U}}F=this.applyParsedProperty(z,xo(Z))||F,d&&(Y.next=z.pstyle(Z.name))}F&&this.updateStyleHints(z),d&&this.updateTransitions(z,K,!0)}return F},overrideBypass:function(u,o,c){o=ts(o);for(var d=0;d<u.length;d++){var f=u[d],p=f._private.style[o],g=this.properties[o].type,y=g.color,b=g.mutiple,_=p?null!=p.pfValue?p.pfValue:p.value:null;p&&p.bypass?(p.value=c,null!=p.pfValue&&(p.pfValue=c),p.strValue=y?"rgb("+c.join(",")+")":b?c.join(" "):""+c,this.updateStyleHints(f)):this.applyBypass(f,o,c),this.checkTriggers(f,o,_,c)}},removeAllBypasses:function(u,o){return this.removeBypasses(u,this.propertyNames,o)},removeBypasses:function(u,o,c){for(var f=0;f<u.length;f++){for(var p=u[f],g={},y=0;y<o.length;y++){var b=o[y],_=this.properties[b],w=p.pstyle(_.name);if(w&&w.bypass){var E=this.parse(b,"",!0),S=g[_.name]={prev:w};this.applyParsedProperty(p,E),S.next=p.pstyle(_.name)}}this.updateStyleHints(p),c&&this.updateTransitions(p,g,!0)}}},_g={getEmSizeInPixels:function(){var u=this.containerCss("font-size");return null!=u?parseFloat(u):1},containerCss:function(u){var c=this._private.cy.container();if(At&&c&&At.getComputedStyle)return At.getComputedStyle(c).getPropertyValue(u)}},Ma={getRenderedStyle:function(u,o){return o?this.getStylePropertyValue(u,o,!0):this.getRawStyle(u,!0)},getRawStyle:function(u,o){var c=this;if(u=u[0]){for(var d={},f=0;f<c.properties.length;f++){var p=c.properties[f],g=c.getStylePropertyValue(u,p.name,o);null!=g&&(d[p.name]=g,d[ns(p.name)]=g)}return d}},getIndexedStyle:function(u,o,c,d){return u.pstyle(o)[c][d]??u.cy().style().getDefaultProperty(o)[c][0]},getStylePropertyValue:function(u,o,c){if(u=u[0]){var f=this.properties[o];f.alias&&(f=f.pointsTo);var p=f.type,g=u.pstyle(f.name);if(g){var y=g.value,b=g.units,_=g.strValue;if(c&&p.number&&null!=y&&Le(y)){var w=u.cy().zoom(),x=function(I){return I*w},E=function(I,R){return x(I)+R},S=Mt(y);return(S?b.every(function(A){return null!=A}):null!=b)?S?y.map(function(A,I){return E(A,b[I])}).join(" "):E(y,b):S?y.map(function(A){return Ae(A)?A:""+x(A)}).join(" "):""+x(y)}if(null!=_)return _}return null}},getAnimationStartStyle:function(u,o){for(var c={},d=0;d<o.length;d++){var p=o[d].name,g=u.pstyle(p);void 0!==g&&(g=tt(g)?this.parse(p,g.strValue):this.parse(p,g)),g&&(c[p]=g)}return c},getPropsList:function(u){var c=[],d=u,f=this.properties;if(d)for(var p=Object.keys(d),g=0;g<p.length;g++){var y=p[g],b=d[y],_=f[y]||f[ts(y)],w=this.parse(_.name,b);w&&c.push(w)}return c},getNonDefaultPropertiesHash:function(u,o,c){var p,g,y,b,_,d=c.slice();for(b=0;b<o.length;b++)if(null!=(p=u.pstyle(o[b],!1)))if(null!=p.pfValue)d[0]=Uc(y,d[0]),d[1]=wr(y,d[1]);else for(g=p.strValue,_=0;_<g.length;_++)y=g.charCodeAt(_),d[0]=Uc(y,d[0]),d[1]=wr(y,d[1]);return d}};Ma.getPropertiesHash=Ma.getNonDefaultPropertiesHash;var bg={appendFromJson:function(u){for(var o=this,c=0;c<u.length;c++){var d=u[c],f=d.selector,p=d.style||d.css,g=Object.keys(p);o.selector(f);for(var y=0;y<g.length;y++){var b=g[y];o.css(b,p[b])}}return o},fromJson:function(u){var o=this;return o.resetToDefault(),o.appendFromJson(u),o},json:function(){for(var u=[],o=this.defaultLength;o<this.length;o++){for(var c=this[o],d=c.selector,f=c.properties,p={},g=0;g<f.length;g++){var y=f[g];p[y.name]=y.strValue}u.push({selector:d?d.toString():"core",style:p})}return u}},hf={appendFromString:function(u){var f,p,g,c=this,d=""+u;function y(){d=d.length>f.length?d.substr(f.length):""}function b(){p=p.length>g.length?p.substr(g.length):""}for(d=d.replace(/[/][*](\s|.)+?[*][/]/g,"");!d.match(/^\s*$/);){var w=d.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!w){ti("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+d);break}f=w[0];var x=w[1];if("core"!==x&&new Yo(x).invalid)ti("Skipping parsing of block: Invalid selector found in string stylesheet: "+x),y();else{var S=w[2],M=!1;p=S;for(var A=[];!p.match(/^\s*$/);){var R=p.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!R){ti("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+S),M=!0;break}g=R[0];var F=R[1],L=R[2];this.properties[F]?c.parse(F,L)?(A.push({name:F,val:L}),b()):(ti("Skipping property: Invalid property definition in: "+g),b()):(ti("Skipping property: Invalid property name in: "+g),b())}if(M){y();break}c.selector(x);for(var Y=0;Y<A.length;Y++){var H=A[Y];c.css(H.name,H.val)}y()}}return c},fromString:function(u){var o=this;return o.resetToDefault(),o.appendFromString(u),o}},wi={};(function(){var u=ei,p=function(Me){return"^"+Me+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},g=function(Me){var Je=u+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+Me+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+u+")\\s*\\,\\s*("+u+")\\s*,\\s*("+Je+")\\s*\\,\\s*("+Je+")\\)$"},y=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];wi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:p("data")},layoutData:{mapping:!0,regex:p("layoutData")},scratch:{mapping:!0,regex:p("scratch")},mapData:{mapping:!0,regex:g("mapData")},mapLayoutData:{mapping:!0,regex:g("mapLayoutData")},mapScratch:{mapping:!0,regex:g("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:y,singleRegexMatchValue:!0},urls:{regexes:y,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Me,Je){switch(Me.length){case 2:return"deg"!==Je[0]&&"rad"!==Je[0]&&"deg"!==Je[1]&&"rad"!==Je[1];case 1:return Ae(Me[0])||"deg"===Je[0]||"rad"===Je[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*,\\s*("+u+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Me){var Je=Me.length;return 1===Je||2===Je||4===Je}}};var b={zeroNonZero:function(Me,Je){return(null==Me||null==Je)&&Me!==Je||0==Me&&0!=Je||0!=Me&&0==Je},any:function(Me,Je){return Me!=Je},emptyNonEmpty:function(Me,Je){var ft=vt(Me),mt=vt(Je);return ft&&!mt||!ft&&mt}},_=wi.types,w=[{name:"label",type:_.text,triggersBounds:b.any,triggersZOrder:b.emptyNonEmpty},{name:"text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any}],x=[{name:"source-label",type:_.text,triggersBounds:b.any},{name:"source-text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"source-text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"source-text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"source-text-offset",type:_.size,triggersBounds:b.any}],E=[{name:"target-label",type:_.text,triggersBounds:b.any},{name:"target-text-rotation",type:_.textRotation,triggersBounds:b.any},{name:"target-text-margin-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"target-text-margin-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"target-text-offset",type:_.size,triggersBounds:b.any}],S=[{name:"font-family",type:_.fontFamily,triggersBounds:b.any},{name:"font-style",type:_.fontStyle,triggersBounds:b.any},{name:"font-weight",type:_.fontWeight,triggersBounds:b.any},{name:"font-size",type:_.size,triggersBounds:b.any},{name:"text-transform",type:_.textTransform,triggersBounds:b.any},{name:"text-wrap",type:_.textWrap,triggersBounds:b.any},{name:"text-overflow-wrap",type:_.textOverflowWrap,triggersBounds:b.any},{name:"text-max-width",type:_.size,triggersBounds:b.any},{name:"text-outline-width",type:_.size,triggersBounds:b.any},{name:"line-height",type:_.positiveNumber,triggersBounds:b.any}],M=[{name:"text-valign",type:_.valign,triggersBounds:b.any},{name:"text-halign",type:_.halign,triggersBounds:b.any},{name:"color",type:_.color},{name:"text-outline-color",type:_.color},{name:"text-outline-opacity",type:_.zeroOneNumber},{name:"text-background-color",type:_.color},{name:"text-background-opacity",type:_.zeroOneNumber},{name:"text-background-padding",type:_.size,triggersBounds:b.any},{name:"text-border-opacity",type:_.zeroOneNumber},{name:"text-border-color",type:_.color},{name:"text-border-width",type:_.size,triggersBounds:b.any},{name:"text-border-style",type:_.borderStyle,triggersBounds:b.any},{name:"text-background-shape",type:_.textBackgroundShape,triggersBounds:b.any},{name:"text-justification",type:_.justification}],A=[{name:"events",type:_.bool},{name:"text-events",type:_.bool}],I=[{name:"display",type:_.display,triggersZOrder:b.any,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:_.visibility,triggersZOrder:b.any},{name:"opacity",type:_.zeroOneNumber,triggersZOrder:b.zeroNonZero},{name:"text-opacity",type:_.zeroOneNumber},{name:"min-zoomed-font-size",type:_.size},{name:"z-compound-depth",type:_.zCompoundDepth,triggersZOrder:b.any},{name:"z-index-compare",type:_.zIndexCompare,triggersZOrder:b.any},{name:"z-index",type:_.nonNegativeInt,triggersZOrder:b.any}],R=[{name:"overlay-padding",type:_.size,triggersBounds:b.any},{name:"overlay-color",type:_.color},{name:"overlay-opacity",type:_.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"overlay-shape",type:_.overlayShape,triggersBounds:b.any}],F=[{name:"underlay-padding",type:_.size,triggersBounds:b.any},{name:"underlay-color",type:_.color},{name:"underlay-opacity",type:_.zeroOneNumber,triggersBounds:b.zeroNonZero},{name:"underlay-shape",type:_.overlayShape,triggersBounds:b.any}],L=[{name:"transition-property",type:_.propList},{name:"transition-duration",type:_.time},{name:"transition-delay",type:_.time},{name:"transition-timing-function",type:_.easing}],z=function(Me,Je){return"label"===Je.value?-Me.poolIndex():Je.pfValue},K=[{name:"height",type:_.nodeSize,triggersBounds:b.any,hashOverride:z},{name:"width",type:_.nodeSize,triggersBounds:b.any,hashOverride:z},{name:"shape",type:_.nodeShape,triggersBounds:b.any},{name:"shape-polygon-points",type:_.polygonPointList,triggersBounds:b.any},{name:"background-color",type:_.color},{name:"background-fill",type:_.fill},{name:"background-opacity",type:_.zeroOneNumber},{name:"background-blacken",type:_.nOneOneNumber},{name:"background-gradient-stop-colors",type:_.colors},{name:"background-gradient-stop-positions",type:_.percentages},{name:"background-gradient-direction",type:_.gradientDirection},{name:"padding",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"padding-relative-to",type:_.paddingRelativeTo,triggersBounds:b.any},{name:"bounds-expansion",type:_.boundsExpansion,triggersBounds:b.any}],Y=[{name:"border-color",type:_.color},{name:"border-opacity",type:_.zeroOneNumber},{name:"border-width",type:_.size,triggersBounds:b.any},{name:"border-style",type:_.borderStyle}],H=[{name:"background-image",type:_.urls},{name:"background-image-crossorigin",type:_.bgCrossOrigin},{name:"background-image-opacity",type:_.zeroOneNumbers},{name:"background-image-containment",type:_.bgContainment},{name:"background-image-smoothing",type:_.bools},{name:"background-position-x",type:_.bgPos},{name:"background-position-y",type:_.bgPos},{name:"background-width-relative-to",type:_.bgRelativeTo},{name:"background-height-relative-to",type:_.bgRelativeTo},{name:"background-repeat",type:_.bgRepeat},{name:"background-fit",type:_.bgFit},{name:"background-clip",type:_.bgClip},{name:"background-width",type:_.bgWH},{name:"background-height",type:_.bgWH},{name:"background-offset-x",type:_.bgPos},{name:"background-offset-y",type:_.bgPos}],Z=[{name:"position",type:_.position,triggersBounds:b.any},{name:"compound-sizing-wrt-labels",type:_.compoundIncludeLabels,triggersBounds:b.any},{name:"min-width",type:_.size,triggersBounds:b.any},{name:"min-width-bias-left",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-width-bias-right",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-height",type:_.size,triggersBounds:b.any},{name:"min-height-bias-top",type:_.sizeMaybePercent,triggersBounds:b.any},{name:"min-height-bias-bottom",type:_.sizeMaybePercent,triggersBounds:b.any}],U=[{name:"line-style",type:_.lineStyle},{name:"line-color",type:_.color},{name:"line-fill",type:_.fill},{name:"line-cap",type:_.lineCap},{name:"line-opacity",type:_.zeroOneNumber},{name:"line-dash-pattern",type:_.numbers},{name:"line-dash-offset",type:_.number},{name:"line-gradient-stop-colors",type:_.colors},{name:"line-gradient-stop-positions",type:_.percentages},{name:"curve-style",type:_.curveStyle,triggersBounds:b.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:_.zeroOneNumber,triggersBounds:b.any},{name:"source-endpoint",type:_.edgeEndpoint,triggersBounds:b.any},{name:"target-endpoint",type:_.edgeEndpoint,triggersBounds:b.any},{name:"control-point-step-size",type:_.size,triggersBounds:b.any},{name:"control-point-distances",type:_.bidirectionalSizes,triggersBounds:b.any},{name:"control-point-weights",type:_.numbers,triggersBounds:b.any},{name:"segment-distances",type:_.bidirectionalSizes,triggersBounds:b.any},{name:"segment-weights",type:_.numbers,triggersBounds:b.any},{name:"taxi-turn",type:_.bidirectionalSizeMaybePercent,triggersBounds:b.any},{name:"taxi-turn-min-distance",type:_.size,triggersBounds:b.any},{name:"taxi-direction",type:_.axisDirection,triggersBounds:b.any},{name:"edge-distances",type:_.edgeDistances,triggersBounds:b.any},{name:"arrow-scale",type:_.positiveNumber,triggersBounds:b.any},{name:"loop-direction",type:_.angle,triggersBounds:b.any},{name:"loop-sweep",type:_.angle,triggersBounds:b.any},{name:"source-distance-from-node",type:_.size,triggersBounds:b.any},{name:"target-distance-from-node",type:_.size,triggersBounds:b.any}],Q=[{name:"ghost",type:_.bool,triggersBounds:b.any},{name:"ghost-offset-x",type:_.bidirectionalSize,triggersBounds:b.any},{name:"ghost-offset-y",type:_.bidirectionalSize,triggersBounds:b.any},{name:"ghost-opacity",type:_.zeroOneNumber}],J=[{name:"selection-box-color",type:_.color},{name:"selection-box-opacity",type:_.zeroOneNumber},{name:"selection-box-border-color",type:_.color},{name:"selection-box-border-width",type:_.size},{name:"active-bg-color",type:_.color},{name:"active-bg-opacity",type:_.zeroOneNumber},{name:"active-bg-size",type:_.size},{name:"outside-texture-bg-color",type:_.color},{name:"outside-texture-bg-opacity",type:_.zeroOneNumber}],W=[];wi.pieBackgroundN=16,W.push({name:"pie-size",type:_.sizeMaybePercent});for(var oe=1;oe<=wi.pieBackgroundN;oe++)W.push({name:"pie-"+oe+"-background-color",type:_.color}),W.push({name:"pie-"+oe+"-background-size",type:_.percent}),W.push({name:"pie-"+oe+"-background-opacity",type:_.zeroOneNumber});var X=[],me=wi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:_.arrowShape,triggersBounds:b.any},{name:"arrow-color",type:_.color},{name:"arrow-fill",type:_.arrowFill}].forEach(function(ye){me.forEach(function(Me){X.push({name:Me+"-"+ye.name,type:ye.type,triggersBounds:ye.triggersBounds})})},{});var ae=wi.properties=[].concat(A,L,I,R,F,Q,M,S,w,x,E,K,Y,H,W,Z,U,X,J),de=wi.propertyGroups={behavior:A,transition:L,visibility:I,overlay:R,underlay:F,ghost:Q,commonLabel:M,labelDimensions:S,mainLabel:w,sourceLabel:x,targetLabel:E,nodeBody:K,nodeBorder:Y,backgroundImage:H,pie:W,compound:Z,edgeLine:U,edgeArrow:X,core:J},be=wi.propertyGroupNames={};(wi.propertyGroupKeys=Object.keys(de)).forEach(function(ye){be[ye]=de[ye].map(function(Me){return Me.name}),de[ye].forEach(function(Me){return Me.groupKey=ye})});var Fe=wi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];wi.propertyNames=ae.map(function(ye){return ye.name});for(var Ee=0;Ee<ae.length;Ee++){var Re=ae[Ee];ae[Re.name]=Re}for(var Ye=0;Ye<Fe.length;Ye++){var qe=Fe[Ye],He={name:qe.name,alias:!0,pointsTo:ae[qe.pointsTo]};ae.push(He),ae[qe.name]=He}})(),wi.getDefaultProperty=function(u){return this.getDefaultProperties()[u]},wi.getDefaultProperties=function(){var u=this._private;if(null!=u.defaultProperties)return u.defaultProperties;for(var o=qt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(b,_){for(var w=1;w<=wi.pieBackgroundN;w++)b[_.name.replace("{{i}}",w)]=_.value;return b},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(b,_){return wi.arrowPrefixes.forEach(function(w){b[w+"-"+_.name]=_.value}),b},{})),c={},d=0;d<this.properties.length;d++){var f=this.properties[d];if(!f.pointsTo){var p=f.name,y=this.parse(p,o[p]);c[p]=y}}return u.defaultProperties=c,u.defaultProperties},wi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var pu={parse:function(u,o,c,d){var f=this;if(ht(o))return f.parseImplWarn(u,o,c,d);var w,b=ty(u,""+o,c?"t":"f","mapping"===d||!0===d||!1===d||null==d?"dontcare":d),_=f.propCache=f.propCache||[];return(w=_[b])||(w=_[b]=f.parseImplWarn(u,o,c,d)),(c||"mapping"===d)&&(w=xo(w))&&(w.value=xo(w.value)),w},parseImplWarn:function(u,o,c,d){var f=this.parseImpl(u,o,c,d);return!f&&null!=o&&ti("The style property `".concat(u,": ").concat(o,"` is invalid")),f&&("width"===f.name||"height"===f.name)&&"label"===o&&ti("The style value of `label` is deprecated for `"+f.name+"`"),f}};pu.parseImpl=function(u,o,c,d){var f=this;u=ts(u);var p=f.properties[u],g=o,y=f.types;if(!p||void 0===o)return null;p.alias&&(u=(p=p.pointsTo).name);var b=Ae(o);b&&(o=o.trim());var w,x,_=p.type;if(!_)return null;if(c&&(""===o||null===o))return{name:u,value:o,bypass:!0,deleteBypass:!0};if(ht(o))return{name:u,value:o,strValue:"fn",mapped:y.fn,bypass:c};if(!(!b||d||o.length<7||"a"!==o[1])){if(o.length>=7&&"d"===o[0]&&(w=new RegExp(y.data.regex).exec(o)))return!c&&{name:u,value:w,strValue:""+o,mapped:y.data,field:w[1],bypass:c};if(o.length>=10&&"m"===o[0]&&(x=new RegExp(y.mapData.regex).exec(o))){if(c||_.multiple)return!1;var S=y.mapData;if(!_.color&&!_.number)return!1;var M=this.parse(u,x[4]);if(!M||M.mapped)return!1;var A=this.parse(u,x[5]);if(!A||A.mapped)return!1;if(M.pfValue===A.pfValue||M.strValue===A.strValue)return ti("`"+u+": "+o+"` is not a valid mapper because the output range is zero; converting to `"+u+": "+M.strValue+"`"),this.parse(u,M.strValue);if(_.color){var I=M.value,R=A.value;if(!(I[0]!==R[0]||I[1]!==R[1]||I[2]!==R[2]||I[3]!==R[3]&&(null!=I[3]&&1!==I[3]||null!=R[3]&&1!==R[3])))return!1}return{name:u,value:x,strValue:""+o,mapped:S,field:x[1],fieldMin:parseFloat(x[2]),fieldMax:parseFloat(x[3]),valueMin:M.value,valueMax:A.value,bypass:c}}}if(_.multiple&&"multiple"!==d){var L;if(L=b?o.split(/\s+/):Mt(o)?o:[o],_.evenMultiple&&L.length%2!=0)return null;for(var z=[],K=[],Y=[],H="",Z=!1,U=0;U<L.length;U++){var Q=f.parse(u,L[U],c,"multiple");Z=Z||Ae(Q.value),z.push(Q.value),Y.push(null!=Q.pfValue?Q.pfValue:Q.value),K.push(Q.units),H+=(U>0?" ":"")+Q.strValue}return _.validate&&!_.validate(z,K)?null:_.singleEnum&&Z?1===z.length&&Ae(z[0])?{name:u,value:z[0],strValue:z[0],bypass:c}:null:{name:u,value:z,pfValue:Y,strValue:H,bypass:c,units:K}}var J=function(){for(var Je=0;Je<_.enums.length;Je++)if(_.enums[Je]===o)return{name:u,value:o,strValue:""+o,bypass:c};return null};if(_.number){var W,oe="px";if(_.units&&(W=_.units),_.implicitUnits&&(oe=_.implicitUnits),!_.unitless)if(b){var X="px|em"+(_.allowPercent?"|\\%":"");W&&(X=W);var me=o.match("^("+ei+")("+X+")?$");me&&(o=me[1],W=me[2]||oe)}else(!W||_.implicitUnits)&&(W=oe);if(o=parseFloat(o),isNaN(o)&&void 0===_.enums)return null;if(isNaN(o)&&void 0!==_.enums)return o=g,J();if(_.integer&&!function(o){return Le(o)&&Math.floor(o)===o}(o)||void 0!==_.min&&(o<_.min||_.strictMin&&o===_.min)||void 0!==_.max&&(o>_.max||_.strictMax&&o===_.max))return null;var ae={name:u,value:o,strValue:""+o+(W||""),units:W,bypass:c};return ae.pfValue=_.unitless||"px"!==W&&"em"!==W?o:"px"!==W&&W?this.getEmSizeInPixels()*o:o,("ms"===W||"s"===W)&&(ae.pfValue="ms"===W?o:1e3*o),("deg"===W||"rad"===W)&&(ae.pfValue="rad"===W?o:function(o){return Math.PI*o/180}(o)),"%"===W&&(ae.pfValue=o/100),ae}if(_.propList){var de=[],be=""+o;if("none"!==be){for(var Se=be.split(/\s*,\s*|\s+/),Fe=0;Fe<Se.length;Fe++){var Ee=Se[Fe].trim();f.properties[Ee]?de.push(Ee):ti("`"+Ee+"` is not a valid property name")}if(0===de.length)return null}return{name:u,value:de,strValue:0===de.length?"none":de.join(" "),bypass:c}}if(_.color){var Re=function(o){return(Mt(o)?o:null)||function(o){return ey[o.toLowerCase()]}(o)||function(o){if((4===o.length||7===o.length)&&"#"===o[0]){var d,f,p,g=16;return 4===o.length?(d=parseInt(o[1]+o[1],g),f=parseInt(o[2]+o[2],g),p=parseInt(o[3]+o[3],g)):(d=parseInt(o[1]+o[2],g),f=parseInt(o[3]+o[4],g),p=parseInt(o[5]+o[6],g)),[d,f,p]}}(o)||function(o){var c,d=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(o);if(d){c=[];for(var f=[],p=1;p<=3;p++){var g=d[p];if("%"===g[g.length-1]&&(f[p]=!0),g=parseFloat(g),f[p]&&(g=g/100*255),g<0||g>255)return;c.push(Math.floor(g))}if((f[1]||f[2]||f[3])&&!(f[1]&&f[2]&&f[3]))return;var _=d[4];if(void 0!==_){if((_=parseFloat(_))<0||_>1)return;c.push(_)}}return c}(o)||function(o){var c,d,f,p,g,y,b,_;function w(M,A,I){return I<0&&(I+=1),I>1&&(I-=1),I<1/6?M+6*(A-M)*I:I<.5?A:I<2/3?M+(A-M)*(2/3-I)*6:M}var x=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(o);if(x){if((d=parseInt(x[1]))<0?d=(360- -1*d%360)%360:d>360&&(d%=360),d/=360,(f=parseFloat(x[2]))<0||f>100||(f/=100,(p=parseFloat(x[3]))<0||p>100)||(p/=100,void 0!==(g=x[4])&&((g=parseFloat(g))<0||g>1)))return;if(0===f)y=b=_=Math.round(255*p);else{var E=p<.5?p*(1+f):p+f-p*f,S=2*p-E;y=Math.round(255*w(S,E,d+1/3)),b=Math.round(255*w(S,E,d)),_=Math.round(255*w(S,E,d-1/3))}c=[y,b,_,g]}return c}(o)}(o);return Re?{name:u,value:Re,pfValue:Re,strValue:"rgb("+Re[0]+","+Re[1]+","+Re[2]+")",bypass:c}:null}if(_.regex||_.regexes){if(_.enums){var Ye=J();if(Ye)return Ye}for(var qe=_.regexes?_.regexes:[_.regex],We=0;We<qe.length;We++){var ye=new RegExp(qe[We]).exec(o);if(ye)return{name:u,value:_.singleRegexMatchValue?ye[1]:ye,strValue:""+o,bypass:c}}return null}return _.string?{name:u,value:""+o,strValue:""+o,bypass:c}:_.enums?J():null};var sr=function u(o){if(!(this instanceof u))return new u(o);vn(o)?(this._private={cy:o,coreStyle:{}},this.length=0,this.resetToDefault()):Pi("A style must have a core reference")},bs=sr.prototype;bs.instanceString=function(){return"style"},bs.clear=function(){for(var u=this._private,c=u.cy.elements(),d=0;d<this.length;d++)this[d]=void 0;return this.length=0,u.contextStyles={},u.propDiffs={},this.cleanElements(c,!0),c.forEach(function(f){var p=f[0]._private;p.styleDirty=!0,p.appliedInitStyle=!1}),this},bs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},bs.core=function(u){return this._private.coreStyle[u]||this.getDefaultProperty(u)},bs.selector=function(u){var o="core"===u?null:new Yo(u),c=this.length++;return this[c]={selector:o,properties:[],mappedProperties:[],index:c},this},bs.css=function(){var u=this,o=arguments;if(1===o.length)for(var c=o[0],d=0;d<u.properties.length;d++){var f=u.properties[d],p=c[f.name];void 0===p&&(p=c[ns(f.name)]),void 0!==p&&this.cssRule(f.name,p)}else 2===o.length&&this.cssRule(o[0],o[1]);return this},bs.style=bs.css,bs.cssRule=function(u,o){var c=this.parse(u,o);if(c){var d=this.length-1;this[d].properties.push(c),this[d].properties[c.name]=c,c.name.match(/pie-(\d+)-background-size/)&&c.value&&(this._private.hasPie=!0),c.mapped&&this[d].mappedProperties.push(c),!this[d].selector&&(this._private.coreStyle[c.name]=c)}return this},bs.append=function(u){return On(u)?u.appendToStyle(this):Mt(u)?this.appendFromJson(u):Ae(u)&&this.appendFromString(u),this},sr.fromJson=function(u,o){var c=new sr(u);return c.fromJson(o),c},sr.fromString=function(u,o){return new sr(u).fromString(o)},[xr,Md,_g,Ma,bg,hf,wi,pu].forEach(function(u){qt(bs,u)}),sr.types=bs.types,sr.properties=bs.properties,sr.propertyGroups=bs.propertyGroups,sr.propertyGroupNames=bs.propertyGroupNames,sr.propertyGroupKeys=bs.propertyGroupKeys;var Py={style:function(o){return o&&this.setStyle(o).update(),this._private.style},setStyle:function(o){var c=this._private;return c.style=On(o)?o.generateStyle(this):Mt(o)?sr.fromJson(this,o):Ae(o)?sr.fromString(this,o):sr(this),c.style},updateStyle:function(){this.mutableElements().updateStyle()}},Jl={autolock:function(o){return void 0===o?this._private.autolock:(this._private.autolock=!!o,this)},autoungrabify:function(o){return void 0===o?this._private.autoungrabify:(this._private.autoungrabify=!!o,this)},autounselectify:function(o){return void 0===o?this._private.autounselectify:(this._private.autounselectify=!!o,this)},selectionType:function(o){var c=this._private;return null==c.selectionType&&(c.selectionType="single"),void 0===o?c.selectionType:(("additive"===o||"single"===o)&&(c.selectionType=o),this)},panningEnabled:function(o){return void 0===o?this._private.panningEnabled:(this._private.panningEnabled=!!o,this)},userPanningEnabled:function(o){return void 0===o?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!o,this)},zoomingEnabled:function(o){return void 0===o?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!o,this)},userZoomingEnabled:function(o){return void 0===o?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!o,this)},boxSelectionEnabled:function(o){return void 0===o?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!o,this)},pan:function(){var d,f,p,g,y,o=arguments,c=this._private.pan;switch(o.length){case 0:return c;case 1:if(Ae(o[0]))return c[d=o[0]];if(tt(o[0])){if(!this._private.panningEnabled)return this;y=(p=o[0]).y,Le(g=p.x)&&(c.x=g),Le(y)&&(c.y=y),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;f=o[1],("x"===(d=o[0])||"y"===d)&&Le(f)&&(c[d]=f),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(o,c){var p,g,y,b,_,d=arguments,f=this._private.pan;if(!this._private.panningEnabled)return this;switch(d.length){case 1:tt(o)&&(_=(y=d[0]).y,Le(b=y.x)&&(f.x+=b),Le(_)&&(f.y+=_),this.emit("pan viewport"));break;case 2:g=c,("x"===(p=o)||"y"===p)&&Le(g)&&(f[p]+=g),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(o,c){var d=this.getFitViewport(o,c);if(d){var f=this._private;f.zoom=d.zoom,f.pan=d.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(o,c){var d;if((Le(o)&&void 0===c&&(c=o,o=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(Ae(o)?o=this.$(o):!function(o){return tt(o)&&Le(o.x1)&&Le(o.x2)&&Le(o.y1)&&Le(o.y2)}(o)?Ge(o)||(o=this.mutableElements()):((d={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=d.x2-d.x1,d.h=d.y2-d.y1),!Ge(o)||!o.empty())){d=d||o.boundingBox();var b,g=this.width(),y=this.height();if(c=Le(c)?c:0,!isNaN(g)&&!isNaN(y)&&g>0&&y>0&&!isNaN(d.w)&&!isNaN(d.h)&&d.w>0&&d.h>0)return{zoom:b=(b=(b=Math.min((g-2*c)/d.w,(y-2*c)/d.h))>this._private.maxZoom?this._private.maxZoom:b)<this._private.minZoom?this._private.minZoom:b,pan:{x:(g-b*(d.x1+d.x2))/2,y:(y-b*(d.y1+d.y2))/2}}}},zoomRange:function(o,c){var d=this._private;if(null==c){var f=o;o=f.min,c=f.max}return Le(o)&&Le(c)&&o<=c?(d.minZoom=o,d.maxZoom=c):Le(o)&&void 0===c&&o<=d.maxZoom?d.minZoom=o:Le(c)&&void 0===o&&c>=d.minZoom&&(d.maxZoom=c),this},minZoom:function(o){return void 0===o?this._private.minZoom:this.zoomRange({min:o})},maxZoom:function(o){return void 0===o?this._private.maxZoom:this.zoomRange({max:o})},getZoomedViewport:function(o){var p,g,c=this._private,d=c.pan,f=c.zoom,y=!1;return c.zoomingEnabled||(y=!0),Le(o)?g=o:tt(o)&&(g=o.level,null!=o.position?p=Xp(o.position,f,d):null!=o.renderedPosition&&(p=o.renderedPosition),null!=p&&!c.panningEnabled&&(y=!0)),g=(g=g>c.maxZoom?c.maxZoom:g)<c.minZoom?c.minZoom:g,!y&&Le(g)&&g!==f&&(null==p||Le(p.x)&&Le(p.y))?null!=p?{zoomed:!0,panned:!0,zoom:g,pan:{x:-g/f*(p.x-d.x)+p.x,y:-g/f*(p.y-d.y)+p.y}}:{zoomed:!0,panned:!1,zoom:g,pan:d}:null},zoom:function(o){if(void 0===o)return this._private.zoom;var c=this.getZoomedViewport(o),d=this._private;return null!=c&&c.zoomed?(d.zoom=c.zoom,c.panned&&(d.pan.x=c.pan.x,d.pan.y=c.pan.y),this.emit("zoom"+(c.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(o){var c=this._private,d=!0,f=!0,p=[],g=!1,y=!1;if(!o)return this;if(Le(o.zoom)||(d=!1),tt(o.pan)||(f=!1),!d&&!f)return this;if(d){var b=o.zoom;b<c.minZoom||b>c.maxZoom||!c.zoomingEnabled?g=!0:(c.zoom=b,p.push("zoom"))}if(f&&(!g||!o.cancelOnFailedZoom)&&c.panningEnabled){var _=o.pan;Le(_.x)&&(c.pan.x=_.x,y=!1),Le(_.y)&&(c.pan.y=_.y,y=!1),y||p.push("pan")}return p.length>0&&(p.push("viewport"),this.emit(p.join(" ")),this.notify("viewport")),this},center:function(o){var c=this.getCenterPan(o);return c&&(this._private.pan=c,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(o,c){if(this._private.panningEnabled){if(Ae(o)){var d=o;o=this.mutableElements().filter(d)}else Ge(o)||(o=this.mutableElements());if(0!==o.length){var f=o.boundingBox(),p=this.width(),g=this.height();return{x:(p-(c=void 0===c?this._private.zoom:c)*(f.x1+f.x2))/2,y:(g-c*(f.y1+f.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var d,f,o=this._private,c=o.container;return o.sizeCache=o.sizeCache||(c?(d=At.getComputedStyle(c),{width:c.clientWidth-(f=function(g){return parseFloat(d.getPropertyValue(g))})("padding-left")-f("padding-right"),height:c.clientHeight-f("padding-top")-f("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var o=this._private.pan,c=this._private.zoom,d=this.renderedExtent(),f={x1:(d.x1-o.x)/c,x2:(d.x2-o.x)/c,y1:(d.y1-o.y)/c,y2:(d.y2-o.y)/c};return f.w=f.x2-f.x1,f.h=f.y2-f.y1,f},renderedExtent:function(){var o=this.width(),c=this.height();return{x1:0,y1:0,x2:o,y2:c,w:o,h:c}},multiClickDebounceTime:function(o){return o?(this._private.multiClickDebounceTime=o,this):this._private.multiClickDebounceTime}};Jl.centre=Jl.center,Jl.autolockNodes=Jl.autolock,Jl.autoungrabifyNodes=Jl.autoungrabify;var Td={data:An.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:An.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:An.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:An.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Td.attr=Td.data,Td.removeAttr=Td.removeData;var Ad=function(o){var c=this,d=(o=qt({},o)).container;d&&!Jn(d)&&Jn(d[0])&&(d=d[0]);var f=d?d._cyreg:null;(f=f||{})&&f.cy&&(f.cy.destroy(),f={});var p=f.readies=f.readies||[];d&&(d._cyreg=f),f.cy=c;var g=void 0!==At&&void 0!==d&&!o.headless,y=o;y.layout=qt({name:g?"grid":"null"},y.layout),y.renderer=qt({name:g?"canvas":"null"},y.renderer);var b=function(M,A,I){return void 0!==A?A:void 0!==I?I:M},_=this._private={container:d,ready:!1,options:y,elements:new Nr(this),listeners:[],aniEles:new Nr(this),data:y.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:b(!0,y.zoomingEnabled),userZoomingEnabled:b(!0,y.userZoomingEnabled),panningEnabled:b(!0,y.panningEnabled),userPanningEnabled:b(!0,y.userPanningEnabled),boxSelectionEnabled:b(!0,y.boxSelectionEnabled),autolock:b(!1,y.autolock,y.autolockNodes),autoungrabify:b(!1,y.autoungrabify,y.autoungrabifyNodes),autounselectify:b(!1,y.autounselectify),styleEnabled:void 0===y.styleEnabled?g:y.styleEnabled,zoom:Le(y.zoom)?y.zoom:1,pan:{x:tt(y.pan)&&Le(y.pan.x)?y.pan.x:0,y:tt(y.pan)&&Le(y.pan.y)?y.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:b(250,y.multiClickDebounceTime)};this.createEmitter(),this.selectionType(y.selectionType),this.zoomRange({min:y.minZoom,max:y.maxZoom}),_.styleEnabled&&c.setStyle([]);var x=qt({},y,y.renderer);c.initRenderer(x),function(M,A){if(M.some(Vi))return iu.all(M).then(A);A(M)}([y.style,y.elements],function(S){var M=S[0],A=S[1];_.styleEnabled&&c.style().append(M),function(M,A,I){c.notifications(!1);var R=c.mutableElements();R.length>0&&R.remove(),null!=M&&(tt(M)||Mt(M))&&c.add(M),c.one("layoutready",function(L){c.notifications(!0),c.emit(L),c.one("load",A),c.emitAndNotify("load")}).one("layoutstop",function(){c.one("done",I),c.emit("done")});var F=qt({},c._private.options.layout);F.eles=c.elements(),c.layout(F).run()}(A,function(){c.startAnimationLoop(),_.ready=!0,ht(y.ready)&&c.on("ready",y.ready);for(var I=0;I<p.length;I++)c.on("ready",p[I]);f&&(f.readies=[]),c.emit("ready")},y.done)})},ff=Ad.prototype;qt(ff,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(o){return this.isReady()?this.emitter().emit("ready",[],o):this.on("ready",o),this},destroy:function(){var o=this;if(!o.destroyed())return o.stopAnimationLoop(),o.destroyRenderer(),this.emit("destroy"),o._private.destroyed=!0,o},hasElementWithId:function(o){return this._private.elements.hasElementWithId(o)},getElementById:function(o){return this._private.elements.getElementById(o)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(o){return this._private.elements.merge(o),this},removeFromPool:function(o){return this._private.elements.unmerge(o),this},container:function(){return this._private.container||null},mount:function(o){if(null!=o){var c=this,d=c._private,f=d.options;return!Jn(o)&&Jn(o[0])&&(o=o[0]),c.stopAnimationLoop(),c.destroyRenderer(),d.container=o,d.styleEnabled=!0,c.invalidateSize(),c.initRenderer(qt({},f,f.renderer,{name:"null"===f.renderer.name?"canvas":f.renderer.name})),c.startAnimationLoop(),c.style(f.style),c.emit("mount"),c}},unmount:function(){var o=this;return o.stopAnimationLoop(),o.destroyRenderer(),o.initRenderer({name:"null"}),o.emit("unmount"),o},options:function(){return xo(this._private.options)},json:function(o){var c=this,d=c._private,f=c.mutableElements();if(tt(o)){if(c.startBatch(),o.elements){var g={},y=function(z,K){for(var Y=[],H=[],Z=0;Z<z.length;Z++){var U=z[Z];if(U.data.id){var Q=""+U.data.id,J=c.getElementById(Q);g[Q]=!0,0!==J.length?H.push({ele:J,json:U}):(K&&(U.group=K),Y.push(U))}else ti("cy.json() cannot handle elements without an ID attribute")}c.add(Y);for(var W=0;W<H.length;W++){var oe=H[W];oe.ele.json(oe.json)}};if(Mt(o.elements))y(o.elements);else for(var b=["nodes","edges"],_=0;_<b.length;_++){var w=b[_],x=o.elements[w];Mt(x)&&y(x,w)}var E=c.collection();f.filter(function(L){return!g[L.id()]}).forEach(function(L){L.isParent()?E.merge(L):L.remove()}),E.forEach(function(L){return L.children().move({parent:null})}),E.forEach(function(L){return(z=L,c.getElementById(z.id())).remove();var z})}o.style&&c.style(o.style),null!=o.zoom&&o.zoom!==d.zoom&&c.zoom(o.zoom),o.pan&&(o.pan.x!==d.pan.x||o.pan.y!==d.pan.y)&&c.pan(o.pan),o.data&&c.data(o.data);for(var S=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],M=0;M<S.length;M++){var A=S[M];null!=o[A]&&c[A](o[A])}return c.endBatch(),this}var R={};o?R.elements=this.elements().map(function(L){return L.json()}):(R.elements={},f.forEach(function(L){var z=L.group();R.elements[z]||(R.elements[z]=[]),R.elements[z].push(L.json())})),this._private.styleEnabled&&(R.style=c.style().json()),R.data=xo(c.data());var F=d.options;return R.zoomingEnabled=d.zoomingEnabled,R.userZoomingEnabled=d.userZoomingEnabled,R.zoom=d.zoom,R.minZoom=d.minZoom,R.maxZoom=d.maxZoom,R.panningEnabled=d.panningEnabled,R.userPanningEnabled=d.userPanningEnabled,R.pan=xo(d.pan),R.boxSelectionEnabled=d.boxSelectionEnabled,R.renderer=xo(F.renderer),R.hideEdgesOnViewport=F.hideEdgesOnViewport,R.textureOnViewport=F.textureOnViewport,R.wheelSensitivity=F.wheelSensitivity,R.motionBlur=F.motionBlur,R.multiClickDebounceTime=F.multiClickDebounceTime,R}}),ff.$id=ff.getElementById,[hu,kA,df,Ql,yg,jC,Ao,Sd,Py,Jl,Td].forEach(function(u){qt(ff,u)});var GC={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,c){return!0},ready:void 0,stop:void 0,transform:function(o,c){return c}},ml=function(o){return o.scratch("breadthfirst")},kd=function(o,c){return o.scratch("breadthfirst",c)};function WC(u){this.options=qt({},GC,u)}WC.prototype.run=function(){var _,u=this.options,o=u,c=u.cy,d=o.eles,f=d.nodes().filter(function(wt){return!wt.isParent()}),p=d,g=o.directed,y=o.maximal||o.maximalAdjustments>0,b=qr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()});if(Ge(o.roots))_=o.roots;else if(Mt(o.roots)){for(var w=[],x=0;x<o.roots.length;x++){var S=c.getElementById(o.roots[x]);w.push(S)}_=c.collection(w)}else if(Ae(o.roots))_=c.$(o.roots);else if(g)_=f.roots();else{var M=d.components();_=c.collection();for(var A=function(gt){var Ut=M[gt],Lt=Ut.maxDegree(!1),Dt=Ut.filter(function(Ht){return Ht.degree(!1)===Lt});_=_.add(Dt)},I=0;I<M.length;I++)A(I)}var R=[],F={},L=function(gt,Ut){null==R[Ut]&&(R[Ut]=[]);var Lt=R[Ut].length;R[Ut].push(gt),kd(gt,{index:Lt,depth:Ut})};p.bfs({roots:_,directed:o.directed,visit:function(gt,Ut,Lt,Dt,Ht){var kn=gt[0],yn=kn.id();L(kn,Ht),F[yn]=!0}});for(var K=[],Y=0;Y<f.length;Y++){var H=f[Y];F[H.id()]||K.push(H)}var Z=function(gt){for(var Ut=R[gt],Lt=0;Lt<Ut.length;Lt++){var Dt=Ut[Lt];null!=Dt?kd(Dt,{depth:gt,index:Lt}):(Ut.splice(Lt,1),Lt--)}},U=function(){for(var gt=0;gt<R.length;gt++)Z(gt)},Q=function(gt,Ut){for(var Lt=ml(gt),Dt=gt.incomers().filter(function(G){return G.isNode()&&d.has(G)}),Ht=-1,kn=gt.id(),yn=0;yn<Dt.length;yn++){var at=ml(Dt[yn]);Ht=Math.max(Ht,at.depth)}return Lt.depth<=Ht&&(Ut[kn]?null:(function(gt,Ut){var Lt=ml(gt);R[Lt.depth][Lt.index]=null,L(gt,Ut)}(gt,Ht+1),Ut[kn]=!0,!0))};if(g&&y){var J=[],W={},oe=function(gt){return J.push(gt)};for(f.forEach(function(wt){return J.push(wt)});J.length>0;){var me=J.shift(),ae=Q(me,W);if(ae)me.outgoers().filter(function(wt){return wt.isNode()&&d.has(wt)}).forEach(oe);else if(null===ae){ti("Detected double maximal shift for node `"+me.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}U();var de=0;if(o.avoidOverlap)for(var be=0;be<f.length;be++){var Fe=f[be].layoutDimensions(o);de=Math.max(de,Fe.w,Fe.h)}var Ye={},qe=function(gt){if(Ye[gt.id()])return Ye[gt.id()];for(var Ut=ml(gt).depth,Lt=gt.neighborhood(),Dt=0,Ht=0,kn=0;kn<Lt.length;kn++){var yn=Lt[kn];if(!yn.isEdge()&&!yn.isParent()&&f.has(yn)){var Qt=ml(yn);if(null!=Qt){var at=Qt.index,G=Qt.depth;null!=at&&null!=G&&G<Ut&&(Dt+=at/R[G].length,Ht++)}}}return Dt/=Ht=Math.max(1,Ht),0===Ht&&(Dt=0),Ye[gt.id()]=Dt,Dt},We=function(gt,Ut){var Ht=qe(gt)-qe(Ut);return 0===Ht?co(gt.id(),Ut.id()):Ht};void 0!==o.depthSort&&(We=o.depthSort);for(var He=0;He<R.length;He++)R[He].sort(We),Z(He);for(var ye=[],Me=0;Me<K.length;Me++)ye.push(K[Me]);R.unshift(ye),U();for(var Je=0,ft=0;ft<R.length;ft++)Je=Math.max(R[ft].length,Je);var mt_x=b.x1+b.w/2,mt_y=b.x1+b.h/2,nn=R.reduce(function(wt,gt){return Math.max(wt,gt.length)},0);return d.nodes().layoutPositions(this,o,function(gt){var Ut=ml(gt),Lt=Ut.depth,Dt=Ut.index,Ht=R[Lt].length,kn=Math.max(b.w/((o.grid?nn:Ht)+1),de),yn=Math.max(b.h/(R.length+1),de),Qt=Math.min(b.w/2/R.length,b.h/2/R.length);if(Qt=Math.max(Qt,de),o.circle){var G=Qt*Lt+Qt-(R.length>0&&R[0].length<=3?Qt/2:0),Te=2*Math.PI/R[Lt].length*Dt;return 0===Lt&&1===R[0].length&&(G=1),{x:mt_x+G*Math.cos(Te),y:mt_y+G*Math.sin(Te)}}return{x:mt_x+(Dt+1-(Ht+1)/2)*kn,y:(Lt+1)*yn}}),this};var Id={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,c){return!0},ready:void 0,stop:void 0,transform:function(o,c){return c}};function pf(u){this.options=qt({},Id,u)}pf.prototype.run=function(){var u=this.options,o=u,c=u.cy,d=o.eles,f=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,p=d.nodes().not(":parent");o.sort&&(p=p.sort(o.sort));for(var w,g=qr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},_=(void 0===o.sweep?2*Math.PI-2*Math.PI/p.length:o.sweep)/Math.max(1,p.length-1),x=0,E=0;E<p.length;E++){var M=p[E].layoutDimensions(o);x=Math.max(x,M.w,M.h)}if(w=Le(o.radius)?o.radius:p.length<=1?0:Math.min(g.h,g.w)/2-x,p.length>1&&o.avoidOverlap){x*=1.75;var R=Math.cos(_)-Math.cos(0),F=Math.sin(_)-Math.sin(0),L=Math.sqrt(x*x/(R*R+F*F));w=Math.max(L,w)}return d.nodes().layoutPositions(this,o,function(Y,H){var Z=o.startAngle+H*_*(f?1:-1),U=w*Math.cos(Z),Q=w*Math.sin(Z);return{x:y.x+U,y:y.y+Q}}),this};var gf={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(o){return o.degree()},levelWidth:function(o){return o.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,c){return!0},ready:void 0,stop:void 0,transform:function(o,c){return c}};function Fy(u){this.options=qt({},gf,u)}Fy.prototype.run=function(){for(var u=this.options,o=u,c=void 0!==o.counterclockwise?!o.counterclockwise:o.clockwise,d=u.cy,f=o.eles,p=f.nodes().not(":parent"),g=qr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),y={x:g.x1+g.w/2,y:g.y1+g.h/2},b=[],_=0,w=0;w<p.length;w++){var E,x=p[w];E=o.concentric(x),b.push({value:E,node:x}),x._private.scratch.concentric=E}p.updateStyle();for(var S=0;S<p.length;S++){var A=p[S].layoutDimensions(o);_=Math.max(_,A.w,A.h)}b.sort(function(wt,gt){return gt.value-wt.value});for(var I=o.levelWidth(p),R=[[]],F=R[0],L=0;L<b.length;L++){var z=b[L];F.length>0&&Math.abs(F[0].value-z.value)>=I&&R.push(F=[]),F.push(z)}var Y=_+o.minNodeSpacing;if(!o.avoidOverlap){var H=R.length>0&&R[0].length>1,Z=Math.min(g.w,g.h)/2-Y;Y=Math.min(Y,Z/(R.length+H?1:0))}for(var Q=0,J=0;J<R.length;J++){var W=R[J],oe=void 0===o.sweep?2*Math.PI-2*Math.PI/W.length:o.sweep,X=W.dTheta=oe/Math.max(1,W.length-1);if(W.length>1&&o.avoidOverlap){var me=Math.cos(X)-Math.cos(0),ae=Math.sin(X)-Math.sin(0),de=Math.sqrt(Y*Y/(me*me+ae*ae));Q=Math.max(de,Q)}W.r=Q,Q+=Y}if(o.equidistant){for(var be=0,Se=0,Fe=0;Fe<R.length;Fe++)be=Math.max(be,R[Fe].r-Se);Se=0;for(var Ye=0;Ye<R.length;Ye++){var qe=R[Ye];0===Ye&&(Se=qe.r),qe.r=Se,Se+=be}}for(var We={},He=0;He<R.length;He++)for(var ye=R[He],Me=ye.dTheta,Je=ye.r,ft=0;ft<ye.length;ft++){var mt=ye[ft],nn=o.startAngle+(c?1:-1)*Me*ft,Cn={x:y.x+Je*Math.cos(nn),y:y.y+Je*Math.sin(nn)};We[mt.node.id()]=Cn}return f.nodes().layoutPositions(this,o,function(wt){var gt=wt.id();return We[gt]}),this};var wg,qC={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(o,c){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(o){return 2048},nodeOverlap:4,idealEdgeLength:function(o){return 32},edgeElasticity:function(o){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Rd(u){this.options=qt({},qC,u),this.options.layout=this}Rd.prototype.run=function(){var u=this.options,o=u.cy,c=this;c.stopped=!1,(!0===u.animate||!1===u.animate)&&c.emit({type:"layoutstart",layout:c}),wg=!0===u.debug;var d=Od(o,c,u);wg&&(void 0)(d),u.randomize&&Ly(d);var f=$s(),p=function(){Cg(d,o,u),!0===u.fit&&o.fit(u.padding)},g=function(E){return!(c.stopped||E>=u.numIter||(Pd(d,u),d.temperature=d.temperature*u.coolingFactor,d.temperature<u.minTemp))},y=function(){if(!0===u.animate||!1===u.animate)p(),c.one("layoutstop",u.stop),c.emit({type:"layoutstop",layout:c});else{var E=u.eles.nodes(),S=Ci(d,u,E);E.layoutPositions(c,u,S)}},b=0,_=!0;if(!0===u.animate)!function x(){for(var E=0;_&&E<u.refresh;)_=g(b),b++,E++;_?($s()-f>=u.animationThreshold&&p(),nl(x)):(Dg(d,u),y())}();else{for(;_;)_=g(b),b++;Dg(d,u),y()}return this},Rd.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Rd.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Od=function(o,c,d){for(var f=d.eles.edges(),p=d.eles.nodes(),g={isCompound:o.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:p.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:f.size(),temperature:d.initialTemp,clientWidth:o.width(),clientHeight:o.width(),boundingBox:qr(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()})},y=d.eles.components(),b={},_=0;_<y.length;_++)for(var w=y[_],x=0;x<w.length;x++)b[w[x].id()]=_;for(_=0;_<g.nodeSize;_++){var M=(S=p[_]).layoutDimensions(d);(A={}).isLocked=S.locked(),A.id=S.data("id"),A.parentId=S.data("parent"),A.cmptId=b[S.id()],A.children=[],A.positionX=S.position("x"),A.positionY=S.position("y"),A.offsetX=0,A.offsetY=0,A.height=M.w,A.width=M.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(S.style("padding")),A.padRight=parseFloat(S.style("padding")),A.padTop=parseFloat(S.style("padding")),A.padBottom=parseFloat(S.style("padding")),A.nodeRepulsion=ht(d.nodeRepulsion)?d.nodeRepulsion(S):d.nodeRepulsion,g.layoutNodes.push(A),g.idToIndex[A.id]=_}var I=[],R=0,F=-1,L=[];for(_=0;_<g.nodeSize;_++){var S,z=(S=g.layoutNodes[_]).parentId;null!=z?g.layoutNodes[g.idToIndex[z]].children.push(S.id):(I[++F]=S.id,L.push(S.id))}for(g.graphSet.push(L);R<=F;){var K=I[R++],H=g.layoutNodes[g.idToIndex[K]].children;if(H.length>0)for(g.graphSet.push(H),_=0;_<H.length;_++)I[++F]=H[_]}for(_=0;_<g.graphSet.length;_++){var Z=g.graphSet[_];for(x=0;x<Z.length;x++)g.indexToGraph[g.idToIndex[Z[x]]]=_}for(_=0;_<g.edgeSize;_++){var Q=f[_],J={};J.id=Q.data("id"),J.sourceId=Q.data("source"),J.targetId=Q.data("target");var W=ht(d.idealEdgeLength)?d.idealEdgeLength(Q):d.idealEdgeLength,oe=ht(d.edgeElasticity)?d.edgeElasticity(Q):d.edgeElasticity,X=g.idToIndex[J.sourceId],me=g.idToIndex[J.targetId];if(g.indexToGraph[X]!=g.indexToGraph[me]){for(var be=gu(J.sourceId,J.targetId,g),Se=g.graphSet[be],Fe=0,A=g.layoutNodes[X];-1===Se.indexOf(A.id);)A=g.layoutNodes[g.idToIndex[A.parentId]],Fe++;for(A=g.layoutNodes[me];-1===Se.indexOf(A.id);)A=g.layoutNodes[g.idToIndex[A.parentId]],Fe++;W*=Fe*d.nestingFactor}J.idealLength=W,J.elasticity=oe,g.layoutEdges.push(J)}return g},gu=function(o,c,d){var f=KC(o,c,0,d);return 2>f.count?0:f.graph},KC=function u(o,c,d,f){var p=f.graphSet[d];if(-1<p.indexOf(o)&&-1<p.indexOf(c))return{count:2,graph:d};for(var g=0,y=0;y<p.length;y++){var w=f.layoutNodes[f.idToIndex[p[y]]].children;if(0!==w.length){var E=u(o,c,f.indexToGraph[f.idToIndex[w[0]]],f);if(0!==E.count){if(1!==E.count)return E;if(2==++g)break}}}return{count:g,graph:d}},Ly=function(o,c){for(var d=o.clientWidth,f=o.clientHeight,p=0;p<o.nodeSize;p++){var g=o.layoutNodes[p];0===g.children.length&&!g.isLocked&&(g.positionX=Math.random()*d,g.positionY=Math.random()*f)}},Ci=function(o,c,d){var f=o.boundingBox,p={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return c.boundingBox&&(d.forEach(function(g){var y=o.layoutNodes[o.idToIndex[g.data("id")]];p.x1=Math.min(p.x1,y.positionX),p.x2=Math.max(p.x2,y.positionX),p.y1=Math.min(p.y1,y.positionY),p.y2=Math.max(p.y2,y.positionY)}),p.w=p.x2-p.x1,p.h=p.y2-p.y1),function(g,y){var b=o.layoutNodes[o.idToIndex[g.data("id")]];return c.boundingBox?{x:f.x1+(b.positionX-p.x1)/p.w*f.w,y:f.y1+(b.positionY-p.y1)/p.h*f.h}:{x:b.positionX,y:b.positionY}}},Cg=function(o,c,d){var f=d.layout,p=d.eles.nodes(),g=Ci(o,d,p);p.positions(g),!0!==o.ready&&(o.ready=!0,f.one("layoutready",d.ready),f.emit({type:"layoutready",layout:this}))},Pd=function(o,c,d){YC(o,c),By(o),vl(o,c),XC(o),Vy(o)},YC=function(o,c){for(var d=0;d<o.graphSet.length;d++)for(var f=o.graphSet[d],p=f.length,g=0;g<p;g++)for(var y=o.layoutNodes[o.idToIndex[f[g]]],b=g+1;b<p;b++)ZC(y,o.layoutNodes[o.idToIndex[f[b]]],o,c)},Ny=function(o){return-o+2*o*Math.random()},ZC=function(o,c,d,f){if(o.cmptId===c.cmptId||d.isCompound){var y=c.positionX-o.positionX,b=c.positionY-o.positionY;0===y&&0===b&&(y=Ny(1),b=Ny(1));var w=xg(o,c,y,b);if(w>0)var S=(x=f.nodeOverlap*w)*y/(E=Math.sqrt(y*y+b*b)),M=x*b/E;else{var x,A=Js(o,y,b),I=Js(c,-1*y,-1*b),R=I.x-A.x,F=I.y-A.y,L=R*R+F*F,E=Math.sqrt(L);S=(x=(o.nodeRepulsion+c.nodeRepulsion)/L)*R/E,M=x*F/E}o.isLocked||(o.offsetX-=S,o.offsetY-=M),c.isLocked||(c.offsetX+=S,c.offsetY+=M)}},xg=function(o,c,d,f){if(d>0)var p=o.maxX-c.minX;else p=c.maxX-o.minX;if(f>0)var g=o.maxY-c.minY;else g=c.maxY-o.minY;return p>=0&&g>=0?Math.sqrt(p*p+g*g):0},Js=function(o,c,d){var f=o.positionX,p=o.positionY,g=o.height||1,y=o.width||1,b=d/c,_=g/y,w={};return 0===c&&0<d||0===c&&0>d?(w.x=f,w.y=p+g/2,w):0<c&&-1*_<=b&&b<=_?(w.x=f+y/2,w.y=p+y*d/2/c,w):0>c&&-1*_<=b&&b<=_?(w.x=f-y/2,w.y=p-y*d/2/c,w):0<d&&(b<=-1*_||b>=_)?(w.x=f+g*c/2/d,w.y=p+g/2,w):(0>d&&(b<=-1*_||b>=_)&&(w.x=f-g*c/2/d,w.y=p-g/2),w)},By=function(o,c){for(var d=0;d<o.edgeSize;d++){var f=o.layoutEdges[d],g=o.layoutNodes[o.idToIndex[f.sourceId]],b=o.layoutNodes[o.idToIndex[f.targetId]],_=b.positionX-g.positionX,w=b.positionY-g.positionY;if(0!==_||0!==w){var x=Js(g,_,w),E=Js(b,-1*_,-1*w),S=E.x-x.x,M=E.y-x.y,A=Math.sqrt(S*S+M*M),I=Math.pow(f.idealLength-A,2)/f.elasticity;if(0!==A)var R=I*S/A,F=I*M/A;else R=0,F=0;g.isLocked||(g.offsetX+=R,g.offsetY+=F),b.isLocked||(b.offsetX-=R,b.offsetY-=F)}}},vl=function(o,c){if(0!==c.gravity)for(var f=0;f<o.graphSet.length;f++){var p=o.graphSet[f],g=p.length;if(0===f)var y=o.clientHeight/2,b=o.clientWidth/2;else{var w=o.layoutNodes[o.idToIndex[o.layoutNodes[o.idToIndex[p[0]]].parentId]];y=w.positionX,b=w.positionY}for(var x=0;x<g;x++){var E=o.layoutNodes[o.idToIndex[p[x]]];if(!E.isLocked){var S=y-E.positionX,M=b-E.positionY,A=Math.sqrt(S*S+M*M);if(A>1){var R=c.gravity*M/A;E.offsetX+=c.gravity*S/A,E.offsetY+=R}}}}},XC=function(o,c){var d=[],f=0,p=-1;for(d.push.apply(d,o.graphSet[0]),p+=o.graphSet[0].length;f<=p;){var g=d[f++],b=o.layoutNodes[o.idToIndex[g]],_=b.children;if(0<_.length&&!b.isLocked){for(var w=b.offsetX,x=b.offsetY,E=0;E<_.length;E++){var S=o.layoutNodes[o.idToIndex[_[E]]];S.offsetX+=w,S.offsetY+=x,d[++p]=_[E]}b.offsetX=0,b.offsetY=0}}},Vy=function(o,c){for(var d=0;d<o.nodeSize;d++)0<(f=o.layoutNodes[d]).children.length&&(f.maxX=void 0,f.minX=void 0,f.maxY=void 0,f.minY=void 0);for(d=0;d<o.nodeSize;d++)if(!(0<(f=o.layoutNodes[d]).children.length||f.isLocked)){var p=Fd(f.offsetX,f.offsetY,o.temperature);f.positionX+=p.x,f.positionY+=p.y,f.offsetX=0,f.offsetY=0,f.minX=f.positionX-f.width,f.maxX=f.positionX+f.width,f.minY=f.positionY-f.height,f.maxY=f.positionY+f.height,mf(f,o)}for(d=0;d<o.nodeSize;d++){var f;0<(f=o.layoutNodes[d]).children.length&&!f.isLocked&&(f.positionX=(f.maxX+f.minX)/2,f.positionY=(f.maxY+f.minY)/2,f.width=f.maxX-f.minX,f.height=f.maxY-f.minY)}},Fd=function(o,c,d){var f=Math.sqrt(o*o+c*c);if(f>d)var p={x:d*o/f,y:d*c/f};else p={x:o,y:c};return p},mf=function u(o,c){var d=o.parentId;if(null!=d){var f=c.layoutNodes[c.idToIndex[d]],p=!1;if((null==f.maxX||o.maxX+f.padRight>f.maxX)&&(f.maxX=o.maxX+f.padRight,p=!0),(null==f.minX||o.minX-f.padLeft<f.minX)&&(f.minX=o.minX-f.padLeft,p=!0),(null==f.maxY||o.maxY+f.padBottom>f.maxY)&&(f.maxY=o.maxY+f.padBottom,p=!0),(null==f.minY||o.minY-f.padTop<f.minY)&&(f.minY=o.minY-f.padTop,p=!0),p)return u(f,c)}},Dg=function(o,c){for(var d=o.layoutNodes,f=[],p=0;p<d.length;p++){var g=d[p],y=g.cmptId;(f[y]=f[y]||[]).push(g)}var _=0;for(p=0;p<f.length;p++)if(w=f[p]){w.x1=1/0,w.x2=-1/0,w.y1=1/0,w.y2=-1/0;for(var x=0;x<w.length;x++){var E=w[x];w.x1=Math.min(w.x1,E.positionX-E.width/2),w.x2=Math.max(w.x2,E.positionX+E.width/2),w.y1=Math.min(w.y1,E.positionY-E.height/2),w.y2=Math.max(w.y2,E.positionY+E.height/2)}w.w=w.x2-w.x1,w.h=w.y2-w.y1,_+=w.w*w.h}f.sort(function(F,L){return L.w*L.h-F.w*F.h});var S=0,M=0,A=0,I=0,R=Math.sqrt(_)*o.clientWidth/o.clientHeight;for(p=0;p<f.length;p++){var w;if(w=f[p]){for(x=0;x<w.length;x++)(E=w[x]).isLocked||(E.positionX+=S-w.x1,E.positionY+=M-w.y1);S+=w.w+c.componentSpacing,A+=w.w+c.componentSpacing,I=Math.max(I,w.h),A>R&&(M+=I+c.componentSpacing,S=0,A=0,I=0)}}},QC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(o){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,c){return!0},ready:void 0,stop:void 0,transform:function(o,c){return c}};function Hy(u){this.options=qt({},QC,u)}Hy.prototype.run=function(){var u=this.options,o=u,c=u.cy,d=o.eles,f=d.nodes().not(":parent");o.sort&&(f=f.sort(o.sort));var p=qr(o.boundingBox?o.boundingBox:{x1:0,y1:0,w:c.width(),h:c.height()});if(0===p.h||0===p.w)d.nodes().layoutPositions(this,o,function(Ye){return{x:p.x1,y:p.y1}});else{var g=f.size(),y=Math.sqrt(g*p.h/p.w),b=Math.round(y),_=Math.round(p.w/p.h*y),w=function(qe){if(null==qe)return Math.min(b,_);Math.min(b,_)==b?b=qe:_=qe},x=function(qe){if(null==qe)return Math.max(b,_);Math.max(b,_)==b?b=qe:_=qe},E=o.rows,S=null!=o.cols?o.cols:o.columns;if(null!=E&&null!=S)b=E,_=S;else if(null!=E&&null==S)b=E,_=Math.ceil(g/b);else if(null==E&&null!=S)_=S,b=Math.ceil(g/_);else if(_*b>g){var M=w(),A=x();(M-1)*A>=g?w(M-1):(A-1)*M>=g&&x(A-1)}else for(;_*b<g;){var I=w(),R=x();(R+1)*I>=g?x(R+1):w(I+1)}var F=p.w/_,L=p.h/b;if(o.condense&&(F=0,L=0),o.avoidOverlap)for(var z=0;z<f.length;z++){var K=f[z],Y=K._private.position;(null==Y.x||null==Y.y)&&(Y.x=0,Y.y=0);var H=K.layoutDimensions(o),Z=o.avoidOverlapPadding,Q=H.h+Z;F=Math.max(F,H.w+Z),L=Math.max(L,Q)}for(var J={},W=function(qe,We){return!!J["c-"+qe+"-"+We]},oe=function(qe,We){J["c-"+qe+"-"+We]=!0},X=0,me=0,ae=function(){++me>=_&&(me=0,X++)},de={},be=0;be<f.length;be++){var Se=f[be],Fe=o.position(Se);if(Fe&&(void 0!==Fe.row||void 0!==Fe.col)){var Ee={row:Fe.row,col:Fe.col};if(void 0===Ee.col)for(Ee.col=0;W(Ee.row,Ee.col);)Ee.col++;else if(void 0===Ee.row)for(Ee.row=0;W(Ee.row,Ee.col);)Ee.row++;de[Se.id()]=Ee,oe(Ee.row,Ee.col)}}f.layoutPositions(this,o,function(qe,We){var He,ye;if(qe.locked()||qe.isParent())return!1;var Me=de[qe.id()];if(Me)He=Me.col*F+F/2+p.x1,ye=Me.row*L+L/2+p.y1;else{for(;W(X,me);)ae();He=me*F+F/2+p.x1,ye=X*L+L/2+p.y1,oe(X,me),ae()}return{x:He,y:ye}})}return this};var mu={ready:function(){},stop:function(){}};function ec(u){this.options=qt({},mu,u)}ec.prototype.run=function(){var u=this.options,o=u.eles,c=this;return c.emit("layoutstart"),o.nodes().positions(function(){return{x:0,y:0}}),c.one("layoutready",u.ready),c.emit("layoutready"),c.one("layoutstop",u.stop),c.emit("layoutstop"),this},ec.prototype.stop=function(){return this};var JC={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,c){return!0},ready:void 0,stop:void 0,transform:function(o,c){return c}};function ex(u){this.options=qt({},JC,u)}ex.prototype.run=function(){var u=this.options,c=u.eles.nodes(),d=ht(u.positions);return c.layoutPositions(this,u,function(p,g){var y=function f(p){return null==u.positions?function(o){return{x:o.x,y:o.y}}(p.position()):d?u.positions(p):u.positions[p._private.data.id]??null}(p);return!p.locked()&&null!=y&&y}),this};var zy={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(o,c){return!0},ready:void 0,stop:void 0,transform:function(o,c){return c}};function $y(u){this.options=qt({},zy,u)}$y.prototype.run=function(){var u=this.options,o=u.cy,c=u.eles,d=qr(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});return c.nodes().layoutPositions(this,u,function(g,y){return{x:d.x1+Math.round(Math.random()*d.w),y:d.y1+Math.round(Math.random()*d.h)}}),this};var RA=[{name:"breadthfirst",impl:WC},{name:"circle",impl:pf},{name:"concentric",impl:Fy},{name:"cose",impl:Rd},{name:"grid",impl:Hy},{name:"null",impl:ec},{name:"preset",impl:ex},{name:"random",impl:$y}];function jy(u){this.options=u,this.notifications=0}var Uy=function(){},Gy=function(){throw new Error("A headless instance can not render images")};jy.prototype={recalculateRenderedStyle:Uy,notify:function(){this.notifications++},init:Uy,isHeadless:function(){return!0},png:Gy,jpg:Gy};var vu={arrowShapeWidth:.3,registerArrowShapes:function(){var u=this.arrowShapes={},o=this,c=function(_,w,x,E,S,M,A){return S.x-x/2-A<=_&&_<=S.x+x/2+A&&S.y-x/2-A<=w&&w<=S.y+x/2+A},d=function(_,w,x,E,S){var M=_*Math.cos(E)-w*Math.sin(E),A=_*Math.sin(E)+w*Math.cos(E);return{x:M*x+S.x,y:A*x+S.y}},f=function(_,w,x,E){for(var S=[],M=0;M<_.length;M+=2)S.push(d(_[M],_[M+1],w,x,E));return S},p=function(_){for(var w=[],x=0;x<_.length;x++){var E=_[x];w.push(E.x,E.y)}return w},g=function(_){return _.pstyle("width").pfValue*_.pstyle("arrow-scale").pfValue*2},y=function(_,w){Ae(w)&&(w=u[w]),u[_]=qt({name:_,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(E,S,M,A,I,R){var F=p(f(this.points,M+2*R,A,I));return Us(E,S,F)},roughCollide:c,draw:function(E,S,M,A){var I=f(this.points,S,M,A);o.arrowShapeImpl("polygon")(E,I)},spacing:function(E){return 0},gap:g},w)};y("none",{collide:qp,roughCollide:qp,draw:Rh,spacing:ny,gap:ny}),y("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),y("arrow","triangle"),y("triangle-backcurve",{points:u.triangle.points,controlPoint:[0,-.15],roughCollide:c,draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),A=this.controlPoint,I=d(A[0],A[1],w,x,E);o.arrowShapeImpl(this.name)(_,M,I)},gap:function(_){return.8*g(_)}}),y("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(_,w,x,E,S,M,A){var I=p(f(this.points,x+2*A,E,S)),R=p(f(this.pointsTee,x+2*A,E,S));return Us(_,w,I)||Us(_,w,R)},draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),A=f(this.pointsTee,w,x,E);o.arrowShapeImpl(this.name)(_,M,A)}}),y("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(_,w,x,E,S,M,A){var I=S,R=Math.pow(I.x-_,2)+Math.pow(I.y-w,2)<=Math.pow((x+2*A)*this.radius,2),F=p(f(this.points,x+2*A,E,S));return Us(_,w,F)||R},draw:function(_,w,x,E,S){var M=f(this.pointsTr,w,x,E);o.arrowShapeImpl(this.name)(_,M,E.x,E.y,this.radius*w)},spacing:function(_){return o.getArrowWidth(_.pstyle("width").pfValue,_.pstyle("arrow-scale").value)*this.radius}}),y("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(_,w){var x=this.baseCrossLinePts.slice(),E=w/_;return x[3]=x[3]-E,x[5]=x[5]-E,x},collide:function(_,w,x,E,S,M,A){var I=p(f(this.points,x+2*A,E,S)),R=p(f(this.crossLinePts(x,M),x+2*A,E,S));return Us(_,w,I)||Us(_,w,R)},draw:function(_,w,x,E,S){var M=f(this.points,w,x,E),A=f(this.crossLinePts(w,S),w,x,E);o.arrowShapeImpl(this.name)(_,M,A)}}),y("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(_){return.525*g(_)}}),y("circle",{radius:.15,collide:function(_,w,x,E,S,M,A){var I=S;return Math.pow(I.x-_,2)+Math.pow(I.y-w,2)<=Math.pow((x+2*A)*this.radius,2)},draw:function(_,w,x,E,S){o.arrowShapeImpl(this.name)(_,E.x,E.y,this.radius*w)},spacing:function(_){return o.getArrowWidth(_.pstyle("width").pfValue,_.pstyle("arrow-scale").value)*this.radius}}),y("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(_){return 1},gap:function(_){return 1}}),y("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),y("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(_){return _.pstyle("width").pfValue*_.pstyle("arrow-scale").value}}),y("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(_){return.95*_.pstyle("width").pfValue*_.pstyle("arrow-scale").value}})}},yl={projectIntoViewport:function(u,o){var c=this.cy,d=this.findContainerClientCoords(),f=d[0],p=d[1],g=d[4],y=c.pan(),b=c.zoom();return[((u-f)/g-y.x)/b,((o-p)/g-y.y)/b]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var u=this.container,o=u.getBoundingClientRect(),c=At.getComputedStyle(u),d=function(R){return parseFloat(c.getPropertyValue(R))},f_left=d("padding-left"),f_right=d("padding-right"),f_top=d("padding-top"),f_bottom=d("padding-bottom"),p_left=d("border-left-width"),p_right=d("border-right-width"),p_top=d("border-top-width"),g=(d("border-bottom-width"),u.clientWidth);return this.containerBB=[o.left+f_left+p_left,o.top+f_top+p_top,g-(f_left+f_right),u.clientHeight-(f_top+f_bottom),o.width/(g+(p_left+p_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(u,o,c,d){return this.findNearestElements(u,o,c,d)[0]},findNearestElements:function(u,o,c,d){var M,A,f=this,p=this,g=p.getCachedZSortedEles(),y=[],b=p.cy.zoom(),_=p.cy.hasCompoundNodes(),w=(d?24:8)/b,x=(d?8:2)/b,E=(d?8:2)/b,S=1/0;function I(H,Z){if(H.isNode()){if(A)return;A=H,y.push(H)}if(H.isEdge()&&(null==Z||Z<S))if(M){if(M.pstyle("z-compound-depth").value===H.pstyle("z-compound-depth").value&&M.pstyle("z-compound-depth").value===H.pstyle("z-compound-depth").value)for(var U=0;U<y.length;U++)if(y[U].isEdge()){y[U]=H,M=H,S=Z??S;break}}else y.push(H),M=H,S=Z??S}function R(H){var Z=H.outerWidth()+2*x,U=H.outerHeight()+2*x,Q=Z/2,J=U/2,W=H.position();if(W.x-Q<=u&&u<=W.x+Q&&W.y-J<=o&&o<=W.y+J&&p.nodeShapes[f.getNodeShape(H)].checkPoint(u,o,0,Z,U,W.x,W.y))return I(H,0),!0}function F(H){var me,Z=H._private,U=Z.rscratch,Q=H.pstyle("width").pfValue,J=H.pstyle("arrow-scale").value,W=Q/2+w,oe=W*W,X=2*W,be=Z.source,Se=Z.target;if("segments"===U.edgeType||"straight"===U.edgeType||"haystack"===U.edgeType){for(var ae=U.allpts,de=0;de+3<ae.length;de+=2)if(ho(u,o,ae[de],ae[de+1],ae[de+2],ae[de+3],X)&&oe>(me=cA(u,o,ae[de],ae[de+1],ae[de+2],ae[de+3])))return I(H,me),!0}else if("bezier"===U.edgeType||"multibezier"===U.edgeType||"self"===U.edgeType||"compound"===U.edgeType)for(ae=U.allpts,de=0;de+5<U.allpts.length;de+=4)if(dy(u,o,ae[de],ae[de+1],ae[de+2],ae[de+3],ae[de+4],ae[de+5],X)&&oe>(me=Do(u,o,ae[de],ae[de+1],ae[de+2],ae[de+3],ae[de+4],ae[de+5])))return I(H,me),!0;be=be||Z.source,Se=Se||Z.target;var Fe=f.getArrowWidth(Q,J),Ee=[{name:"source",x:U.arrowStartX,y:U.arrowStartY,angle:U.srcArrowAngle},{name:"target",x:U.arrowEndX,y:U.arrowEndY,angle:U.tgtArrowAngle},{name:"mid-source",x:U.midX,y:U.midY,angle:U.midsrcArrowAngle},{name:"mid-target",x:U.midX,y:U.midY,angle:U.midtgtArrowAngle}];for(de=0;de<Ee.length;de++){var Re=Ee[de],Ye=p.arrowShapes[H.pstyle(Re.name+"-arrow-shape").value],qe=H.pstyle("width").pfValue;if(Ye.roughCollide(u,o,Fe,Re.angle,{x:Re.x,y:Re.y},qe,w)&&Ye.collide(u,o,Fe,Re.angle,{x:Re.x,y:Re.y},qe,w))return I(H),!0}_&&y.length>0&&(R(be),R(Se))}function L(H,Z,U){return ai(H,Z,U)}function z(H,Z){var J,U=H._private,Q=E;J=Z?Z+"-":"",H.boundingBox();var W=U.labelBounds[Z||"main"],oe=H.pstyle(J+"label").value;if("yes"===H.pstyle("text-events").strValue&&oe){var me=L(U.rscratch,"labelX",Z),ae=L(U.rscratch,"labelY",Z),de=L(U.rscratch,"labelAngle",Z),be=H.pstyle(J+"text-margin-x").pfValue,Se=H.pstyle(J+"text-margin-y").pfValue,Fe=W.x1-Q-be,Ee=W.x2+Q-be,Re=W.y1-Q-Se,Ye=W.y2+Q-Se;if(de){var qe=Math.cos(de),We=Math.sin(de),He=function(Cn,wt){return{x:(Cn-=me)*qe-(wt-=ae)*We+me,y:Cn*We+wt*qe+ae}},ye=He(Fe,Re),Me=He(Fe,Ye),Je=He(Ee,Re),ft=He(Ee,Ye);if(Us(u,o,[ye.x+be,ye.y+Se,Je.x+be,Je.y+Se,ft.x+be,ft.y+Se,Me.x+be,Me.y+Se]))return I(H),!0}else if(Kc(W,u,o))return I(H),!0}}c&&(g=g.interactive);for(var K=g.length-1;K>=0;K--){var Y=g[K];Y.isNode()?R(Y)||z(Y):F(Y)||z(Y)||z(Y,"source")||z(Y,"target")}return y},getAllInBox:function(u,o,c,d){for(var f=this.getCachedZSortedEles().interactive,p=[],g=Math.min(u,c),y=Math.max(u,c),b=Math.min(o,d),_=Math.max(o,d),w=qr({x1:u=g,y1:o=b,x2:c=y,y2:d=_}),x=0;x<f.length;x++){var E=f[x];if(E.isNode()){var S=E,M=S.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Bh(w,M)&&!Vh(M,w)&&p.push(S)}else{var A=E,I=A._private,R=I.rscratch;if(null!=R.startX&&null!=R.startY&&!Kc(w,R.startX,R.startY)||null!=R.endX&&null!=R.endY&&!Kc(w,R.endX,R.endY))continue;if("bezier"===R.edgeType||"multibezier"===R.edgeType||"self"===R.edgeType||"compound"===R.edgeType||"segments"===R.edgeType||"haystack"===R.edgeType){for(var F=I.rstyle.bezierPts||I.rstyle.linePts||I.rstyle.haystackPts,L=!0,z=0;z<F.length;z++)if(!en(w,F[z])){L=!1;break}L&&p.push(A)}else("haystack"===R.edgeType||"straight"===R.edgeType)&&p.push(A)}}return p}},vf={calculateArrowAngles:function(u){var b,_,w,x,E,S,o=u._private.rscratch,c="haystack"===o.edgeType,d="bezier"===o.edgeType,f="multibezier"===o.edgeType,p="segments"===o.edgeType,g="compound"===o.edgeType,y="self"===o.edgeType;c?(w=o.haystackPts[0],x=o.haystackPts[1],E=o.haystackPts[2],S=o.haystackPts[3]):(w=o.arrowStartX,x=o.arrowStartY,E=o.arrowEndX,S=o.arrowEndY),R=o.midX,F=o.midY,p?(b=w-o.segpts[0],_=x-o.segpts[1]):f||g||y||d?(b=w-Wr((M=o.allpts)[0],M[2],M[4],.1),_=x-Wr(M[1],M[3],M[5],.1)):(b=w-R,_=x-F),o.srcArrowAngle=Lh(b,_);var R=o.midX,F=o.midY;if(c&&(R=(w+E)/2,F=(x+S)/2),b=E-w,_=S-x,p)if((M=o.allpts).length/2%2==0)b=M[L=M.length/2]-M[z=L-2],_=M[L+1]-M[z+1];else{var L,z,K=2+(L=M.length/2-1);b=M[L]-M[z=L-2],_=M[L+1]-M[z+1]}else if(f||g||y){var H,Z,U,Q,W,J,oe,M=o.allpts;o.ctrlpts.length/2%2==0?(H=Wr(M[J=M.length/2-1],M[W=J+2],M[oe=W+2],0),Z=Wr(M[J+1],M[W+1],M[oe+1],0),U=Wr(M[J],M[W],M[oe],1e-4),Q=Wr(M[J+1],M[W+1],M[oe+1],1e-4)):(H=Wr(M[J=(W=M.length/2-1)-2],M[W],M[oe=W+2],.4999),Z=Wr(M[J+1],M[W+1],M[oe+1],.4999),U=Wr(M[J],M[W],M[oe],.5),Q=Wr(M[J+1],M[W+1],M[oe+1],.5)),b=U-H,_=Q-Z}if(o.midtgtArrowAngle=Lh(b,_),o.midDispX=b,o.midDispY=_,b*=-1,_*=-1,p&&(M=o.allpts).length/2%2!=0&&(b=-(M[K=2+(L=M.length/2-1)]-M[L]),_=-(M[K+1]-M[L+1])),o.midsrcArrowAngle=Lh(b,_),p)b=E-o.segpts[o.segpts.length-2],_=S-o.segpts[o.segpts.length-1];else if(f||g||y||d){var X=(M=o.allpts).length;b=E-Wr(M[X-6],M[X-4],M[X-2],.9),_=S-Wr(M[X-5],M[X-3],M[X-1],.9)}else b=E-R,_=S-F;o.tgtArrowAngle=Lh(b,_)}};vf.getArrowWidth=vf.getArrowHeight=function(u,o){var c=this.arrowWidthCache=this.arrowWidthCache||{},d=c[u+", "+o];return d||(d=Math.max(Math.pow(13.37*u,.9),29)*o,c[u+", "+o]=d,d)};var ls={};function tx(u){var o=[];if(null!=u){for(var c=0;c<u.length;c+=2)o.push({x:u[c],y:u[c+1]});return o}}ls.findHaystackPoints=function(u){for(var o=0;o<u.length;o++){var c=u[o],d=c._private,f=d.rscratch;if(!f.haystack){var p=2*Math.random()*Math.PI;f.source={x:Math.cos(p),y:Math.sin(p)},p=2*Math.random()*Math.PI,f.target={x:Math.cos(p),y:Math.sin(p)}}var g=d.source,y=d.target,b=g.position(),_=y.position(),w=g.width(),x=y.width(),E=g.height(),S=y.height(),A=c.pstyle("haystack-radius").value/2;f.haystackPts=f.allpts=[f.source.x*w*A+b.x,f.source.y*E*A+b.y,f.target.x*x*A+_.x,f.target.y*S*A+_.y],f.midX=(f.allpts[0]+f.allpts[2])/2,f.midY=(f.allpts[1]+f.allpts[3])/2,f.edgeType="haystack",f.haystack=!0,this.storeEdgeProjections(c),this.calculateArrowAngles(c),this.recalculateEdgeLabelProjections(c),this.calculateLabelAngles(c)}},ls.findSegmentsPoints=function(u,o){var c=u._private.rscratch,d=o.posPts,f=o.intersectionPts,p=o.vectorNormInverse,g=u.pstyle("edge-distances").value,y=u.pstyle("segment-weights"),b=u.pstyle("segment-distances"),_=Math.min(y.pfValue.length,b.pfValue.length);c.edgeType="segments",c.segpts=[];for(var w=0;w<_;w++){var x=y.pfValue[w],E=b.pfValue[w],S=1-x,A="node-position"===g?d:f,I={x:A.x1*S+A.x2*x,y:A.y1*S+A.y2*x};c.segpts.push(I.x+p.x*E,I.y+p.y*E)}},ls.findLoopPoints=function(u,o,c,d){var f=u._private.rscratch,p=o.dirCounts,g=o.srcPos,y=u.pstyle("control-point-distances"),b=y?y.pfValue[0]:void 0,_=u.pstyle("loop-direction").pfValue,w=u.pstyle("loop-sweep").pfValue,x=u.pstyle("control-point-step-size").pfValue;f.edgeType="self";var E=c,S=x;d&&(E=0,S=b);var M=_-Math.PI/2,A=M-w/2,I=M+w/2,R=String(_+"_"+w);E=void 0===p[R]?p[R]=0:++p[R],f.ctrlpts=[g.x+1.4*Math.cos(A)*S*(E/3+1),g.y+1.4*Math.sin(A)*S*(E/3+1),g.x+1.4*Math.cos(I)*S*(E/3+1),g.y+1.4*Math.sin(I)*S*(E/3+1)]},ls.findCompoundLoopPoints=function(u,o,c,d){var f=u._private.rscratch;f.edgeType="compound";var p=o.srcPos,g=o.tgtPos,y=o.srcW,b=o.srcH,_=o.tgtW,w=o.tgtH,x=u.pstyle("control-point-step-size").pfValue,E=u.pstyle("control-point-distances"),M=c,A=x;d&&(M=0,A=E?E.pfValue[0]:void 0);var R={x:p.x-y/2,y:p.y-b/2},F={x:g.x-_/2,y:g.y-w/2},L={x:Math.min(R.x,F.x),y:Math.min(R.y,F.y)},K=Math.max(.5,Math.log(.01*y)),Y=Math.max(.5,Math.log(.01*_));f.ctrlpts=[L.x,L.y-(1+Math.pow(50,1.12)/100)*A*(M/3+1)*K,L.x-(1+Math.pow(50,1.12)/100)*A*(M/3+1)*Y,L.y]},ls.findStraightEdgePoints=function(u){u._private.rscratch.edgeType="straight"},ls.findBezierPoints=function(u,o,c,d,f){var p=u._private.rscratch,g=o.vectorNormInverse,y=o.posPts,b=o.intersectionPts,_=u.pstyle("edge-distances").value,w=u.pstyle("control-point-step-size").pfValue,x=u.pstyle("control-point-distances"),E=u.pstyle("control-point-weights"),S=x&&E?Math.min(x.value.length,E.value.length):1,M=x?x.pfValue[0]:void 0,A=E.value[0],I=d;p.edgeType=I?"multibezier":"bezier",p.ctrlpts=[];for(var R=0;R<S;R++){var L,F=(.5-o.eles.length/2+c)*w*(f?-1:1),z=ks(F);I&&(M=x?x.pfValue[R]:w,A=E.value[R]);var K=void 0!==(L=d?M:void 0!==M?z*M:void 0)?L:F,Y=1-A,Z="node-position"===_?y:b,U={x:Z.x1*Y+Z.x2*A,y:Z.y1*Y+Z.y2*A};p.ctrlpts.push(U.x+g.x*K,U.y+g.y*K)}},ls.findTaxiPoints=function(u,o){var c=u._private.rscratch;c.edgeType="segments";var d="vertical",f="horizontal",p="leftward",g="rightward",y="downward",b="upward",w=o.posPts,x=o.srcW,E=o.srcH,S=o.tgtW,M=o.tgtH,I="node-position"!==u.pstyle("edge-distances").value,R=u.pstyle("taxi-direction").value,F=R,L=u.pstyle("taxi-turn"),z="%"===L.units,K=L.pfValue,Y=K<0,H=u.pstyle("taxi-turn-min-distance").pfValue,U=I?(E+M)/2:0,Q=w.x2-w.x1,J=w.y2-w.y1,W=function(Nt,Zn){return Nt>0?Math.max(Nt-Zn,0):Math.min(Nt+Zn,0)},oe=W(Q,I?(x+S)/2:0),X=W(J,U),me=!1;"auto"===F?R=Math.abs(oe)>Math.abs(X)?f:d:F===b||F===y?(R=d,me=!0):(F===p||F===g)&&(R=f,me=!0);var Ee,ae=R===d,de=ae?X:oe,be=ae?J:Q,Se=ks(be),Fe=!1;(!me||!z&&!Y)&&(F===y&&be<0||F===b&&be>0||F===p&&be>0||F===g&&be<0)&&(de=(Se*=-1)*Math.abs(de),Fe=!0);var qe=function(Nt){return Math.abs(Nt)<H||Math.abs(Nt)>=Math.abs(de)},We=qe(Ee=z?(K<0?1+K:K)*de:(K<0?de:0)+K*Se),He=qe(Math.abs(de)-Math.abs(Ee));if(!We&&!He||Fe)if(ae){var G=w.y1+Ee+(I?E/2*Se:0);c.segpts=[w.x1,G,w.x2,G]}else{var je=w.x1+Ee+(I?x/2*Se:0);c.segpts=[je,w.y1,je,w.y2]}else if(ae){var Me=Math.abs(be)<=E/2,Je=Math.abs(Q)<=S/2;if(Me){var ft=(w.x1+w.x2)/2;c.segpts=[ft,w.y1,ft,w.y2]}else if(Je){var Cn=(w.y1+w.y2)/2;c.segpts=[w.x1,Cn,w.x2,Cn]}else c.segpts=[w.x1,w.y2]}else{var Ut=Math.abs(be)<=x/2,Lt=Math.abs(J)<=M/2;if(Ut){var Dt=(w.y1+w.y2)/2;c.segpts=[w.x1,Dt,w.x2,Dt]}else if(Lt){var yn=(w.x1+w.x2)/2;c.segpts=[yn,w.y1,yn,w.y2]}else c.segpts=[w.x2,w.y1]}},ls.tryToCorrectInvalidPoints=function(u,o){var c=u._private.rscratch;if("bezier"===c.edgeType){var d=o.srcPos,f=o.tgtPos,p=o.srcW,g=o.srcH,y=o.tgtW,b=o.tgtH,_=o.srcShape,w=o.tgtShape,x=!Le(c.startX)||!Le(c.startY),E=!Le(c.arrowStartX)||!Le(c.arrowStartY),S=!Le(c.endX)||!Le(c.endY),M=!Le(c.arrowEndX)||!Le(c.arrowEndY),R=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,F=Kn({x:c.ctrlpts[0],y:c.ctrlpts[1]},{x:c.startX,y:c.startY}),L=F<R,z=Kn({x:c.ctrlpts[0],y:c.ctrlpts[1]},{x:c.endX,y:c.endY}),K=z<R,Y=!1;if(x||E||L){Y=!0;var H={x:c.ctrlpts[0]-d.x,y:c.ctrlpts[1]-d.y},Z=Math.sqrt(H.x*H.x+H.y*H.y),U={x:H.x/Z,y:H.y/Z},Q=Math.max(p,g),J={x:c.ctrlpts[0]+2*U.x*Q,y:c.ctrlpts[1]+2*U.y*Q},W=_.intersectLine(d.x,d.y,p,g,J.x,J.y,0);L?(c.ctrlpts[0]=c.ctrlpts[0]+U.x*(R-F),c.ctrlpts[1]=c.ctrlpts[1]+U.y*(R-F)):(c.ctrlpts[0]=W[0]+U.x*R,c.ctrlpts[1]=W[1]+U.y*R)}if(S||M||K){Y=!0;var oe={x:c.ctrlpts[0]-f.x,y:c.ctrlpts[1]-f.y},X=Math.sqrt(oe.x*oe.x+oe.y*oe.y),me={x:oe.x/X,y:oe.y/X},ae=Math.max(p,g),de={x:c.ctrlpts[0]+2*me.x*ae,y:c.ctrlpts[1]+2*me.y*ae},be=w.intersectLine(f.x,f.y,y,b,de.x,de.y,0);K?(c.ctrlpts[0]=c.ctrlpts[0]+me.x*(R-z),c.ctrlpts[1]=c.ctrlpts[1]+me.y*(R-z)):(c.ctrlpts[0]=be[0]+me.x*R,c.ctrlpts[1]=be[1]+me.y*R)}Y&&this.findEndpoints(u)}},ls.storeAllpts=function(u){var o=u._private.rscratch;if("multibezier"===o.edgeType||"bezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType){o.allpts=[],o.allpts.push(o.startX,o.startY);for(var c=0;c+1<o.ctrlpts.length;c+=2)o.allpts.push(o.ctrlpts[c],o.ctrlpts[c+1]),c+3<o.ctrlpts.length&&o.allpts.push((o.ctrlpts[c]+o.ctrlpts[c+2])/2,(o.ctrlpts[c+1]+o.ctrlpts[c+3])/2);var d;o.allpts.push(o.endX,o.endY),o.ctrlpts.length/2%2==0?(o.midX=o.allpts[d=o.allpts.length/2-1],o.midY=o.allpts[d+1]):(o.midX=Wr(o.allpts[d=o.allpts.length/2-3],o.allpts[d+2],o.allpts[d+4],.5),o.midY=Wr(o.allpts[d+1],o.allpts[d+3],o.allpts[d+5],.5))}else if("straight"===o.edgeType)o.allpts=[o.startX,o.startY,o.endX,o.endY],o.midX=(o.startX+o.endX+o.arrowStartX+o.arrowEndX)/4,o.midY=(o.startY+o.endY+o.arrowStartY+o.arrowEndY)/4;else if("segments"===o.edgeType)if(o.allpts=[],o.allpts.push(o.startX,o.startY),o.allpts.push.apply(o.allpts,o.segpts),o.allpts.push(o.endX,o.endY),o.segpts.length%4==0){var p=o.segpts.length/2,g=p-2;o.midX=(o.segpts[g]+o.segpts[p])/2,o.midY=(o.segpts[g+1]+o.segpts[p+1])/2}else{var y=o.segpts.length/2-1;o.midX=o.segpts[y],o.midY=o.segpts[y+1]}},ls.checkForInvalidEdgeWarning=function(u){var o=u[0]._private.rscratch;o.nodesOverlap||Le(o.startX)&&Le(o.startY)&&Le(o.endX)&&Le(o.endY)?o.loggedErr=!1:o.loggedErr||(o.loggedErr=!0,ti("Edge `"+u.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ls.findEdgeControlPoints=function(u){var o=this;if(u&&0!==u.length){for(var c=this,f=c.cy.hasCompoundNodes(),p={map:new uo,get:function(H){var Z=this.map.get(H[0]);return null!=Z?Z.get(H[1]):null},set:function(H,Z){var U=this.map.get(H[0]);null==U&&(U=new uo,this.map.set(H[0],U)),U.set(H[1],Z)}},g=[],y=[],b=0;b<u.length;b++){var _=u[b],w=_._private,x=_.pstyle("curve-style").value;if(!_.removed()&&_.takesUpSpace()){if("haystack"===x){y.push(_);continue}var E="unbundled-bezier"===x||"segments"===x||"straight"===x||"straight-triangle"===x||"taxi"===x,S="unbundled-bezier"===x||"bezier"===x,A=w.target,F=[w.source.poolIndex(),A.poolIndex()].sort(),L=p.get(F);null==L&&(p.set(F,L={eles:[]}),g.push(F)),L.eles.push(_),E&&(L.hasUnbundled=!0),S&&(L.hasBezier=!0)}}for(var z=function(H){var U=p.get(g[H]),Q=void 0;if(!U.hasUnbundled){var J=U.eles[0].parallelEdges().filter(function(at){return at.isBundledBezier()});Kp(U.eles),J.forEach(function(at){return U.eles.push(at)}),U.eles.sort(function(at,G){return at.poolIndex()-G.poolIndex()})}var W=U.eles[0],oe=W.source(),X=W.target();if(oe.poolIndex()>X.poolIndex()){var me=oe;oe=X,X=me}var ae=U.srcPos=oe.position(),de=U.tgtPos=X.position(),be=U.srcW=oe.outerWidth(),Se=U.srcH=oe.outerHeight(),Fe=U.tgtW=X.outerWidth(),Ee=U.tgtH=X.outerHeight(),Re=U.srcShape=c.nodeShapes[o.getNodeShape(oe)],Ye=U.tgtShape=c.nodeShapes[o.getNodeShape(X)];U.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var qe=0;qe<U.eles.length;qe++){var We=U.eles[qe],He=We[0]._private.rscratch,ye=We.pstyle("curve-style").value,Me="unbundled-bezier"===ye||"segments"===ye||"taxi"===ye,Je=!oe.same(We.source());if(!U.calculatedIntersection&&oe!==X&&(U.hasBezier||U.hasUnbundled)){U.calculatedIntersection=!0;var ft=Re.intersectLine(ae.x,ae.y,be,Se,de.x,de.y,0),mt=U.srcIntn=ft,nn=Ye.intersectLine(de.x,de.y,Fe,Ee,ae.x,ae.y,0),Cn=U.tgtIntn=nn,wt=U.intersectionPts={x1:ft[0],x2:nn[0],y1:ft[1],y2:nn[1]},gt=U.posPts={x1:ae.x,x2:de.x,y1:ae.y,y2:de.y},Ut=nn[1]-ft[1],Lt=nn[0]-ft[0],Dt=Math.sqrt(Lt*Lt+Ut*Ut),Ht=U.vector={x:Lt,y:Ut},kn=U.vectorNorm={x:Ht.x/Dt,y:Ht.y/Dt},yn={x:-kn.y,y:kn.x};U.nodesOverlap=!Le(Dt)||Ye.checkPoint(ft[0],ft[1],0,Fe,Ee,de.x,de.y)||Re.checkPoint(nn[0],nn[1],0,be,Se,ae.x,ae.y),U.vectorNormInverse=yn,Q={nodesOverlap:U.nodesOverlap,dirCounts:U.dirCounts,calculatedIntersection:!0,hasBezier:U.hasBezier,hasUnbundled:U.hasUnbundled,eles:U.eles,srcPos:de,tgtPos:ae,srcW:Fe,srcH:Ee,tgtW:be,tgtH:Se,srcIntn:Cn,tgtIntn:mt,srcShape:Ye,tgtShape:Re,posPts:{x1:gt.x2,y1:gt.y2,x2:gt.x1,y2:gt.y1},intersectionPts:{x1:wt.x2,y1:wt.y2,x2:wt.x1,y2:wt.y1},vector:{x:-Ht.x,y:-Ht.y},vectorNorm:{x:-kn.x,y:-kn.y},vectorNormInverse:{x:-yn.x,y:-yn.y}}}var Qt=Je?Q:U;He.nodesOverlap=Qt.nodesOverlap,He.srcIntn=Qt.srcIntn,He.tgtIntn=Qt.tgtIntn,f&&(oe.isParent()||oe.isChild()||X.isParent()||X.isChild())&&(oe.parents().anySame(X)||X.parents().anySame(oe)||oe.same(X)&&oe.isParent())?o.findCompoundLoopPoints(We,Qt,qe,Me):oe===X?o.findLoopPoints(We,Qt,qe,Me):"segments"===ye?o.findSegmentsPoints(We,Qt):"taxi"===ye?o.findTaxiPoints(We,Qt):"straight"===ye||!Me&&U.eles.length%2==1&&qe===Math.floor(U.eles.length/2)?o.findStraightEdgePoints(We):o.findBezierPoints(We,Qt,qe,Me,Je),o.findEndpoints(We),o.tryToCorrectInvalidPoints(We,Qt),o.checkForInvalidEdgeWarning(We),o.storeAllpts(We),o.storeEdgeProjections(We),o.calculateArrowAngles(We),o.recalculateEdgeLabelProjections(We),o.calculateLabelAngles(We)}},K=0;K<g.length;K++)z(K);this.findHaystackPoints(y)}},ls.getSegmentPoints=function(u){var o=u[0]._private.rscratch;if("segments"===o.edgeType)return this.recalculateRenderedStyle(u),tx(o.segpts)},ls.getControlPoints=function(u){var o=u[0]._private.rscratch,c=o.edgeType;if("bezier"===c||"multibezier"===c||"self"===c||"compound"===c)return this.recalculateRenderedStyle(u),tx(o.ctrlpts)},ls.getEdgeMidpoint=function(u){var o=u[0]._private.rscratch;return this.recalculateRenderedStyle(u),{x:o.midX,y:o.midY}};var yu={manualEndptToPx:function(u,o){var d=u.position(),f=u.outerWidth(),p=u.outerHeight();if(2===o.value.length){var g=[o.pfValue[0],o.pfValue[1]];return"%"===o.units[0]&&(g[0]=g[0]*f),"%"===o.units[1]&&(g[1]=g[1]*p),g[0]+=d.x,g[1]+=d.y,g}var y=o.pfValue[0];y=-Math.PI/2+y;var b=2*Math.max(f,p),_=[d.x+Math.cos(y)*b,d.y+Math.sin(y)*b];return this.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,f,p,_[0],_[1],0)},findEndpoints:function(u){var c,Q,J,W,oe,o=this,d=u.source()[0],f=u.target()[0],p=d.position(),g=f.position(),y=u.pstyle("target-arrow-shape").value,b=u.pstyle("source-arrow-shape").value,_=u.pstyle("target-distance-from-node").pfValue,w=u.pstyle("source-distance-from-node").pfValue,x=u.pstyle("curve-style").value,E=u._private.rscratch,S=E.edgeType,A="self"===S||"compound"===S,I="bezier"===S||"multibezier"===S||A,R="bezier"!==S,F="straight"===S||"segments"===S,L="segments"===S,z=I||R||F,K=A||"taxi"===x,Y=u.pstyle("source-endpoint"),H=K?"outside-to-node":Y.value,Z=u.pstyle("target-endpoint"),U=K?"outside-to-node":Z.value;if(E.srcManEndpt=Y,E.tgtManEndpt=Z,I){var X=[E.ctrlpts[0],E.ctrlpts[1]];Q=R?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:X,J=X}else if(F){var ae=L?E.segpts.slice(0,2):[g.x,g.y];Q=L?E.segpts.slice(E.segpts.length-2):[p.x,p.y],J=ae}if("inside-to-node"===U)c=[g.x,g.y];else if(Z.units)c=this.manualEndptToPx(f,Z);else if("outside-to-line"===U)c=E.tgtIntn;else if("outside-to-node"===U||"outside-to-node-or-label"===U?W=Q:("outside-to-line"===U||"outside-to-line-or-label"===U)&&(W=[p.x,p.y]),c=o.nodeShapes[this.getNodeShape(f)].intersectLine(g.x,g.y,f.outerWidth(),f.outerHeight(),W[0],W[1],0),"outside-to-node-or-label"===U||"outside-to-line-or-label"===U){var be=f._private.rscratch,Ee=be.labelX,Re=be.labelY,Ye=be.labelWidth/2,qe=be.labelHeight/2,We=f.pstyle("text-valign").value;"top"===We?Re-=qe:"bottom"===We&&(Re+=qe);var He=f.pstyle("text-halign").value;"left"===He?Ee-=Ye:"right"===He&&(Ee+=Ye);var ye=Zc(W[0],W[1],[Ee-Ye,Re-qe,Ee+Ye,Re-qe,Ee+Ye,Re+qe,Ee-Ye,Re+qe],g.x,g.y);if(ye.length>0){var Me=p,Je=Wc(Me,od(c)),ft=Wc(Me,od(ye)),mt=Je;ft<Je&&(c=ye,mt=ft),ye.length>2&&Wc(Me,{x:ye[2],y:ye[3]})<mt&&(c=[ye[2],ye[3]])}}var Cn=ll(c,Q,o.arrowShapes[y].spacing(u)+_),wt=ll(c,Q,o.arrowShapes[y].gap(u)+_);if(E.endX=wt[0],E.endY=wt[1],E.arrowEndX=Cn[0],E.arrowEndY=Cn[1],"inside-to-node"===H)c=[p.x,p.y];else if(Y.units)c=this.manualEndptToPx(d,Y);else if("outside-to-line"===H)c=E.srcIntn;else if("outside-to-node"===H||"outside-to-node-or-label"===H?oe=J:("outside-to-line"===H||"outside-to-line-or-label"===H)&&(oe=[g.x,g.y]),c=o.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),oe[0],oe[1],0),"outside-to-node-or-label"===H||"outside-to-line-or-label"===H){var gt=d._private.rscratch,Dt=gt.labelX,Ht=gt.labelY,kn=gt.labelWidth/2,yn=gt.labelHeight/2,Qt=d.pstyle("text-valign").value;"top"===Qt?Ht-=yn:"bottom"===Qt&&(Ht+=yn);var at=d.pstyle("text-halign").value;"left"===at?Dt-=kn:"right"===at&&(Dt+=kn);var G=Zc(oe[0],oe[1],[Dt-kn,Ht-yn,Dt+kn,Ht-yn,Dt+kn,Ht+yn,Dt-kn,Ht+yn],p.x,p.y);if(G.length>0){var Te=g,it=Wc(Te,od(c)),je=Wc(Te,od(G)),ze=it;je<it&&(c=[G[0],G[1]],ze=je),G.length>2&&Wc(Te,{x:G[2],y:G[3]})<ze&&(c=[G[2],G[3]])}}var lt=ll(c,J,o.arrowShapes[b].spacing(u)+w),Nt=ll(c,J,o.arrowShapes[b].gap(u)+w);E.startX=Nt[0],E.startY=Nt[1],E.arrowStartX=lt[0],E.arrowStartY=lt[1],z&&(E.badLine=!(Le(E.startX)&&Le(E.startY)&&Le(E.endX)&&Le(E.endY)))},getSourceEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[0],y:o.haystackPts[1]}:{x:o.arrowStartX,y:o.arrowStartY}},getTargetEndpoint:function(u){var o=u[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(u),o.edgeType)?{x:o.haystackPts[2],y:o.haystackPts[3]}:{x:o.arrowEndX,y:o.arrowEndY}}},Wy={};function nx(u,o,c){for(var d=function(_,w,x,E){return Wr(_,w,x,E)},p=o._private.rstyle.bezierPts,g=0;g<u.bezierProjPcts.length;g++){var y=u.bezierProjPcts[g];p.push({x:d(c[0],c[2],c[4],y),y:d(c[1],c[3],c[5],y)})}}Wy.storeEdgeProjections=function(u){var o=u._private,c=o.rscratch,d=c.edgeType;if(o.rstyle.bezierPts=null,o.rstyle.linePts=null,o.rstyle.haystackPts=null,"multibezier"===d||"bezier"===d||"self"===d||"compound"===d){o.rstyle.bezierPts=[];for(var f=0;f+5<c.allpts.length;f+=4)nx(this,u,c.allpts.slice(f,f+6))}else if("segments"===d){var p=o.rstyle.linePts=[];for(f=0;f+1<c.allpts.length;f+=2)p.push({x:c.allpts[f],y:c.allpts[f+1]})}else if("haystack"===d){var g=c.haystackPts;o.rstyle.haystackPts=[{x:g[0],y:g[1]},{x:g[2],y:g[3]}]}o.rstyle.arrowWidth=this.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.arrowShapeWidth},Wy.recalculateEdgeProjections=function(u){this.findEdgeControlPoints(u)};var na={recalculateNodeLabelProjection:function(u){var o=u.pstyle("label").strValue;if(!vt(o)){var c,d,f=u._private,p=u.width(),g=u.height(),y=u.padding(),b=u.position(),_=u.pstyle("text-halign").strValue,w=u.pstyle("text-valign").strValue,x=f.rscratch,E=f.rstyle;switch(_){case"left":c=b.x-p/2-y;break;case"right":c=b.x+p/2+y;break;default:c=b.x}switch(w){case"top":d=b.y-g/2-y;break;case"bottom":d=b.y+g/2+y;break;default:d=b.y}x.labelX=c,x.labelY=d,E.labelX=c,E.labelY=d,this.calculateLabelAngles(u),this.applyLabelDimensions(u)}}},yf=function(o,c){var d=Math.atan(c/o);return 0===o&&d<0&&(d*=-1),d},ix=function(o,c){return yf(c.x-o.x,c.y-o.y)};na.recalculateEdgeLabelProjections=function(u){var o,c=u._private,d=c.rscratch,f=this,p={mid:u.pstyle("label").strValue,source:u.pstyle("source-label").strValue,target:u.pstyle("target-label").strValue};if(p.mid||p.source||p.target){var g=function(x,E,S){rr(c.rscratch,x,E,S),rr(c.rstyle,x,E,S)};g("labelX",null,(o={x:d.midX,y:d.midY}).x),g("labelY",null,o.y);var y=yf(d.midDispX,d.midDispY);g("labelAutoAngle",null,y);var b=function w(){if(w.cache)return w.cache;for(var x=[],E=0;E+5<d.allpts.length;E+=4)x.push({p0:{x:d.allpts[E],y:d.allpts[E+1]},p1:{x:d.allpts[E+2],y:d.allpts[E+3]},p2:{x:d.allpts[E+4],y:d.allpts[E+5]},startDist:0,length:0,segments:[]});var I=c.rstyle.bezierPts,R=f.bezierProjPcts.length;function F(H,Z,U,Q,J){var W=Kn(Z,U),oe=H.segments[H.segments.length-1];H.segments.push({p0:Z,p1:U,t0:Q,t1:J,startDist:oe?oe.startDist+oe.length:0,length:W}),H.length+=W}for(var L=0;L<x.length;L++){var z=x[L],K=x[L-1];K&&(z.startDist=K.startDist+K.length),F(z,z.p0,I[L*R],0,f.bezierProjPcts[0]);for(var Y=0;Y<R-1;Y++)F(z,I[L*R+Y],I[L*R+Y+1],f.bezierProjPcts[Y],f.bezierProjPcts[Y+1]);F(z,I[L*R+R-1],z.p2,f.bezierProjPcts[R-1],1)}return w.cache=x},_=function(x){var E,S="source"===x;if(p[x]){var M=u.pstyle(x+"-text-offset").pfValue;switch(d.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var I,A=b(),R=0,F=0,L=0;L<A.length;L++){for(var z=A[S?L:A.length-1-L],K=0;K<z.segments.length;K++){var Y=z.segments[S?K:z.segments.length-1-K];if(R=F,(F+=Y.length)>=M||L===A.length-1&&K===z.segments.length-1){I={cp:z,segment:Y};break}}if(I)break}var Z=I.cp,U=I.segment,Q=(M-R)/U.length,J=U.t1-U.t0,W=S?U.t0+J*Q:U.t1-J*Q;W=Kt(0,W,1),o=Pe(Z.p0,Z.p1,Z.p2,W),E=function(o,c,d,f){var p=Kt(0,f-.001,1),g=Kt(0,f+.001,1),y=Pe(o,c,d,p),b=Pe(o,c,d,g);return ix(y,b)}(Z.p0,Z.p1,Z.p2,W);break;case"straight":case"segments":case"haystack":for(var X,me,ae,de,oe=0,be=d.allpts.length,Se=0;Se+3<be&&(S?(ae={x:d.allpts[Se],y:d.allpts[Se+1]},de={x:d.allpts[Se+2],y:d.allpts[Se+3]}):(ae={x:d.allpts[be-2-Se],y:d.allpts[be-1-Se]},de={x:d.allpts[be-4-Se],y:d.allpts[be-3-Se]}),me=oe,!((oe+=X=Kn(ae,de))>=M));Se+=2);var Ee=(M-me)/X;Ee=Kt(0,Ee,1),o=function(o,c,d,f){var p_x=c.x-o.x,p_y=c.y-o.y,g=Kn(o,c);return d=d??0,{x:o.x+p_x/g*(f=f??d*g),y:o.y+p_y/g*f}}(ae,de,Ee),E=ix(ae,de)}g("labelX",x,o.x),g("labelY",x,o.y),g("labelAutoAngle",x,E)}};_("source"),_("target"),this.applyLabelDimensions(u)}},na.applyLabelDimensions=function(u){this.applyPrefixedLabelDimensions(u),u.isEdge()&&(this.applyPrefixedLabelDimensions(u,"source"),this.applyPrefixedLabelDimensions(u,"target"))},na.applyPrefixedLabelDimensions=function(u,o){var c=u._private,d=this.getLabelText(u,o),f=this.calculateLabelDimensions(u,d),p=u.pstyle("line-height").pfValue,g=u.pstyle("text-wrap").strValue,y=ai(c.rscratch,"labelWrapCachedLines",o)||[],b="wrap"!==g?1:Math.max(y.length,1),_=f.height/b,w=_*p,x=f.width,E=f.height+(b-1)*(p-1)*_;rr(c.rstyle,"labelWidth",o,x),rr(c.rscratch,"labelWidth",o,x),rr(c.rstyle,"labelHeight",o,E),rr(c.rscratch,"labelHeight",o,E),rr(c.rscratch,"labelLineHeight",o,w)},na.getLabelText=function(u,o){var c=u._private,f=u.pstyle((o?o+"-":"")+"label").strValue,p=u.pstyle("text-transform").value,g=function(Fe,Ee){return Ee?(rr(c.rscratch,Fe,o,Ee),Ee):ai(c.rscratch,Fe,o)};if(!f)return"";"none"==p||("uppercase"==p?f=f.toUpperCase():"lowercase"==p&&(f=f.toLowerCase()));var y=u.pstyle("text-wrap").value;if("wrap"===y){var b=g("labelKey");if(null!=b&&g("labelWrapKey")===b)return g("labelWrapCachedText");for(var w=f.split("\n"),x=u.pstyle("text-max-width").pfValue,S="anywhere"===u.pstyle("text-overflow-wrap").value,M=[],A=/[\s\u200b]+/,I=S?"":" ",R=0;R<w.length;R++){var F=w[R],z=this.calculateLabelDimensions(u,F).width;if(S){var K=F.split("").join("\u200b");F=K}if(z>x){for(var Y=F.split(A),H="",Z=0;Z<Y.length;Z++){var U=Y[Z];this.calculateLabelDimensions(u,0===H.length?U:H+I+U).width<=x?H+=U+I:(H&&M.push(H),H=U+I)}H.match(/^[\s\u200b]+$/)||M.push(H)}else M.push(F)}g("labelWrapCachedLines",M),f=g("labelWrapCachedText",M.join("\n")),g("labelWrapKey",b)}else if("ellipsis"===y){var oe=u.pstyle("text-max-width").pfValue,X="",ae=!1;if(this.calculateLabelDimensions(u,f).width<oe)return f;for(var de=0;de<f.length&&!(this.calculateLabelDimensions(u,X+f[de]+"\u2026").width>oe);de++)X+=f[de],de===f.length-1&&(ae=!0);return ae||(X+="\u2026"),X}return f},na.getLabelJustification=function(u){var o=u.pstyle("text-justification").strValue,c=u.pstyle("text-halign").strValue;if("auto"!==o)return o;if(!u.isNode())return"center";switch(c){case"left":return"right";case"right":return"left";default:return"center"}},na.calculateLabelDimensions=function(u,o){var d=rl(o,u._private.labelDimsKey),f=this.labelDimCache||(this.labelDimCache=[]),p=f[d];if(null!=p)return p;var y=u.pstyle("font-style").strValue,b=u.pstyle("font-size").pfValue,_=u.pstyle("font-family").strValue,w=u.pstyle("font-weight").strValue,x=this.labelCalcCanvas,E=this.labelCalcCanvasContext;if(!x){x=this.labelCalcCanvas=document.createElement("canvas"),E=this.labelCalcCanvasContext=x.getContext("2d");var S=x.style;S.position="absolute",S.left="-9999px",S.top="-9999px",S.zIndex="-1",S.visibility="hidden",S.pointerEvents="none"}E.font="".concat(y," ").concat(w," ").concat(b,"px ").concat(_);for(var M=0,A=0,I=o.split("\n"),R=0;R<I.length;R++){var L=E.measureText(I[R]),z=Math.ceil(L.width),K=b;M=Math.max(z,M),A+=K}return f[d]={width:M+=0,height:A+=0}},na.calculateLabelAngle=function(u,o){var d=u._private.rscratch,f=u.isEdge(),g=u.pstyle((o?o+"-":"")+"text-rotation"),y=g.strValue;return"none"===y?0:f&&"autorotate"===y?d.labelAutoAngle:"autorotate"===y?0:g.pfValue},na.calculateLabelAngles=function(u){var o=this,c=u.isEdge(),f=u._private.rscratch;f.labelAngle=o.calculateLabelAngle(u),c&&(f.sourceLabelAngle=o.calculateLabelAngle(u,"source"),f.targetLabelAngle=o.calculateLabelAngle(u,"target"))};var _f={},sx=!1;_f.getNodeShape=function(u){var c=u.pstyle("shape").value;if("cutrectangle"===c&&(u.width()<28||u.height()<28))return sx||(ti("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),sx=!0),"rectangle";if(u.isParent())return"rectangle"===c||"roundrectangle"===c||"round-rectangle"===c||"cutrectangle"===c||"cut-rectangle"===c||"barrel"===c?c:"rectangle";if("polygon"===c){var d=u.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(d).name}return c};var Sg={updateCachedGrabbedEles:function(){var u=this.cachedZSortedEles;if(u){u.drag=[],u.nondrag=[];for(var o=[],c=0;c<u.length;c++){var f=(d=u[c])._private.rscratch;d.grabbed()&&!d.isParent()?o.push(d):f.inDragLayer?u.drag.push(d):u.nondrag.push(d)}for(c=0;c<o.length;c++){var d;u.drag.push(d=o[c])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(u){if(u||!this.cachedZSortedEles){var o=this.cy.mutableElements().toArray();o.sort(uu),o.interactive=o.filter(function(c){return c.interactive()}),this.cachedZSortedEles=o,this.updateCachedGrabbedEles()}else o=this.cachedZSortedEles;return o}},ox={};[yl,vf,ls,yu,Wy,na,_f,{registerCalculationListeners:function(){var u=this.cy,o=u.collection(),c=this,d=function(g){var y=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o.merge(g),y)for(var b=0;b<g.length;b++){var _=g[b],w=_._private,x=w.rstyle;x.clean=!1,x.cleanConnected=!1}};c.binder(u).on("bounds.* dirty.*",function(g){d(g.target)}).on("style.* background.*",function(g){d(g.target,!1)});var f=function(g){if(g){var y=c.onUpdateEleCalcsFns;o.cleanStyle();for(var b=0;b<o.length;b++){var _=o[b],w=_._private.rstyle;_.isNode()&&!w.cleanConnected&&(d(_.connectedEdges()),w.cleanConnected=!0)}if(y)for(var x=0;x<y.length;x++)(0,y[x])(g,o);c.recalculateRenderedStyle(o),o=u.collection()}};c.flushRenderedStyleQueue=function(){f(!0)},c.beforeRender(f,c.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(u){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(u)},recalculateRenderedStyle:function(u,o){var c=function(z){return z._private.rstyle.cleanConnected},d=[],f=[];if(!this.destroyed){void 0===o&&(o=!0);for(var p=0;p<u.length;p++){var g=u[p],y=g._private,b=y.rstyle;g.isEdge()&&(!c(g.source())||!c(g.target()))&&(b.clean=!1),!(o&&b.clean||g.removed())&&"none"!==g.pstyle("display").value&&("nodes"===y.group?f.push(g):d.push(g),b.clean=!0)}for(var _=0;_<f.length;_++){var w=f[_],E=w._private.rstyle,S=w.position();this.recalculateNodeLabelProjection(w),E.nodeX=S.x,E.nodeY=S.y,E.nodeW=w.pstyle("width").pfValue,E.nodeH=w.pstyle("height").pfValue}this.recalculateEdgeProjections(d);for(var M=0;M<d.length;M++){var I=d[M]._private,R=I.rstyle,F=I.rscratch;R.srcX=F.arrowStartX,R.srcY=F.arrowStartY,R.tgtX=F.arrowEndX,R.tgtY=F.arrowEndY,R.midX=F.midX,R.midY=F.midY,R.labelAngle=F.labelAngle,R.sourceLabelAngle=F.sourceLabelAngle,R.targetLabelAngle=F.targetLabelAngle}}}},Sg].forEach(function(u){qt(ox,u)});var qy={getCachedImage:function(u,o,c){var f=this.imageCache=this.imageCache||{},p=f[u];if(p)return p.image.complete||p.image.addEventListener("load",c),p.image;var g=(p=f[u]=f[u]||{}).image=new Image;g.addEventListener("load",c),g.addEventListener("error",function(){g.error=!0});var y="data:";return u.substring(0,y.length).toLowerCase()===y||(g.crossOrigin=o),g.src=u,g}},tc={registerBinding:function(u,o,c,d){var f=Array.prototype.slice.apply(arguments,[1]),p=this.binder(u);return p.on.apply(p,f)},binder:function(u){var o=this,c=u===window||u===document||u===document.body||function(o){return!(typeof HTMLElement>"u")&&o instanceof HTMLElement}(u);if(null==o.supportsPassiveEvents){var d=!1;try{var f=Object.defineProperty({},"passive",{get:function(){return d=!0,!0}});window.addEventListener("test",null,f)}catch{}o.supportsPassiveEvents=d}var p=function(y,b,_){var w=Array.prototype.slice.call(arguments);return c&&o.supportsPassiveEvents&&(w[2]={capture:_??!1,passive:!1,once:!1}),o.bindings.push({target:u,args:w}),(u.addEventListener||u.on).apply(u,w),this};return{on:p,addEventListener:p,addListener:p,bind:p}},nodeIsDraggable:function(u){return u&&u.isNode()&&!u.locked()&&u.grabbable()},nodeIsGrabbable:function(u){return this.nodeIsDraggable(u)&&u.interactive()}};tc.load=function(){var u=this,o=function(G){return G.selected()},c=function(G,Te,it,je){null==G&&(G=u.cy);for(var ze=0;ze<Te.length;ze++)G.emit({originalEvent:it,type:Te[ze],position:je})},d=function(G){return G.shiftKey||G.metaKey||G.ctrlKey},f=function(G,Te){var it=!0;if(u.cy.hasCompoundNodes()&&G&&G.pannable()){for(var je=0;Te&&je<Te.length;je++)if((G=Te[je]).isNode()&&G.isParent()&&!G.pannable()){it=!1;break}}else it=!0;return it},y=function(G){G[0]._private.rscratch.inDragLayer=!0},_=function(G){G[0]._private.rscratch.isGrabTarget=!0},x=function(G,Te){var it=Te.addToList;!it.has(G)&&G.grabbable()&&!G.locked()&&(it.merge(G),function(G){G[0]._private.grabbed=!0}(G))},S=function(G,Te){Te=Te||{};var it=G.cy().hasCompoundNodes();Te.inDragLayer&&(G.forEach(y),G.neighborhood().stdFilter(function(je){return!it||je.isEdge()}).forEach(y)),Te.addToList&&G.forEach(function(je){x(je,Te)}),function(G,Te){if(G.cy().hasCompoundNodes()&&(null!=Te.inDragLayer||null!=Te.addToList)){var it=G.descendants();Te.inDragLayer&&(it.forEach(y),it.connectedEdges().forEach(y)),Te.addToList&&x(it,Te)}}(G,Te),I(G,{inDragLayer:Te.inDragLayer}),u.updateCachedGrabbedEles()},M=S,A=function(G){!G||(u.getCachedZSortedEles().forEach(function(Te){(function(G){G[0]._private.grabbed=!1})(Te),function(G){G[0]._private.rscratch.inDragLayer=!1}(Te),function(G){G[0]._private.rscratch.isGrabTarget=!1}(Te)}),u.updateCachedGrabbedEles())},I=function(G,Te){if((null!=Te.inDragLayer||null!=Te.addToList)&&G.cy().hasCompoundNodes()){var it=G.ancestors().orphans();if(!it.same(G)){var je=it.descendants().spawnSelf().merge(it).unmerge(G).unmerge(G.descendants()),ze=je.connectedEdges();Te.inDragLayer&&(ze.forEach(y),je.forEach(y)),Te.addToList&&je.forEach(function(In){x(In,Te)})}}},R=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},F=typeof MutationObserver<"u",L=typeof ResizeObserver<"u";F?(u.removeObserver=new MutationObserver(function(at){for(var G=0;G<at.length;G++){var it=at[G].removedNodes;if(it)for(var je=0;je<it.length;je++)if(it[je]===u.container){u.destroy();break}}}),u.container.parentNode&&u.removeObserver.observe(u.container.parentNode,{childList:!0})):u.registerBinding(u.container,"DOMNodeRemoved",function(at){u.destroy()});var z=ue.default(function(){u.cy.resize()},100);F&&(u.styleObserver=new MutationObserver(z),u.styleObserver.observe(u.container,{attributes:!0})),u.registerBinding(window,"resize",z),L&&(u.resizeObserver=new ResizeObserver(z),u.resizeObserver.observe(u.container));var Y=function(){u.invalidateContainerClientCoordsCache()};(function(G,Te){for(;null!=G;)u.registerBinding(at=G,"transitionend",Y),u.registerBinding(at,"animationend",Y),u.registerBinding(at,"scroll",Y),G=G.parentNode;var at})(u.container),u.registerBinding(u.container,"contextmenu",function(at){at.preventDefault()});var U,Q,J,Z=function(G){for(var Te=u.findContainerClientCoords(),it=Te[0],je=Te[1],ze=Te[2],In=Te[3],lt=G.touches?G.touches:[G],Nt=!1,Zn=0;Zn<lt.length;Zn++){var vi=lt[Zn];if(it<=vi.clientX&&vi.clientX<=it+ze&&je<=vi.clientY&&vi.clientY<=je+In){Nt=!0;break}}if(!Nt)return!1;for(var pn=u.container,_n=G.target.parentNode,Mn=!1;_n;){if(_n===pn){Mn=!0;break}_n=_n.parentNode}return!!Mn};u.registerBinding(u.container,"mousedown",function(G){if(Z(G)){G.preventDefault(),R(),u.hoverData.capture=!0,u.hoverData.which=G.which;var Te=u.cy,it=[G.clientX,G.clientY],je=u.projectIntoViewport(it[0],it[1]),ze=u.selection,In=u.findNearestElements(je[0],je[1],!0,!1),lt=In[0],Nt=u.dragData.possibleDragElements;if(u.hoverData.mdownPos=je,u.hoverData.mdownGPos=it,3==G.which){u.hoverData.cxtStarted=!0;var vi={originalEvent:G,type:"cxttapstart",position:{x:je[0],y:je[1]}};lt?(lt.activate(),lt.emit(vi),u.hoverData.down=lt):Te.emit(vi),u.hoverData.downTime=(new Date).getTime(),u.hoverData.cxtDragged=!1}else if(1==G.which){if(lt&&lt.activate(),null!=lt&&u.nodeIsGrabbable(lt)){var pn=function(Xi){return{originalEvent:G,type:Xi,position:{x:je[0],y:je[1]}}};if(_(lt),lt.selected()){Nt=u.dragData.possibleDragElements=Te.collection();var _n=Te.$(function(Mn){return Mn.isNode()&&Mn.selected()&&u.nodeIsGrabbable(Mn)});S(_n,{addToList:Nt}),lt.emit(pn("grabon")),_n.forEach(function(Xi){Xi.emit(pn("grab"))})}else Nt=u.dragData.possibleDragElements=Te.collection(),M(lt,{addToList:Nt}),lt.emit(pn("grabon")).emit(pn("grab"));u.redrawHint("eles",!0),u.redrawHint("drag",!0)}u.hoverData.down=lt,u.hoverData.downs=In,u.hoverData.downTime=(new Date).getTime(),c(lt,["mousedown","tapstart","vmousedown"],G,{x:je[0],y:je[1]}),null==lt?(ze[4]=1,u.data.bgActivePosistion={x:je[0],y:je[1]},u.redrawHint("select",!0),u.redraw()):lt.pannable()&&(ze[4]=1),u.hoverData.tapholdCancelled=!1,clearTimeout(u.hoverData.tapholdTimeout),u.hoverData.tapholdTimeout=setTimeout(function(){if(!u.hoverData.tapholdCancelled){var Xi=u.hoverData.down;Xi?Xi.emit({originalEvent:G,type:"taphold",position:{x:je[0],y:je[1]}}):Te.emit({originalEvent:G,type:"taphold",position:{x:je[0],y:je[1]}})}},u.tapholdDuration)}ze[0]=ze[2]=je[0],ze[1]=ze[3]=je[1]}},!1),u.registerBinding(window,"mousemove",function(G){var Ro;if(u.hoverData.capture||Z(G)){var it=!1,je=u.cy,ze=je.zoom(),In=[G.clientX,G.clientY],lt=u.projectIntoViewport(In[0],In[1]),Nt=u.hoverData.mdownPos,Zn=u.hoverData.mdownGPos,vi=u.selection,pn=null;!u.hoverData.draggingEles&&!u.hoverData.dragging&&!u.hoverData.selecting&&(pn=u.findNearestElement(lt[0],lt[1],!0,!1));var Er,ui=u.hoverData.last,_n=u.hoverData.down,Mn=[lt[0]-vi[2],lt[1]-vi[3]],Xi=u.dragData.possibleDragElements;if(Zn){var Ps=In[0]-Zn[0],Hr=In[1]-Zn[1];u.hoverData.isOverThresholdDrag=Er=Ps*Ps+Hr*Hr>=u.desktopTapThreshold2}var ka=d(G);Er&&(u.hoverData.tapholdCancelled=!0),it=!0,c(pn,["mousemove","vmousemove","tapdrag"],G,{x:lt[0],y:lt[1]});var Io=function(){u.data.bgActivePosistion=void 0,u.hoverData.selecting||je.emit({originalEvent:G,type:"boxstart",position:{x:lt[0],y:lt[1]}}),vi[4]=1,u.hoverData.selecting=!0,u.redrawHint("select",!0),u.redraw()};if(3===u.hoverData.which){if(Er){var oc={originalEvent:G,type:"cxtdrag",position:{x:lt[0],y:lt[1]}};_n?_n.emit(oc):je.emit(oc),u.hoverData.cxtDragged=!0,(!u.hoverData.cxtOver||pn!==u.hoverData.cxtOver)&&(u.hoverData.cxtOver&&u.hoverData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:lt[0],y:lt[1]}}),u.hoverData.cxtOver=pn,pn&&pn.emit({originalEvent:G,type:"cxtdragover",position:{x:lt[0],y:lt[1]}}))}}else if(u.hoverData.dragging){if(it=!0,je.panningEnabled()&&je.userPanningEnabled()){var Mu;if(u.hoverData.justStartedPan){var Tf=u.hoverData.mdownPos;Mu={x:(lt[0]-Tf[0])*ze,y:(lt[1]-Tf[1])*ze},u.hoverData.justStartedPan=!1}else Mu={x:Mn[0]*ze,y:Mn[1]*ze};je.panBy(Mu),je.emit("dragpan"),u.hoverData.dragged=!0}lt=u.projectIntoViewport(G.clientX,G.clientY)}else if(1!=vi[4]||null!=_n&&!_n.pannable()){if(_n&&_n.pannable()&&_n.active()&&_n.unactivate(),(!_n||!_n.grabbed())&&pn!=ui&&(ui&&c(ui,["mouseout","tapdragout"],G,{x:lt[0],y:lt[1]}),pn&&c(pn,["mouseover","tapdragover"],G,{x:lt[0],y:lt[1]}),u.hoverData.last=pn),_n)if(Er){if(je.boxSelectionEnabled()&&ka)_n&&_n.grabbed()&&(A(Xi),_n.emit("freeon"),Xi.emit("free"),u.dragData.didDrag&&(_n.emit("dragfreeon"),Xi.emit("dragfree"))),Io();else if(_n&&_n.grabbed()&&u.nodeIsDraggable(_n)){var us=!u.dragData.didDrag;us&&u.redrawHint("eles",!0),u.dragData.didDrag=!0,u.hoverData.draggingEles||S(Xi,{inDragLayer:!0});var ds={x:0,y:0};if(Le(Mn[0])&&Le(Mn[1])&&(ds.x+=Mn[0],ds.y+=Mn[1],us)){var Es=u.hoverData.dragDelta;Es&&Le(Es[0])&&Le(Es[1])&&(ds.x+=Es[0],ds.y+=Es[1])}u.hoverData.draggingEles=!0,Xi.silentShift(ds).emit("position drag"),u.redrawHint("drag",!0),u.redraw()}}else 0===(Ro=u.hoverData.dragDelta=u.hoverData.dragDelta||[]).length?(Ro.push(Mn[0]),Ro.push(Mn[1])):(Ro[0]+=Mn[0],Ro[1]+=Mn[1]);it=!0}else Er&&(u.hoverData.dragging||!je.boxSelectionEnabled()||!ka&&je.panningEnabled()&&je.userPanningEnabled()?!u.hoverData.selecting&&je.panningEnabled()&&je.userPanningEnabled()&&f(_n,u.hoverData.downs)&&(u.hoverData.dragging=!0,u.hoverData.justStartedPan=!0,vi[4]=0,u.data.bgActivePosistion=od(Nt),u.redrawHint("select",!0),u.redraw()):Io(),_n&&_n.pannable()&&_n.active()&&_n.unactivate());if(vi[2]=lt[0],vi[3]=lt[1],it)return G.stopPropagation&&G.stopPropagation(),G.preventDefault&&G.preventDefault(),!1}},!1),u.registerBinding(window,"mouseup",function(G){if(u.hoverData.capture){u.hoverData.capture=!1;var it=u.cy,je=u.projectIntoViewport(G.clientX,G.clientY),ze=u.selection,In=u.findNearestElement(je[0],je[1],!0,!1),lt=u.dragData.possibleDragElements,Nt=u.hoverData.down,Zn=d(G);if(u.data.bgActivePosistion&&(u.redrawHint("select",!0),u.redraw()),u.hoverData.tapholdCancelled=!0,u.data.bgActivePosistion=void 0,Nt&&Nt.unactivate(),3===u.hoverData.which){var vi={originalEvent:G,type:"cxttapend",position:{x:je[0],y:je[1]}};if(Nt?Nt.emit(vi):it.emit(vi),!u.hoverData.cxtDragged){var pn={originalEvent:G,type:"cxttap",position:{x:je[0],y:je[1]}};Nt?Nt.emit(pn):it.emit(pn)}u.hoverData.cxtDragged=!1,u.hoverData.which=null}else if(1===u.hoverData.which){if(c(In,["mouseup","tapend","vmouseup"],G,{x:je[0],y:je[1]}),!u.dragData.didDrag&&!u.hoverData.dragged&&!u.hoverData.selecting&&!u.hoverData.isOverThresholdDrag&&(c(Nt,["click","tap","vclick"],G,{x:je[0],y:je[1]}),Q=!1,G.timeStamp-J<=it.multiClickDebounceTime()?(U&&clearTimeout(U),Q=!0,J=null,c(Nt,["dblclick","dbltap","vdblclick"],G,{x:je[0],y:je[1]})):(U=setTimeout(function(){Q||c(Nt,["oneclick","onetap","voneclick"],G,{x:je[0],y:je[1]})},it.multiClickDebounceTime()),J=G.timeStamp)),null==Nt&&!u.dragData.didDrag&&!u.hoverData.selecting&&!u.hoverData.dragged&&!d(G)&&(it.$(o).unselect(["tapunselect"]),lt.length>0&&u.redrawHint("eles",!0),u.dragData.possibleDragElements=lt=it.collection()),In==Nt&&!u.dragData.didDrag&&!u.hoverData.selecting&&null!=In&&In._private.selectable&&(u.hoverData.dragging||("additive"===it.selectionType()||Zn?In.selected()?In.unselect(["tapunselect"]):In.select(["tapselect"]):Zn||(it.$(o).unmerge(In).unselect(["tapunselect"]),In.select(["tapselect"]))),u.redrawHint("eles",!0)),u.hoverData.selecting){var ui=it.collection(u.getAllInBox(ze[0],ze[1],ze[2],ze[3]));u.redrawHint("select",!0),ui.length>0&&u.redrawHint("eles",!0),it.emit({type:"boxend",originalEvent:G,position:{x:je[0],y:je[1]}}),"additive"===it.selectionType()||Zn||it.$(o).unmerge(ui).unselect(),ui.emit("box").stdFilter(function(Er){return Er.selectable()&&!Er.selected()}).select().emit("boxselect"),u.redraw()}if(u.hoverData.dragging&&(u.hoverData.dragging=!1,u.redrawHint("select",!0),u.redrawHint("eles",!0),u.redraw()),!ze[4]){u.redrawHint("drag",!0),u.redrawHint("eles",!0);var Mn=Nt&&Nt.grabbed();A(lt),Mn&&(Nt.emit("freeon"),lt.emit("free"),u.dragData.didDrag&&(Nt.emit("dragfreeon"),lt.emit("dragfree")))}}ze[4]=0,u.hoverData.down=null,u.hoverData.cxtStarted=!1,u.hoverData.draggingEles=!1,u.hoverData.selecting=!1,u.hoverData.isOverThresholdDrag=!1,u.dragData.didDrag=!1,u.hoverData.dragged=!1,u.hoverData.dragDelta=[],u.hoverData.mdownPos=null,u.hoverData.mdownGPos=null}},!1);var W=function(G){if(!u.scrollingPage){var Te=u.cy,it=Te.zoom(),je=Te.pan(),ze=u.projectIntoViewport(G.clientX,G.clientY),In=[ze[0]*it+je.x,ze[1]*it+je.y];if(u.hoverData.draggingEles||u.hoverData.dragging||u.hoverData.cxtStarted||0!==u.selection[4])return void G.preventDefault();if(Te.panningEnabled()&&Te.userPanningEnabled()&&Te.zoomingEnabled()&&Te.userZoomingEnabled()){var lt;G.preventDefault(),u.data.wheelZooming=!0,clearTimeout(u.data.wheelTimeout),u.data.wheelTimeout=setTimeout(function(){u.data.wheelZooming=!1,u.redrawHint("eles",!0),u.redraw()},150),lt=null!=G.deltaY?G.deltaY/-250:null!=G.wheelDeltaY?G.wheelDeltaY/1e3:G.wheelDelta/1e3,lt*=u.wheelSensitivity,1===G.deltaMode&&(lt*=33);var Zn=Te.zoom()*Math.pow(10,lt);"gesturechange"===G.type&&(Zn=u.gestureStartZoom*G.scale),Te.zoom({level:Zn,renderedPosition:{x:In[0],y:In[1]}}),Te.emit("gesturechange"===G.type?"pinchzoom":"scrollzoom")}}};u.registerBinding(u.container,"wheel",W,!0),u.registerBinding(window,"scroll",function(G){u.scrollingPage=!0,clearTimeout(u.scrollingPageTimeout),u.scrollingPageTimeout=setTimeout(function(){u.scrollingPage=!1},250)},!0),u.registerBinding(u.container,"gesturestart",function(G){u.gestureStartZoom=u.cy.zoom(),u.hasTouchStarted||G.preventDefault()},!0),u.registerBinding(u.container,"gesturechange",function(at){u.hasTouchStarted||W(at)},!0),u.registerBinding(u.container,"mouseout",function(G){var Te=u.projectIntoViewport(G.clientX,G.clientY);u.cy.emit({originalEvent:G,type:"mouseout",position:{x:Te[0],y:Te[1]}})},!1),u.registerBinding(u.container,"mouseover",function(G){var Te=u.projectIntoViewport(G.clientX,G.clientY);u.cy.emit({originalEvent:G,type:"mouseover",position:{x:Te[0],y:Te[1]}})},!1);var oe,X,me,ae,de,be,Se,Fe,Ee,Re,Ye,qe,We,Me,Je,ft,mt,nn,Cn,wt,He=function(G,Te,it,je){return Math.sqrt((it-G)*(it-G)+(je-Te)*(je-Te))},ye=function(G,Te,it,je){return(it-G)*(it-G)+(je-Te)*(je-Te)};if(u.registerBinding(u.container,"touchstart",Me=function(G){if(u.hasTouchStarted=!0,Z(G)){R(),u.touchData.capture=!0,u.data.bgActivePosistion=void 0;var Te=u.cy,it=u.touchData.now,je=u.touchData.earlier;if(G.touches[0]){var ze=u.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);it[0]=ze[0],it[1]=ze[1]}if(G.touches[1]&&(ze=u.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),it[2]=ze[0],it[3]=ze[1]),G.touches[2]&&(ze=u.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),it[4]=ze[0],it[5]=ze[1]),G.touches[1]){u.touchData.singleTouchMoved=!0,A(u.dragData.touchDragEles);var In=u.findContainerClientCoords();Ye=In[2],qe=In[3],X=G.touches[0].clientY-(Re=In[1]),me=G.touches[1].clientX-(Ee=In[0]),ae=G.touches[1].clientY-Re,We=0<=(oe=G.touches[0].clientX-Ee)&&oe<=Ye&&0<=me&&me<=Ye&&0<=X&&X<=qe&&0<=ae&&ae<=qe;var lt=Te.pan(),Nt=Te.zoom();if(de=He(oe,X,me,ae),be=ye(oe,X,me,ae),Fe=[((Se=[(oe+me)/2,(X+ae)/2])[0]-lt.x)/Nt,(Se[1]-lt.y)/Nt],be<4e4&&!G.touches[2]){var pn=u.findNearestElement(it[0],it[1],!0,!0),ui=u.findNearestElement(it[2],it[3],!0,!0);return pn&&pn.isNode()?(pn.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:it[0],y:it[1]}}),u.touchData.start=pn):ui&&ui.isNode()?(ui.activate().emit({originalEvent:G,type:"cxttapstart",position:{x:it[0],y:it[1]}}),u.touchData.start=ui):Te.emit({originalEvent:G,type:"cxttapstart",position:{x:it[0],y:it[1]}}),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!0,u.touchData.cxtDragged=!1,u.data.bgActivePosistion=void 0,void u.redraw()}}if(G.touches[2])Te.boxSelectionEnabled()&&G.preventDefault();else if(!G.touches[1]&&G.touches[0]){var _n=u.findNearestElements(it[0],it[1],!0,!0),Mn=_n[0];if(null!=Mn&&(Mn.activate(),u.touchData.start=Mn,u.touchData.starts=_n,u.nodeIsGrabbable(Mn))){var Xi=u.dragData.touchDragEles=Te.collection(),Er=null;u.redrawHint("eles",!0),u.redrawHint("drag",!0),Mn.selected()?(Er=Te.$(function(Ds){return Ds.selected()&&u.nodeIsGrabbable(Ds)}),S(Er,{addToList:Xi})):M(Mn,{addToList:Xi}),_(Mn);var Ps=function(ka){return{originalEvent:G,type:ka,position:{x:it[0],y:it[1]}}};Mn.emit(Ps("grabon")),Er?Er.forEach(function(Ds){Ds.emit(Ps("grab"))}):Mn.emit(Ps("grab"))}c(Mn,["touchstart","tapstart","vmousedown"],G,{x:it[0],y:it[1]}),null==Mn&&(u.data.bgActivePosistion={x:ze[0],y:ze[1]},u.redrawHint("select",!0),u.redraw()),u.touchData.singleTouchMoved=!1,u.touchData.singleTouchStartTime=+new Date,clearTimeout(u.touchData.tapholdTimeout),u.touchData.tapholdTimeout=setTimeout(function(){!1===u.touchData.singleTouchMoved&&!u.pinching&&!u.touchData.selecting&&c(u.touchData.start,["taphold"],G,{x:it[0],y:it[1]})},u.tapholdDuration)}if(G.touches.length>=1){for(var Vr=u.touchData.startPosition=[],Hr=0;Hr<it.length;Hr++)Vr[Hr]=je[Hr]=it[Hr];var Fs=G.touches[0];u.touchData.startGPosition=[Fs.clientX,Fs.clientY]}}},!1),u.registerBinding(window,"touchmove",Je=function(G){var Te=u.touchData.capture;if(Te||Z(G)){var it=u.selection,je=u.cy,ze=u.touchData.now,In=u.touchData.earlier,lt=je.zoom();if(G.touches[0]){var Nt=u.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);ze[0]=Nt[0],ze[1]=Nt[1]}G.touches[1]&&(Nt=u.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),ze[2]=Nt[0],ze[3]=Nt[1]),G.touches[2]&&(Nt=u.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),ze[4]=Nt[0],ze[5]=Nt[1]);var vi,Zn=u.touchData.startGPosition;if(Te&&G.touches[0]&&Zn){for(var pn=[],ui=0;ui<ze.length;ui++)pn[ui]=ze[ui]-In[ui];var _n=G.touches[0].clientX-Zn[0],Xi=G.touches[0].clientY-Zn[1];vi=_n*_n+Xi*Xi>=u.touchTapThreshold2}if(Te&&u.touchData.cxt){G.preventDefault();var ka=ye(Vr=G.touches[0].clientX-Ee,Hr=G.touches[0].clientY-Re,Fs=G.touches[1].clientX-Ee,Ds=G.touches[1].clientY-Re);if(ka/be>=2.25||ka>=22500){u.touchData.cxt=!1,u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var ac={originalEvent:G,type:"cxttapend",position:{x:ze[0],y:ze[1]}};u.touchData.start?(u.touchData.start.unactivate().emit(ac),u.touchData.start=null):je.emit(ac)}}if(Te&&u.touchData.cxt){ac={originalEvent:G,type:"cxtdrag",position:{x:ze[0],y:ze[1]}},u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.touchData.start?u.touchData.start.emit(ac):je.emit(ac),u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxtDragged=!0;var us=u.findNearestElement(ze[0],ze[1],!0,!0);(!u.touchData.cxtOver||us!==u.touchData.cxtOver)&&(u.touchData.cxtOver&&u.touchData.cxtOver.emit({originalEvent:G,type:"cxtdragout",position:{x:ze[0],y:ze[1]}}),u.touchData.cxtOver=us,us&&us.emit({originalEvent:G,type:"cxtdragover",position:{x:ze[0],y:ze[1]}}))}else if(Te&&G.touches[2]&&je.boxSelectionEnabled())G.preventDefault(),u.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,u.touchData.selecting||je.emit({originalEvent:G,type:"boxstart",position:{x:ze[0],y:ze[1]}}),u.touchData.selecting=!0,u.touchData.didSelect=!0,it[4]=1,it&&0!==it.length&&void 0!==it[0]?(it[2]=(ze[0]+ze[2]+ze[4])/3,it[3]=(ze[1]+ze[3]+ze[5])/3):(it[0]=(ze[0]+ze[2]+ze[4])/3,it[1]=(ze[1]+ze[3]+ze[5])/3,it[2]=(ze[0]+ze[2]+ze[4])/3+1,it[3]=(ze[1]+ze[3]+ze[5])/3+1),u.redrawHint("select",!0),u.redraw();else if(Te&&G.touches[1]&&!u.touchData.didSelect&&je.zoomingEnabled()&&je.panningEnabled()&&je.userZoomingEnabled()&&je.userPanningEnabled()){if(G.preventDefault(),u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),ds=u.dragData.touchDragEles){u.redrawHint("drag",!0);for(var Es=0;Es<ds.length;Es++){var Af=ds[Es]._private;Af.grabbed=!1,Af.rscratch.inDragLayer=!1}}var Vr,Hr,Fs,Ds,Ro=u.touchData.start,Sx=He(Vr=G.touches[0].clientX-Ee,Hr=G.touches[0].clientY-Re,Fs=G.touches[1].clientX-Ee,Ds=G.touches[1].clientY-Re),Mx=Sx/de;if(We){var Ax=(Vr-oe+(Fs-me))/2,LA=(Hr-X+(Ds-ae))/2,Ra=je.zoom(),eo=Ra*Mx,kf=je.pan(),p_=Fe[0]*Ra+kf.x,Oa=Fe[1]*Ra+kf.y,kx={x:-eo/Ra*(p_-kf.x-Ax)+p_,y:-eo/Ra*(Oa-kf.y-LA)+Oa};Ro&&Ro.active()&&(A(ds=u.dragData.touchDragEles),u.redrawHint("drag",!0),u.redrawHint("eles",!0),Ro.unactivate().emit("freeon"),ds.emit("free"),u.dragData.didDrag&&(Ro.emit("dragfreeon"),ds.emit("dragfree"))),je.viewport({zoom:eo,pan:kx,cancelOnFailedZoom:!0}),je.emit("pinchzoom"),de=Sx,oe=Vr,X=Hr,me=Fs,ae=Ds,u.pinching=!0}G.touches[0]&&(Nt=u.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),ze[0]=Nt[0],ze[1]=Nt[1]),G.touches[1]&&(Nt=u.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),ze[2]=Nt[0],ze[3]=Nt[1]),G.touches[2]&&(Nt=u.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),ze[4]=Nt[0],ze[5]=Nt[1])}else if(G.touches[0]&&!u.touchData.didSelect){var to=u.touchData.start,Bd=u.touchData.last;if(!u.hoverData.draggingEles&&!u.swipePanning&&(us=u.findNearestElement(ze[0],ze[1],!0,!0)),Te&&null!=to&&G.preventDefault(),Te&&null!=to&&u.nodeIsDraggable(to))if(vi){var ds=u.dragData.touchDragEles,g_=!u.dragData.didDrag;g_&&S(ds,{inDragLayer:!0}),u.dragData.didDrag=!0;var cc={x:0,y:0};Le(pn[0])&&Le(pn[1])&&(cc.x+=pn[0],cc.y+=pn[1],g_)&&(u.redrawHint("eles",!0),(Sr=u.touchData.dragDelta)&&Le(Sr[0])&&Le(Sr[1])&&(cc.x+=Sr[0],cc.y+=Sr[1])),u.hoverData.draggingEles=!0,ds.silentShift(cc).emit("position drag"),u.redrawHint("drag",!0),u.touchData.startPosition[0]==In[0]&&u.touchData.startPosition[1]==In[1]&&u.redrawHint("eles",!0),u.redraw()}else{var Sr;0===(Sr=u.touchData.dragDelta=u.touchData.dragDelta||[]).length?(Sr.push(pn[0]),Sr.push(pn[1])):(Sr[0]+=pn[0],Sr[1]+=pn[1])}if(c(to||us,["touchmove","tapdrag","vmousemove"],G,{x:ze[0],y:ze[1]}),(!to||!to.grabbed())&&us!=Bd&&(Bd&&Bd.emit({originalEvent:G,type:"tapdragout",position:{x:ze[0],y:ze[1]}}),us&&us.emit({originalEvent:G,type:"tapdragover",position:{x:ze[0],y:ze[1]}})),u.touchData.last=us,Te)for(Es=0;Es<ze.length;Es++)ze[Es]&&u.touchData.startPosition[Es]&&vi&&(u.touchData.singleTouchMoved=!0);Te&&(null==to||to.pannable())&&je.panningEnabled()&&je.userPanningEnabled()&&(f(to,u.touchData.starts)&&(G.preventDefault(),u.data.bgActivePosistion||(u.data.bgActivePosistion=od(u.touchData.startPosition)),u.swipePanning?(je.panBy({x:pn[0]*lt,y:pn[1]*lt}),je.emit("dragpan")):vi&&(u.swipePanning=!0,je.panBy({x:_n*lt,y:Xi*lt}),je.emit("dragpan"),to&&(to.unactivate(),u.redrawHint("select",!0),u.touchData.start=null))),Nt=u.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY),ze[0]=Nt[0],ze[1]=Nt[1])}for(ui=0;ui<ze.length;ui++)In[ui]=ze[ui];Te&&G.touches.length>0&&!u.hoverData.draggingEles&&!u.swipePanning&&null!=u.data.bgActivePosistion&&(u.data.bgActivePosistion=void 0,u.redrawHint("select",!0),u.redraw())}},!1),u.registerBinding(window,"touchcancel",ft=function(G){var Te=u.touchData.start;u.touchData.capture=!1,Te&&Te.unactivate()}),u.registerBinding(window,"touchend",mt=function(G){var Te=u.touchData.start;if(u.touchData.capture){0===G.touches.length&&(u.touchData.capture=!1),G.preventDefault();var je=u.selection;u.swipePanning=!1,u.hoverData.draggingEles=!1;var vi,ze=u.cy,In=ze.zoom(),lt=u.touchData.now,Nt=u.touchData.earlier;if(G.touches[0]){var Zn=u.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);lt[0]=Zn[0],lt[1]=Zn[1]}if(G.touches[1]&&(Zn=u.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY),lt[2]=Zn[0],lt[3]=Zn[1]),G.touches[2]&&(Zn=u.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY),lt[4]=Zn[0],lt[5]=Zn[1]),Te&&Te.unactivate(),u.touchData.cxt){if(vi={originalEvent:G,type:"cxttapend",position:{x:lt[0],y:lt[1]}},Te?Te.emit(vi):ze.emit(vi),!u.touchData.cxtDragged){var pn={originalEvent:G,type:"cxttap",position:{x:lt[0],y:lt[1]}};Te?Te.emit(pn):ze.emit(pn)}return u.touchData.start&&(u.touchData.start._private.grabbed=!1),u.touchData.cxt=!1,u.touchData.start=null,void u.redraw()}if(!G.touches[2]&&ze.boxSelectionEnabled()&&u.touchData.selecting){u.touchData.selecting=!1;var ui=ze.collection(u.getAllInBox(je[0],je[1],je[2],je[3]));je[0]=void 0,je[1]=void 0,je[2]=void 0,je[3]=void 0,je[4]=0,u.redrawHint("select",!0),ze.emit({type:"boxend",originalEvent:G,position:{x:lt[0],y:lt[1]}}),ui.emit("box").stdFilter(function(oc){return oc.selectable()&&!oc.selected()}).select().emit("boxselect"),ui.nonempty()&&u.redrawHint("eles",!0),u.redraw()}if(Te?.unactivate(),G.touches[2])u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);else if(!G.touches[1]&&!G.touches[0]&&!G.touches[0]){u.data.bgActivePosistion=void 0,u.redrawHint("select",!0);var Mn=u.dragData.touchDragEles;if(null!=Te){var Xi=Te._private.grabbed;A(Mn),u.redrawHint("drag",!0),u.redrawHint("eles",!0),Xi&&(Te.emit("freeon"),Mn.emit("free"),u.dragData.didDrag&&(Te.emit("dragfreeon"),Mn.emit("dragfree"))),c(Te,["touchend","tapend","vmouseup","tapdragout"],G,{x:lt[0],y:lt[1]}),Te.unactivate(),u.touchData.start=null}else{var Er=u.findNearestElement(lt[0],lt[1],!0,!0);c(Er,["touchend","tapend","vmouseup","tapdragout"],G,{x:lt[0],y:lt[1]})}var Ps=u.touchData.startPosition[0]-lt[0],Hr=u.touchData.startPosition[1]-lt[1],ka=(Ps*Ps+Hr*Hr)*In*In;u.touchData.singleTouchMoved||(Te||ze.$(":selected").unselect(["tapunselect"]),c(Te,["tap","vclick"],G,{x:lt[0],y:lt[1]}),nn=!1,G.timeStamp-wt<=ze.multiClickDebounceTime()?(Cn&&clearTimeout(Cn),nn=!0,wt=null,c(Te,["dbltap","vdblclick"],G,{x:lt[0],y:lt[1]})):(Cn=setTimeout(function(){nn||c(Te,["onetap","voneclick"],G,{x:lt[0],y:lt[1]})},ze.multiClickDebounceTime()),wt=G.timeStamp)),null!=Te&&!u.dragData.didDrag&&Te._private.selectable&&ka<u.touchTapThreshold2&&!u.pinching&&("single"===ze.selectionType()?(ze.$(o).unmerge(Te).unselect(["tapunselect"]),Te.select(["tapselect"])):Te.selected()?Te.unselect(["tapunselect"]):Te.select(["tapselect"]),u.redrawHint("eles",!0)),u.touchData.singleTouchMoved=!0}for(var Ia=0;Ia<lt.length;Ia++)Nt[Ia]=lt[Ia];u.dragData.didDrag=!1,0===G.touches.length&&(u.touchData.dragDelta=[],u.touchData.startPosition=null,u.touchData.startGPosition=null,u.touchData.didSelect=!1),G.touches.length<2&&(1===G.touches.length&&(u.touchData.startGPosition=[G.touches[0].clientX,G.touches[0].clientY]),u.pinching=!1,u.redrawHint("eles",!0),u.redraw())}},!1),typeof TouchEvent>"u"){var gt=[],Ut=function(G){return{clientX:G.clientX,clientY:G.clientY,force:1,identifier:G.pointerId,pageX:G.pageX,pageY:G.pageY,radiusX:G.width/2,radiusY:G.height/2,screenX:G.screenX,screenY:G.screenY,target:G.target}},Ht=function(G){for(var Te=0;Te<gt.length;Te++)if(gt[Te].event.pointerId===G.pointerId)return void gt.splice(Te,1)},yn=function(G){G.touches=gt.map(function(Te){return Te.touch})},Qt=function(G){return"mouse"===G.pointerType||4===G.pointerType};u.registerBinding(u.container,"pointerdown",function(at){Qt(at)||(at.preventDefault(),gt.push(function(G){return{event:G,touch:Ut(G)}}(at)),yn(at),Me(at))}),u.registerBinding(u.container,"pointerup",function(at){Qt(at)||(Ht(at),yn(at),mt(at))}),u.registerBinding(u.container,"pointercancel",function(at){Qt(at)||(Ht(at),yn(at),ft())}),u.registerBinding(u.container,"pointermove",function(at){var G,Te;Qt(at)||(at.preventDefault(),G=at,(Te=gt.filter(function(it){return it.event.pointerId===G.pointerId})[0]).event=G,Te.touch=Ut(G),yn(at),Je(at))})}};var ko={generatePolygon:function(u,o){return this.nodeShapes[u]={renderer:this,name:u,points:o,draw:function(d,f,p,g,y){this.renderer.nodeShapeImpl("polygon",d,f,p,g,y,this.points)},intersectLine:function(d,f,p,g,y,b,_){return Zc(y,b,this.points,d,f,p/2,g/2,_)},checkPoint:function(d,f,p,g,y,b,_){return Cr(d,f,this.points,b,_,g,y,[0,-1],p)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(o,c,d,f,p){this.renderer.nodeShapeImpl(this.name,o,c,d,f,p)},intersectLine:function(o,c,d,f,p,g,y){return function(o,c,d,f,p,g){var y=d-o,b=f-c;y/=p,b/=g;var _=Math.sqrt(y*y+b*b),w=_-1;if(w<0)return[];var x=w/_;return[(d-o)*x+o,(f-c)*x+c]}(p,g,o,c,d/2+y,f/2+y)},checkPoint:function(o,c,d,f,p,g,y){return Gn(o,c,f,p,g,y,d)}}},generateRoundPolygon:function(u,o){for(var c=new Array(2*o.length),d=0;d<o.length/2;d++){var p,f=2*d;p=d<o.length/2-1?2*(d+1):0,c[4*d]=o[f],c[4*d+1]=o[f+1];var g=o[p]-o[f],y=o[p+1]-o[f+1],b=Math.sqrt(g*g+y*y);c[4*d+2]=g/b,c[4*d+3]=y/b}return this.nodeShapes[u]={renderer:this,name:u,points:c,draw:function(w,x,E,S,M){this.renderer.nodeShapeImpl("round-polygon",w,x,E,S,M,this.points)},intersectLine:function(w,x,E,S,M,A,I){return function(o,c,d,f,p,g,y,b){for(var w,_=[],x=new Array(d.length),E=g/2,S=y/2,M=Hh(g,y),A=0;A<d.length/4;A++){var R,I;I=0===A?d.length-2:4*A-2,R=4*A+2;var F=f+E*d[4*A],L=p+S*d[4*A+1],K=M/Math.tan(Math.acos(-d[I]*d[R]-d[I+1]*d[R+1])/2),Y=F-K*d[I],H=L-K*d[I+1],Z=F+K*d[R],U=L+K*d[R+1];0===A?(x[d.length-2]=Y,x[d.length-1]=H):(x[4*A-2]=Y,x[4*A-1]=H),x[4*A]=Z,x[4*A+1]=U;var Q=d[I+1],J=-d[I];Q*d[R]+J*d[R+1]<0&&(Q*=-1,J*=-1),0!==(w=al(o,c,f,p,Y+Q*M,H+J*M,M)).length&&_.push(w[0],w[1])}for(var me=0;me<x.length/4;me++)0!==(w=qo(o,c,f,p,x[4*me],x[4*me+1],x[4*me+2],x[4*me+3],!1)).length&&_.push(w[0],w[1]);if(_.length>2){for(var ae=[_[0],_[1]],de=Math.pow(ae[0]-o,2)+Math.pow(ae[1]-c,2),be=1;be<_.length/2;be++){var Se=Math.pow(_[2*be]-o,2)+Math.pow(_[2*be+1]-c,2);Se<=de&&(ae[0]=_[2*be],ae[1]=_[2*be+1],de=Se)}return ae}return _}(M,A,this.points,w,x,E,S)},checkPoint:function(w,x,E,S,M,A,I){return function(o,c,d,f,p,g,y){for(var b=new Array(d.length),_=g/2,w=y/2,x=Hh(g,y),E=x*x,S=0;S<d.length/4;S++){var A,M;M=0===S?d.length-2:4*S-2,A=4*S+2;var I=f+_*d[4*S],R=p+w*d[4*S+1],L=x/Math.tan(Math.acos(-d[M]*d[A]-d[M+1]*d[A+1])/2),z=I-L*d[M],K=R-L*d[M+1],Y=I+L*d[A],H=R+L*d[A+1];b[4*S]=z,b[4*S+1]=K,b[4*S+2]=Y,b[4*S+3]=H;var Z=d[M+1],U=-d[M];Z*d[A]+U*d[A+1]<0&&(Z*=-1,U*=-1);var W=K+U*x;if(Math.pow(z+Z*x-o,2)+Math.pow(W-c,2)<=E)return!0}return Us(o,c,b)}(w,x,this.points,A,I,S,M)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:vs(4,0),draw:function(o,c,d,f,p){this.renderer.nodeShapeImpl(this.name,o,c,d,f,p)},intersectLine:function(o,c,d,f,p,g,y){return uy(p,g,o,c,d,f,y)},checkPoint:function(o,c,d,f,p,g,y){var b=Xc(f,p),_=2*b;return!!(Cr(o,c,this.points,g,y,f,p-_,[0,-1],d)||Cr(o,c,this.points,g,y,f-_,p,[0,-1],d)||Gn(o,c,_,_,g-f/2+b,y-p/2+b,d)||Gn(o,c,_,_,g+f/2-b,y-p/2+b,d)||Gn(o,c,_,_,g+f/2-b,y+p/2-b,d)||Gn(o,c,_,_,g-f/2+b,y+p/2-b,d))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:vs(4,0),draw:function(o,c,d,f,p){this.renderer.nodeShapeImpl(this.name,o,c,d,f,p)},generateCutTrianglePts:function(o,c,d,f){var p=this.cornerLength,g=c/2,y=o/2,b=d-y,_=d+y,w=f-g,x=f+g;return{topLeft:[b,w+p,b+p,w,b+p,w+p],topRight:[_-p,w,_,w+p,_-p,w+p],bottomRight:[_,x-p,_-p,x,_-p,x-p],bottomLeft:[b+p,x,b,x-p,b+p,x-p]}},intersectLine:function(o,c,d,f,p,g,y){var b=this.generateCutTrianglePts(d+2*y,f+2*y,o,c),_=[].concat.apply([],[b.topLeft.splice(0,4),b.topRight.splice(0,4),b.bottomRight.splice(0,4),b.bottomLeft.splice(0,4)]);return Zc(p,g,_,o,c)},checkPoint:function(o,c,d,f,p,g,y){if(Cr(o,c,this.points,g,y,f,p-2*this.cornerLength,[0,-1],d)||Cr(o,c,this.points,g,y,f-2*this.cornerLength,p,[0,-1],d))return!0;var b=this.generateCutTrianglePts(f,p,g,y);return Us(o,c,b.topLeft)||Us(o,c,b.topRight)||Us(o,c,b.bottomRight)||Us(o,c,b.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:vs(4,0),draw:function(o,c,d,f,p){this.renderer.nodeShapeImpl(this.name,o,c,d,f,p)},intersectLine:function(o,c,d,f,p,g,y){var x=this.generateBarrelBezierPts(d+2*y,f+2*y,o,c),E=function(A){var I=Pe({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.15),R=Pe({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.5),F=Pe({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},.85);return[A[0],A[1],I.x,I.y,R.x,R.y,F.x,F.y,A[4],A[5]]},S=[].concat(E(x.topLeft),E(x.topRight),E(x.bottomRight),E(x.bottomLeft));return Zc(p,g,S,o,c)},generateBarrelBezierPts:function(o,c,d,f){var p=c/2,g=o/2,y=d-g,b=d+g,_=f-p,w=f+p,x=zh(o,c),E=x.heightOffset,S=x.widthOffset,M=x.ctrlPtOffsetPct*o,A={topLeft:[y,_+E,y+M,_,y+S,_],topRight:[b-S,_,b-M,_,b,_+E],bottomRight:[b,w-E,b-M,w,b-S,w],bottomLeft:[y+S,w,y+M,w,y,w-E]};return A.topLeft.isTop=!0,A.topRight.isTop=!0,A.bottomLeft.isBottom=!0,A.bottomRight.isBottom=!0,A},checkPoint:function(o,c,d,f,p,g,y){var b=zh(f,p),w=b.widthOffset;if(Cr(o,c,this.points,g,y,f,p-2*b.heightOffset,[0,-1],d)||Cr(o,c,this.points,g,y,f-2*w,p,[0,-1],d))return!0;for(var x=this.generateBarrelBezierPts(f,p,g,y),E=function(H,Z,U){var Q=U[4],J=U[2],W=U[0],oe=U[5],X=U[1],me=Math.min(Q,W),ae=Math.max(Q,W),de=Math.min(oe,X),be=Math.max(oe,X);if(me<=H&&H<=ae&&de<=Z&&Z<=be){var Se=function(o,c,d){return[o-2*c+d,2*(c-o),o]}(Q,J,W),Fe=function(o,c,d,f){var p=c*c-4*o*(d-=f);if(p<0)return[];var g=Math.sqrt(p),y=2*o;return[(-c+g)/y,(-c-g)/y]}(Se[0],Se[1],Se[2],H),Ee=Fe.filter(function(Re){return 0<=Re&&Re<=1});if(Ee.length>0)return Ee[0]}return null},S=Object.keys(x),M=0;M<S.length;M++){var I=x[S[M]],R=E(o,c,I);if(null!=R){var K=Wr(I[5],I[3],I[1],R);if(I.isTop&&K<=c||I.isBottom&&c<=K)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:vs(4,0),draw:function(o,c,d,f,p){this.renderer.nodeShapeImpl(this.name,o,c,d,f,p)},intersectLine:function(o,c,d,f,p,g,y){var _=c-(f/2+y),E=qo(p,g,o,c,o-(d/2+y),_,o+(d/2+y),_,!1);return E.length>0?E:uy(p,g,o,c,d,f,y)},checkPoint:function(o,c,d,f,p,g,y){var b=Xc(f,p),_=2*b;if(Cr(o,c,this.points,g,y,f,p-_,[0,-1],d)||Cr(o,c,this.points,g,y,f-_,p,[0,-1],d))return!0;var w=f/2+2*d,x=p/2+2*d;return!!(Us(o,c,[g-w,y-x,g-w,y,g+w,y,g+w,y-x])||Gn(o,c,_,_,g+f/2-b,y+p/2-b,d)||Gn(o,c,_,_,g-f/2+b,y+p/2-b,d))}}},registerNodeShapes:function(){var u=this.nodeShapes={},o=this;this.generateEllipse(),this.generatePolygon("triangle",vs(3,0)),this.generateRoundPolygon("round-triangle",vs(3,0)),this.generatePolygon("rectangle",vs(4,0)),u.square=u.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var c=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",c),this.generateRoundPolygon("round-diamond",c),this.generatePolygon("pentagon",vs(5,0)),this.generateRoundPolygon("round-pentagon",vs(5,0)),this.generatePolygon("hexagon",vs(6,0)),this.generateRoundPolygon("round-hexagon",vs(6,0)),this.generatePolygon("heptagon",vs(7,0)),this.generateRoundPolygon("round-heptagon",vs(7,0)),this.generatePolygon("octagon",vs(8,0)),this.generateRoundPolygon("round-octagon",vs(8,0));var d=new Array(20),f=Qp(5,0),p=Qp(5,Math.PI/5),g=.5*(3-Math.sqrt(5));g*=1.57;for(var y=0;y<p.length/2;y++)p[2*y]*=g,p[2*y+1]*=g;for(y=0;y<5;y++)d[4*y]=f[2*y],d[4*y+1]=f[2*y+1],d[4*y+2]=p[2*y],d[4*y+3]=p[2*y+1];d=un(d),this.generatePolygon("star",d),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var b=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",b),this.generateRoundPolygon("round-tag",b),u.makePolygon=function(_){var E,x="polygon-"+_.join("$");return(E=this[x])?E:o.generatePolygon(x,_)}}},_u={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(u){u=u||sy();var o=this;void 0===o.averageRedrawTime&&(o.averageRedrawTime=0),void 0===o.lastRedrawTime&&(o.lastRedrawTime=0),void 0===o.lastDrawTime&&(o.lastDrawTime=0),o.requestedFrame=!0,o.renderOptions=u},beforeRender:function(u,o){if(!this.destroyed){null==o&&Pi("Priority is not optional for beforeRender");var c=this.beforeRenderCallbacks;c.push({fn:u,priority:o}),c.sort(function(d,f){return f.priority-d.priority})}}},Mg=function(o,c,d){for(var f=o.beforeRenderCallbacks,p=0;p<f.length;p++)f[p].fn(c,d)};_u.startRenderLoop=function(){var u=this,o=u.cy;u.renderLoopStarted||(u.renderLoopStarted=!0,nl(function d(f){if(!u.destroyed){if(!o.batching())if(u.requestedFrame&&!u.skipFrame){Mg(u,!0,f);var p=$s();u.render(u.renderOptions);var g=u.lastDrawTime=$s();void 0===u.averageRedrawTime&&(u.averageRedrawTime=g-p),void 0===u.redrawCount&&(u.redrawCount=0),u.redrawCount++,void 0===u.redrawTotalTime&&(u.redrawTotalTime=0);var y=g-p;u.redrawTotalTime+=y,u.lastRedrawTime=y,u.averageRedrawTime=u.averageRedrawTime/2+y/2,u.requestedFrame=!1}else Mg(u,!1,f);u.skipFrame=!1,nl(d)}}))};var ws=function(o){this.init(o)},bu=ws.prototype;bu.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],bu.init=function(u){var o=this;o.options=u,o.cy=u.cy;var c=o.container=u.cy.container();if(At){var d=At.document,f=d.head,p="__________cytoscape_stylesheet",g="__________cytoscape_container",y=null!=d.getElementById(p);if(c.className.indexOf(g)<0&&(c.className=(c.className||"")+" "+g),!y){var b=d.createElement("style");b.id=p,b.innerHTML="."+g+" { position: relative; }",f.insertBefore(b,f.children[0])}"static"===At.getComputedStyle(c).getPropertyValue("position")&&ti("A Cytoscape container has style position:static and so can not use UI extensions properly")}o.selection=[void 0,void 0,void 0,void 0,0],o.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],o.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},o.dragData={possibleDragElements:[]},o.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},o.redraws=0,o.showFps=u.showFps,o.debug=u.debug,o.hideEdgesOnViewport=u.hideEdgesOnViewport,o.textureOnViewport=u.textureOnViewport,o.wheelSensitivity=u.wheelSensitivity,o.motionBlurEnabled=u.motionBlur,o.forcedPixelRatio=Le(u.pixelRatio)?u.pixelRatio:null,o.motionBlur=u.motionBlur,o.motionBlurOpacity=u.motionBlurOpacity,o.motionBlurTransparency=1-o.motionBlurOpacity,o.motionBlurPxRatio=1,o.mbPxRBlurry=1,o.minMbLowQualFrames=4,o.fullQualityMb=!1,o.clearedForMotionBlur=[],o.desktopTapThreshold=u.desktopTapThreshold,o.desktopTapThreshold2=u.desktopTapThreshold*u.desktopTapThreshold,o.touchTapThreshold=u.touchTapThreshold,o.touchTapThreshold2=u.touchTapThreshold*u.touchTapThreshold,o.tapholdDuration=500,o.bindings=[],o.beforeRenderCallbacks=[],o.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},o.registerNodeShapes(),o.registerArrowShapes(),o.registerCalculationListeners()},bu.notify=function(u,o){var c=this,d=c.cy;if(!this.destroyed){if("init"===u)return void c.load();if("destroy"===u)return void c.destroy();("add"===u||"remove"===u||"move"===u&&d.hasCompoundNodes()||"load"===u||"zorder"===u||"mount"===u)&&c.invalidateCachedZSortedEles(),"viewport"===u&&c.redrawHint("select",!0),("load"===u||"resize"===u||"mount"===u)&&(c.invalidateContainerClientCoordsCache(),c.matchCanvasSize(c.container)),c.redrawHint("eles",!0),c.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},bu.destroy=function(){var u=this;u.destroyed=!0,u.cy.stopAnimationLoop();for(var o=0;o<u.bindings.length;o++){var c=u.bindings[o],f=c.target;(f.off||f.removeEventListener).apply(f,c.args)}if(u.bindings=[],u.beforeRenderCallbacks=[],u.onUpdateEleCalcsFns=[],u.removeObserver&&u.removeObserver.disconnect(),u.styleObserver&&u.styleObserver.disconnect(),u.resizeObserver&&u.resizeObserver.disconnect(),u.labelCalcDiv)try{document.body.removeChild(u.labelCalcDiv)}catch{}},bu.isHeadless=function(){return!1},[vu,ox,qy,tc,ko,_u].forEach(function(u){qt(bu,u)});var Tg=1e3/60,Yy_setupDequeueing=function(o){return function(){var d=this,f=this.renderer;if(!d.dequeueingSetup){d.dequeueingSetup=!0;var p=ue.default(function(){f.redrawHint("eles",!0),f.redrawHint("drag",!0),f.redraw()},o.deqRedrawThreshold);f.beforeRender(function(_,w){var x=$s(),E=f.averageRedrawTime,S=f.lastRedrawTime,M=[],A=f.cy.extent(),I=f.getPixelRatio();for(_||f.flushRenderedStyleQueue();;){var R=$s(),F=R-x,L=R-w;if(S<Tg){if(L>=o.deqFastCost*(Tg-(_?E:0)))break}else if(_){if(F>=o.deqCost*S||F>=o.deqAvgCost*E)break}else if(L>=o.deqNoDrawCost*Tg)break;var K=o.deq(d,I,A);if(!(K.length>0))break;for(var Y=0;Y<K.length;Y++)M.push(K[Y])}M.length>0&&(o.onDeqd(d,M),!_&&o.shouldRedraw(d,M,I,A)&&p())},(o.priority||Rh)(d))}}},Zy=function(){function u(o){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qp;et(this,u),this.idsByKey=new uo,this.keyForId=new uo,this.cachesByLvl=new uo,this.lvls=[],this.getKey=o,this.doesEleInvalidateKey=c}return we(u,[{key:"getIdsFor",value:function(c){null==c&&Pi("Can not get id list for null key");var d=this.idsByKey,f=this.idsByKey.get(c);return f||(f=new si,d.set(c,f)),f}},{key:"addIdForKey",value:function(c,d){null!=c&&this.getIdsFor(c).add(d)}},{key:"deleteIdForKey",value:function(c,d){null!=c&&this.getIdsFor(c).delete(d)}},{key:"getNumberOfIdsForKey",value:function(c){return null==c?0:this.getIdsFor(c).size}},{key:"updateKeyMappingFor",value:function(c){var d=c.id(),f=this.keyForId.get(d),p=this.getKey(c);this.deleteIdForKey(f,d),this.addIdForKey(p,d),this.keyForId.set(d,p)}},{key:"deleteKeyMappingFor",value:function(c){var d=c.id(),f=this.keyForId.get(d);this.deleteIdForKey(f,d),this.keyForId.delete(d)}},{key:"keyHasChangedFor",value:function(c){var d=c.id();return this.keyForId.get(d)!==this.getKey(c)}},{key:"isInvalid",value:function(c){return this.keyHasChangedFor(c)||this.doesEleInvalidateKey(c)}},{key:"getCachesAt",value:function(c){var d=this.cachesByLvl,f=this.lvls,p=d.get(c);return p||(p=new uo,d.set(c,p),f.push(c)),p}},{key:"getCache",value:function(c,d){return this.getCachesAt(d).get(c)}},{key:"get",value:function(c,d){var f=this.getKey(c),p=this.getCache(f,d);return null!=p&&this.updateKeyMappingFor(c),p}},{key:"getForCachedKey",value:function(c,d){var f=this.keyForId.get(c.id());return this.getCache(f,d)}},{key:"hasCache",value:function(c,d){return this.getCachesAt(d).has(c)}},{key:"has",value:function(c,d){var f=this.getKey(c);return this.hasCache(f,d)}},{key:"setCache",value:function(c,d,f){f.key=c,this.getCachesAt(d).set(c,f)}},{key:"set",value:function(c,d,f){var p=this.getKey(c);this.setCache(p,d,f),this.updateKeyMappingFor(c)}},{key:"deleteCache",value:function(c,d){this.getCachesAt(d).delete(c)}},{key:"delete",value:function(c,d){var f=this.getKey(c);this.deleteCache(f,d)}},{key:"invalidateKey",value:function(c){var d=this;this.lvls.forEach(function(f){return d.deleteCache(c,f)})}},{key:"invalidate",value:function(c){var d=c.id(),f=this.keyForId.get(d);this.deleteKeyMappingFor(c);var p=this.doesEleInvalidateKey(c);return p&&this.invalidateKey(f),p||0===this.getNumberOfIdsForKey(f)}}]),u}(),nc={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},hx=Gr({getKey:null,doesEleInvalidateKey:qp,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:js,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),wu=function(o,c){var d=this;d.renderer=o,d.onDequeues=[];var f=hx(c);qt(d,f),d.lookup=new Zy(f.getKey,f.doesEleInvalidateKey),d.setupDequeueing()},Dr=wu.prototype;Dr.reasons=nc,Dr.getTextureQueue=function(u){var o=this;return o.eleImgCaches=o.eleImgCaches||{},o.eleImgCaches[u]=o.eleImgCaches[u]||[]},Dr.getRetiredTextureQueue=function(u){var c=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return c[u]=c[u]||[]},Dr.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new ge.default(function(c,d){return d.reqs-c.reqs})},Dr.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Dr.getElement=function(u,o,c,d,f){var p=this,g=this.renderer,y=g.cy.zoom(),b=this.lookup;if(!o||0===o.w||0===o.h||isNaN(o.w)||isNaN(o.h)||!u.visible()||u.removed()||!p.allowEdgeTxrCaching&&u.isEdge()||!p.allowParentTxrCaching&&u.isParent())return null;if(null==d&&(d=Math.ceil(ly(y*c))),d<-4)d=-4;else if(y>=7.99||d>3)return null;var _=Math.pow(2,d),w=o.h*_,x=o.w*_,E=g.eleTextBiggerThanMin(u,_);if(!this.isVisible(u,E))return null;var M,S=b.get(u,d);if(S&&S.invalidated&&(S.invalidated=!1,S.texture.invalidatedWidth-=S.width),S)return S;if(M=w<=25?25:w<=50?50:50*Math.ceil(w/50),w>1024||x>1024)return null;var A=p.getTextureQueue(M),I=A[A.length-2],R=function(){return p.recycleTexture(M,x)||p.addTexture(M,x)};I||(I=A[A.length-1]),I||(I=R()),I.width-I.usedWidth<x&&(I=R());for(var Y,F=function(ae){return ae&&ae.scaledLabelShown===E},L=f&&f===nc.dequeue,z=f&&f===nc.highQuality,K=f&&f===nc.downscale,H=d+1;H<=3;H++){var Z=b.get(u,H);if(Z){Y=Z;break}}var U=Y&&Y.level===d+1?Y:null,Q=function(){I.context.drawImage(U.texture.canvas,U.x,0,U.width,U.height,I.usedWidth,0,x,w)};if(I.context.setTransform(1,0,0,1,0,0),I.context.clearRect(I.usedWidth,0,x,M),F(U))Q();else if(F(Y)){if(!z)return p.queueElement(u,Y.level-1),Y;for(var J=Y.level;J>d;J--)U=p.getElement(u,o,c,J,nc.downscale);Q()}else{var W;if(!L&&!z&&!K)for(var oe=d-1;oe>=-4;oe--){var X=b.get(u,oe);if(X){W=X;break}}if(F(W))return p.queueElement(u,d),W;I.context.translate(I.usedWidth,0),I.context.scale(_,_),this.drawElement(I.context,u,o,E,!1),I.context.scale(1/_,1/_),I.context.translate(-I.usedWidth,0)}return S={x:I.usedWidth,texture:I,level:d,scale:_,width:x,height:w,scaledLabelShown:E},I.usedWidth+=Math.ceil(x+8),I.eleCaches.push(S),b.set(u,d,S),p.checkTextureFullness(I),S},Dr.invalidateElements=function(u){for(var o=0;o<u.length;o++)this.invalidateElement(u[o])},Dr.invalidateElement=function(u){var o=this,c=o.lookup,d=[];if(c.isInvalid(u)){for(var p=-4;p<=3;p++){var g=c.getForCachedKey(u,p);g&&d.push(g)}if(c.invalidate(u))for(var b=0;b<d.length;b++){var _=d[b],w=_.texture;w.invalidatedWidth+=_.width,_.invalidated=!0,o.checkTextureUtility(w)}o.removeFromQueue(u)}},Dr.checkTextureUtility=function(u){u.invalidatedWidth>=.2*u.width&&this.retireTexture(u)},Dr.checkTextureFullness=function(u){var c=this.getTextureQueue(u.height);u.usedWidth/u.width>.8&&u.fullnessChecks>=10?wa(c,u):u.fullnessChecks++},Dr.retireTexture=function(u){var c=u.height,d=this.getTextureQueue(c),f=this.lookup;wa(d,u),u.retired=!0;for(var p=u.eleCaches,g=0;g<p.length;g++){var y=p[g];f.deleteCache(y.key,y.level)}Kp(p),this.getRetiredTextureQueue(c).push(u)},Dr.addTexture=function(u,o){var f={};return this.getTextureQueue(u).push(f),f.eleCaches=[],f.height=u,f.width=Math.max(1024,o),f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,f.canvas=this.renderer.makeOffscreenCanvas(f.width,f.height),f.context=f.canvas.getContext("2d"),f},Dr.recycleTexture=function(u,o){for(var d=this.getTextureQueue(u),f=this.getRetiredTextureQueue(u),p=0;p<f.length;p++){var g=f[p];if(g.width>=o)return g.retired=!1,g.usedWidth=0,g.invalidatedWidth=0,g.fullnessChecks=0,Kp(g.eleCaches),g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(0,0,g.width,g.height),wa(f,g),d.push(g),g}},Dr.queueElement=function(u,o){var d=this.getElementQueue(),f=this.getElementKeyToQueue(),p=this.getKey(u),g=f[p];if(g)g.level=Math.max(g.level,o),g.eles.merge(u),g.reqs++,d.updateItem(g);else{var y={eles:u.spawn().merge(u),level:o,reqs:1,key:p};d.push(y),f[p]=y}},Dr.dequeue=function(u){for(var o=this,c=o.getElementQueue(),d=o.getElementKeyToQueue(),f=[],p=o.lookup,g=0;g<1&&c.size()>0;g++){var y=c.pop(),b=y.key,_=y.eles[0],w=p.hasCache(_,y.level);if(d[b]=null,!w){f.push(y);var x=o.getBoundingBox(_);o.getElement(_,x,u,y.level,nc.dequeue)}}return f},Dr.removeFromQueue=function(u){var c=this.getElementQueue(),d=this.getElementKeyToQueue(),f=this.getKey(u),p=d[f];null!=p&&(1===p.eles.length?(p.reqs=sl,c.updateItem(p),c.pop(),d[f]=null):p.eles.unmerge(u))},Dr.onDequeue=function(u){this.onDequeues.push(u)},Dr.offDequeue=function(u){wa(this.onDequeues,u)},Dr.setupDequeueing=Yy_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,c,d){return o.dequeue(c,d)},onDeqd:function(o,c){for(var d=0;d<o.onDequeues.length;d++)(0,o.onDequeues[d])(c)},shouldRedraw:function(o,c,d,f){for(var p=0;p<c.length;p++)for(var g=c[p].eles,y=0;y<g.length;y++){var b=g[y].boundingBox();if(Bh(b,f))return!0}return!1},priority:function(o){return o.renderer.beforeRenderPriorities.eleTxrDeq}});var xf=function(o){var c=this,d=c.renderer=o,f=d.cy;c.layersByLevel={},c.firstGet=!0,c.lastInvalidationTime=$s()-500,c.skipping=!1,c.eleTxrDeqs=f.collection(),c.scheduleElementRefinement=ue.default(function(){c.refineElementTextures(c.eleTxrDeqs),c.eleTxrDeqs.unmerge(c.eleTxrDeqs)},50),d.beforeRender(function(g,y){c.skipping=y-c.lastInvalidationTime<=250},d.beforeRenderPriorities.lyrTxrSkip),c.layersQueue=new ge.default(function(y,b){return b.reqs-y.reqs}),c.setupDequeueing()},Br=xf.prototype,n_=0,Fg=Math.pow(2,53)-1;Br.makeLayer=function(u,o){var c=Math.pow(2,o),d=Math.ceil(u.w*c),f=Math.ceil(u.h*c),p=this.renderer.makeOffscreenCanvas(d,f),g={id:n_=++n_%Fg,bb:u,level:o,width:d,height:f,canvas:p,context:p.getContext("2d"),eles:[],elesQueue:[],reqs:0},y=g.context,b=-g.bb.x1,_=-g.bb.y1;return y.scale(c,c),y.translate(b,_),g},Br.getLayers=function(u,o,c){var d=this,g=d.renderer.cy.zoom(),y=d.firstGet;if(d.firstGet=!1,null==c)if((c=Math.ceil(ly(g*o)))<-4)c=-4;else if(g>=3.99||c>2)return null;d.validateLayersElesOrdering(c,u);var x,S,b=d.layersByLevel,_=Math.pow(2,c),w=b[c]=b[c]||[];if(d.levelIsComplete(c,u))return w;!function(){var Q=function(me){if(d.validateLayersElesOrdering(me,u),d.levelIsComplete(me,u))return S=b[me],!0},J=function(me){if(!S)for(var ae=c+me;-4<=ae&&ae<=2&&!Q(ae);ae+=me);};J(1),J(-1);for(var W=w.length-1;W>=0;W--){var oe=w[W];oe.invalid&&wa(w,oe)}}();var I=function(Q){var J=(Q=Q||{}).after;if(function(){if(!x){x=qr();for(var Q=0;Q<u.length;Q++)lC(x,u[Q].boundingBox())}}(),x.w*_*(x.h*_)>16e6)return null;var oe=d.makeLayer(x,c);if(null!=J){var X=w.indexOf(J)+1;w.splice(X,0,oe)}else(void 0===Q.insert||Q.insert)&&w.unshift(oe);return oe};if(d.skipping&&!y)return null;for(var R=null,F=u.length/1,L=!y,z=0;z<u.length;z++){var K=u[z],Y=K._private.rscratch,H=Y.imgLayerCaches=Y.imgLayerCaches||{},Z=H[c];if(Z)R=Z;else{if((!R||R.eles.length>=F||!Vh(R.bb,K.boundingBox()))&&!(R=I({insert:!0,after:R})))return null;S||L?d.queueLayer(R,K):d.drawEleInLayer(R,K,c,o),R.eles.push(K),H[c]=R}}return S||(L?null:w)},Br.getEleLevelForLayerLevel=function(u,o){return u},Br.drawEleInLayer=function(u,o,c,d){var p=this.renderer,g=u.context,y=o.boundingBox();0===y.w||0===y.h||!o.visible()||(c=this.getEleLevelForLayerLevel(c,d),p.setImgSmoothing(g,!1),p.drawCachedElement(g,o,null,null,c,!0),p.setImgSmoothing(g,!0))},Br.levelIsComplete=function(u,o){var d=this.layersByLevel[u];if(!d||0===d.length)return!1;for(var f=0,p=0;p<d.length;p++){var g=d[p];if(g.reqs>0||g.invalid)return!1;f+=g.eles.length}return f===o.length},Br.validateLayersElesOrdering=function(u,o){var c=this.layersByLevel[u];if(c)for(var d=0;d<c.length;d++){for(var f=c[d],p=-1,g=0;g<o.length;g++)if(f.eles[0]===o[g]){p=g;break}if(p<0)this.invalidateLayer(f);else{var y=p;for(g=0;g<f.eles.length;g++)if(f.eles[g]!==o[y+g]){this.invalidateLayer(f);break}}}},Br.updateElementsInLayers=function(u,o){for(var d=Ai(u[0]),f=0;f<u.length;f++)for(var p=d?null:u[f],g=d?u[f]:u[f].ele,y=g._private.rscratch,b=y.imgLayerCaches=y.imgLayerCaches||{},_=-4;_<=2;_++){var w=b[_];!w||p&&this.getEleLevelForLayerLevel(w.level)!==p.level||o(w,g,p)}},Br.haveLayers=function(){for(var o=!1,c=-4;c<=2;c++){var d=this.layersByLevel[c];if(d&&d.length>0){o=!0;break}}return o},Br.invalidateElements=function(u){var o=this;0!==u.length&&(o.lastInvalidationTime=$s(),0!==u.length&&o.haveLayers()&&o.updateElementsInLayers(u,function(d,f,p){o.invalidateLayer(d)}))},Br.invalidateLayer=function(u){if(this.lastInvalidationTime=$s(),!u.invalid){var o=u.level,c=u.eles;wa(this.layersByLevel[o],u),u.elesQueue=[],u.invalid=!0,u.replacement&&(u.replacement.invalid=!0);for(var f=0;f<c.length;f++){var p=c[f]._private.rscratch.imgLayerCaches;p&&(p[o]=null)}}},Br.refineElementTextures=function(u){var o=this;o.updateElementsInLayers(u,function(d,f,p){var g=d.replacement;if(g||((g=d.replacement=o.makeLayer(d.bb,d.level)).replaces=d,g.eles=d.eles),!g.reqs)for(var y=0;y<g.eles.length;y++)o.queueLayer(g,g.eles[y])})},Br.enqueueElementRefinement=function(u){this.eleTxrDeqs.merge(u),this.scheduleElementRefinement()},Br.queueLayer=function(u,o){var d=this.layersQueue,f=u.elesQueue,p=f.hasId=f.hasId||{};if(!u.replacement){if(o){if(p[o.id()])return;f.push(o),p[o.id()]=!0}u.reqs?(u.reqs++,d.updateItem(u)):(u.reqs=1,d.push(u))}},Br.dequeue=function(u){for(var o=this,c=o.layersQueue,d=[],f=0;f<1&&0!==c.size();){var p=c.peek();if(p.replacement)c.pop();else if(p.replaces&&p!==p.replaces.replacement)c.pop();else if(p.invalid)c.pop();else{var g=p.elesQueue.shift();g&&(o.drawEleInLayer(p,g,p.level,u),f++),0===d.length&&d.push(!0),0===p.elesQueue.length&&(c.pop(),p.reqs=0,p.replaces&&o.applyLayerReplacement(p),o.requestRedraw())}}return d},Br.applyLayerReplacement=function(u){var c=this.layersByLevel[u.level],d=u.replaces,f=c.indexOf(d);if(!(f<0||d.invalid)){c[f]=u;for(var p=0;p<u.eles.length;p++){var g=u.eles[p]._private,y=g.imgLayerCaches=g.imgLayerCaches||{};y&&(y[u.level]=u)}this.requestRedraw()}},Br.requestRedraw=ue.default(function(){var u=this.renderer;u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},100),Br.setupDequeueing=Yy_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(o,c){return o.dequeue(c)},onDeqd:Rh,shouldRedraw:js,priority:function(o){return o.renderer.beforeRenderPriorities.lyrTxrDeq}});var r_,i_={};function yx(u,o){for(var c=0;c<o.length;c++){var d=o[c];u.lineTo(d.x,d.y)}}function _x(u,o,c){for(var d,f=0;f<o.length;f++){var p=o[f];0===f&&(d=p),u.lineTo(p.x,p.y)}u.quadraticCurveTo(c.x,c.y,d.x,d.y)}function s_(u,o,c){u.beginPath&&u.beginPath();for(var d=o,f=0;f<d.length;f++)u.lineTo((p=d[f]).x,p.y);var g=c,y=c[0];for(u.moveTo(y.x,y.y),f=1;f<g.length;f++){var p;u.lineTo((p=g[f]).x,p.y)}u.closePath&&u.closePath()}function bx(u,o,c,d,f){u.beginPath&&u.beginPath(),u.arc(c,d,f,0,2*Math.PI,!1);var p=o,g=p[0];u.moveTo(g.x,g.y);for(var y=0;y<p.length;y++){var b=p[y];u.lineTo(b.x,b.y)}u.closePath&&u.closePath()}function o_(u,o,c,d){u.arc(o,c,d,0,2*Math.PI,!1)}i_.arrowShapeImpl=function(u){return(r_||(r_={polygon:yx,"triangle-backcurve":_x,"triangle-tee":s_,"circle-triangle":bx,"triangle-cross":s_,circle:o_}))[u]};var mo={drawElement:function(u,o,c,d,f,p){o.isNode()?this.drawNode(u,o,c,d,f,p):this.drawEdge(u,o,c,d,f,p)},drawElementOverlay:function(u,o){o.isNode()?this.drawNodeOverlay(u,o):this.drawEdgeOverlay(u,o)},drawElementUnderlay:function(u,o){o.isNode()?this.drawNodeUnderlay(u,o):this.drawEdgeUnderlay(u,o)},drawCachedElementPortion:function(u,o,c,d,f,p,g,y){var b=this,_=c.getBoundingBox(o);if(0!==_.w&&0!==_.h){var w=c.getElement(o,_,d,f,p);if(null!=w){var x=y(b,o);if(0===x)return;var R,F,L,z,K,Z,E=g(b,o),S=_.x1,M=_.y1,A=_.w,I=_.h;if(0!==E){var Y=c.getRotationPoint(o);u.translate(L=Y.x,z=Y.y),u.rotate(E),(K=b.getImgSmoothing(u))||b.setImgSmoothing(u,!0);var H=c.getRotationOffset(o);R=H.x,F=H.y}else R=S,F=M;1!==x&&(u.globalAlpha=(Z=u.globalAlpha)*x),u.drawImage(w.texture.canvas,w.x,0,w.width,w.height,R,F,A,I),1!==x&&(u.globalAlpha=Z),0!==E&&(u.rotate(-E),u.translate(-L,-z),K||b.setImgSmoothing(u,!1))}else c.drawElement(u,o)}}},a_=function(){return 0},Lg=function(o,c){return o.getTextAngle(c,null)},wx=function(o,c){return o.getTextAngle(c,"source")},Cx=function(o,c){return o.getTextAngle(c,"target")},l_=function(o,c){return c.effectiveOpacity()},Df=function(o,c){return c.pstyle("text-opacity").pfValue*c.effectiveOpacity()};mo.drawCachedElement=function(u,o,c,d,f,p){var g=this,y=g.data,b=y.eleTxrCache,_=y.lblTxrCache,w=y.slbTxrCache,x=y.tlbTxrCache,E=o.boundingBox(),S=!0===p?b.reasons.highQuality:null;if(0!==E.w&&0!==E.h&&o.visible()&&(!d||Bh(E,d))){var M=o.isEdge(),A=o.element()._private.rscratch.badLine;g.drawElementUnderlay(u,o),g.drawCachedElementPortion(u,o,b,c,f,S,a_,l_),(!M||!A)&&g.drawCachedElementPortion(u,o,_,c,f,S,Lg,Df),M&&!A&&(g.drawCachedElementPortion(u,o,w,c,f,S,wx,Df),g.drawCachedElementPortion(u,o,x,c,f,S,Cx,Df)),g.drawElementOverlay(u,o)}},mo.drawElements=function(u,o){for(var d=0;d<o.length;d++)this.drawElement(u,o[d])},mo.drawCachedElements=function(u,o,c,d){for(var p=0;p<o.length;p++)this.drawCachedElement(u,o[p],c,d)},mo.drawCachedNodes=function(u,o,c,d){for(var p=0;p<o.length;p++){var g=o[p];!g.isNode()||this.drawCachedElement(u,g,c,d)}},mo.drawLayeredElements=function(u,o,c,d){var p=this.data.lyrTxrCache.getLayers(o,c);if(p)for(var g=0;g<p.length;g++){var y=p[g],b=y.bb;0===b.w||0===b.h||u.drawImage(y.canvas,b.x1,b.y1,b.w,b.h)}else this.drawCachedElements(u,o,c,d)};var xs={drawEdge:function(u,o,c){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,y=o._private.rscratch;if((!p||o.visible())&&!y.badLine&&null!=y.allpts&&!isNaN(y.allpts[0])){var b;c&&u.translate(-(b=c).x1,-b.y1);var _=p?o.pstyle("opacity").value:1,w=p?o.pstyle("line-opacity").value:1,x=o.pstyle("curve-style").value,E=o.pstyle("line-style").value,S=o.pstyle("width").pfValue,M=o.pstyle("line-cap").value,A=_*w,I=_*w,R=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;"straight-triangle"===x?(g.eleStrokeStyle(u,o,W),g.drawEdgeTrianglePath(o,u,y.allpts)):(u.lineWidth=S,u.lineCap=M,g.eleStrokeStyle(u,o,W),g.drawEdgePath(o,u,y.allpts,E),u.lineCap="butt")},F=function(){!f||g.drawEdgeOverlay(u,o)},L=function(){!f||g.drawEdgeUnderlay(u,o)},z=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;g.drawArrowheads(u,o,W)},K=function(){g.drawElementText(u,o,null,d)};u.lineJoin="round";var Y="yes"===o.pstyle("ghost").value;if(Y){var H=o.pstyle("ghost-offset-x").pfValue,Z=o.pstyle("ghost-offset-y").pfValue,U=o.pstyle("ghost-opacity").value,Q=A*U;u.translate(H,Z),R(Q),z(Q),u.translate(-H,-Z)}L(),R(),z(),F(),K(),c&&u.translate(b.x1,b.y1)}}},Ng=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(c,d){if(d.visible()){var f=d.pstyle("".concat(o,"-opacity")).value;if(0!==f){var p=this,g=p.usePaths(),y=d._private.rscratch,_=2*d.pstyle("".concat(o,"-padding")).pfValue,w=d.pstyle("".concat(o,"-color")).value;c.lineWidth=_,c.lineCap="self"!==y.edgeType||g?"round":"butt",p.colorStrokeStyle(c,w[0],w[1],w[2],f),p.drawEdgePath(d,c,y.allpts,"solid")}}}};xs.drawEdgeOverlay=Ng("overlay"),xs.drawEdgeUnderlay=Ng("underlay"),xs.drawEdgePath=function(u,o,c,d){var g,f=u._private.rscratch,p=o,y=!1,b=this.usePaths(),_=u.pstyle("line-dash-pattern").pfValue,w=u.pstyle("line-dash-offset").pfValue;if(b){var x=c.join("$");f.pathCacheKey&&f.pathCacheKey===x?(g=o=f.pathCache,y=!0):(g=o=new Path2D,f.pathCacheKey=x,f.pathCache=g)}if(p.setLineDash)switch(d){case"dotted":p.setLineDash([1,1]);break;case"dashed":p.setLineDash(_),p.lineDashOffset=w;break;case"solid":p.setLineDash([])}if(!y&&!f.badLine)switch(o.beginPath&&o.beginPath(),o.moveTo(c[0],c[1]),f.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var S=2;S+3<c.length;S+=4)o.quadraticCurveTo(c[S],c[S+1],c[S+2],c[S+3]);break;case"straight":case"segments":case"haystack":for(var M=2;M+1<c.length;M+=2)o.lineTo(c[M],c[M+1])}o=p,b?o.stroke(g):o.stroke(),o.setLineDash&&o.setLineDash([])},xs.drawEdgeTrianglePath=function(u,o,c){o.fillStyle=o.strokeStyle;for(var d=u.pstyle("width").pfValue,f=0;f+1<c.length;f+=2){var p=[c[f+2]-c[f],c[f+3]-c[f+1]],g=Math.sqrt(p[0]*p[0]+p[1]*p[1]),y=[p[1]/g,-p[0]/g],b=[y[0]*d/2,y[1]*d/2];o.beginPath(),o.moveTo(c[f]-b[0],c[f+1]-b[1]),o.lineTo(c[f]+b[0],c[f+1]+b[1]),o.lineTo(c[f+2],c[f+3]),o.closePath(),o.fill()}},xs.drawArrowheads=function(u,o,c){var d=o._private.rscratch,f="haystack"===d.edgeType;f||this.drawArrowhead(u,o,"source",d.arrowStartX,d.arrowStartY,d.srcArrowAngle,c),this.drawArrowhead(u,o,"mid-target",d.midX,d.midY,d.midtgtArrowAngle,c),this.drawArrowhead(u,o,"mid-source",d.midX,d.midY,d.midsrcArrowAngle,c),f||this.drawArrowhead(u,o,"target",d.arrowEndX,d.arrowEndY,d.tgtArrowAngle,c)},xs.drawArrowhead=function(u,o,c,d,f,p,g){if(!(isNaN(d)||null==d||isNaN(f)||null==f||isNaN(p)||null==p)){var y=this,b=o.pstyle(c+"-arrow-shape").value;if("none"!==b){var _="hollow"===o.pstyle(c+"-arrow-fill").value?"both":"filled",w=o.pstyle(c+"-arrow-fill").value,x=o.pstyle("width").pfValue,E=o.pstyle("opacity").value;void 0===g&&(g=E);var S=u.globalCompositeOperation;(1!==g||"hollow"===w)&&(u.globalCompositeOperation="destination-out",y.colorFillStyle(u,255,255,255,1),y.colorStrokeStyle(u,255,255,255,1),y.drawArrowShape(o,u,_,x,b,d,f,p),u.globalCompositeOperation=S);var M=o.pstyle(c+"-arrow-color").value;y.colorFillStyle(u,M[0],M[1],M[2],g),y.colorStrokeStyle(u,M[0],M[1],M[2],g),y.drawArrowShape(o,u,w,x,b,d,f,p)}}},xs.drawArrowShape=function(u,o,c,d,f,p,g,y){var x,b=this,_=this.usePaths()&&"triangle-cross"!==f,w=!1,E=o,S={x:p,y:g},M=u.pstyle("arrow-scale").value,A=this.getArrowWidth(d,M),I=b.arrowShapes[f];if(_){var R=b.arrowPathCache=b.arrowPathCache||[],F=rl(f),L=R[F];null!=L?(x=o=L,w=!0):(x=o=new Path2D,R[F]=x)}w||(o.beginPath&&o.beginPath(),_?I.draw(o,1,0,{x:0,y:0},1):I.draw(o,A,y,S,d),o.closePath&&o.closePath()),o=E,_&&(o.translate(p,g),o.rotate(y),o.scale(A,A)),("filled"===c||"both"===c)&&(_?o.fill(x):o.fill()),("hollow"===c||"both"===c)&&(o.lineWidth=(I.matchEdgeWidth?d:1)/(_?A:1),o.lineJoin="miter",_?o.stroke(x):o.stroke()),_&&(o.scale(1/A,1/A),o.rotate(-y),o.translate(-p,-g))};var Ef={safeDrawImage:function(u,o,c,d,f,p,g,y,b,_){if(!(f<=0||p<=0||b<=0||_<=0))try{u.drawImage(o,c,d,f,p,g,y,b,_)}catch(w){ti(w)}},drawInscribedImage:function(u,o,c,d,f){var p=this,g=c.position(),y=g.x,b=g.y,_=c.cy().style(),w=_.getIndexedStyle.bind(_),x=w(c,"background-fit","value",d),E=w(c,"background-repeat","value",d),S=c.width(),M=c.height(),A=2*c.padding(),I=S+("inner"===w(c,"background-width-relative-to","value",d)?0:A),R=M+("inner"===w(c,"background-height-relative-to","value",d)?0:A),F=c._private.rscratch,z="node"===w(c,"background-clip","value",d),K=w(c,"background-image-opacity","value",d)*f,Y=w(c,"background-image-smoothing","value",d),H=o.width||o.cachedW,Z=o.height||o.cachedH;(null==H||null==Z)&&(document.body.appendChild(o),H=o.cachedW=o.width||o.offsetWidth,Z=o.cachedH=o.height||o.offsetHeight,document.body.removeChild(o));var U=H,Q=Z;if("auto"!==w(c,"background-width","value",d)&&(U="%"===w(c,"background-width","units",d)?w(c,"background-width","pfValue",d)*I:w(c,"background-width","pfValue",d)),"auto"!==w(c,"background-height","value",d)&&(Q="%"===w(c,"background-height","units",d)?w(c,"background-height","pfValue",d)*R:w(c,"background-height","pfValue",d)),0!==U&&0!==Q){if("contain"===x)U*=J=Math.min(I/U,R/Q),Q*=J;else if("cover"===x){var J;U*=J=Math.max(I/U,R/Q),Q*=J}var W=y-I/2,oe=w(c,"background-position-x","units",d),X=w(c,"background-position-x","pfValue",d);W+="%"===oe?(I-U)*X:X;var me=w(c,"background-offset-x","units",d),ae=w(c,"background-offset-x","pfValue",d);W+="%"===me?(I-U)*ae:ae;var de=b-R/2,be=w(c,"background-position-y","units",d),Se=w(c,"background-position-y","pfValue",d);de+="%"===be?(R-Q)*Se:Se;var Fe=w(c,"background-offset-y","units",d),Ee=w(c,"background-offset-y","pfValue",d);de+="%"===Fe?(R-Q)*Ee:Ee,F.pathCache&&(W-=y,de-=b,y=0,b=0);var Re=u.globalAlpha;u.globalAlpha=K;var Ye=p.getImgSmoothing(u),qe=!1;if("no"===Y&&Ye?(p.setImgSmoothing(u,!1),qe=!0):"yes"===Y&&!Ye&&(p.setImgSmoothing(u,!0),qe=!0),"no-repeat"===E)z&&(u.save(),F.pathCache?u.clip(F.pathCache):(p.nodeShapes[p.getNodeShape(c)].draw(u,y,b,I,R),u.clip())),p.safeDrawImage(u,o,0,0,H,Z,W,de,U,Q),z&&u.restore();else{var We=u.createPattern(o,E);u.fillStyle=We,p.nodeShapes[p.getNodeShape(c)].draw(u,y,b,I,R),u.translate(W,de),u.fill(),u.translate(-W,-de)}u.globalAlpha=Re,qe&&p.setImgSmoothing(u,Ye)}}},rc={};function FA(u,o,c,d,f){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;u.beginPath(),u.moveTo(o+p,c),u.lineTo(o+d-p,c),u.quadraticCurveTo(o+d,c,o+d,c+p),u.lineTo(o+d,c+f-p),u.quadraticCurveTo(o+d,c+f,o+d-p,c+f),u.lineTo(o+p,c+f),u.quadraticCurveTo(o,c+f,o,c+f-p),u.lineTo(o,c+p),u.quadraticCurveTo(o,c,o+p,c),u.closePath(),u.fill()}rc.eleTextBiggerThanMin=function(u,o){if(!o){var c=u.cy().zoom(),d=this.getPixelRatio(),f=Math.ceil(ly(c*d));o=Math.pow(2,f)}return!(u.pstyle("font-size").pfValue*o<u.pstyle("min-zoomed-font-size").pfValue)},rc.drawElementText=function(u,o,c,d,f){var p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this;if(null==d){if(p&&!g.eleTextBiggerThanMin(o))return}else if(!1===d)return;if(o.isNode()){var y=o.pstyle("label");if(!y||!y.value)return;var b=g.getLabelJustification(o);u.textAlign=b,u.textBaseline="bottom"}else{var _=o.element()._private.rscratch.badLine,w=o.pstyle("label"),x=o.pstyle("source-label"),E=o.pstyle("target-label");if(_||(!w||!w.value)&&(!x||!x.value)&&(!E||!E.value))return;u.textAlign="center",u.textBaseline="bottom"}var M,S=!c;c&&u.translate(-(M=c).x1,-M.y1),null==f?(g.drawText(u,o,null,S,p),o.isEdge()&&(g.drawText(u,o,"source",S,p),g.drawText(u,o,"target",S,p))):g.drawText(u,o,f,S,p),c&&u.translate(M.x1,M.y1)},rc.getFontCache=function(u){var o;this.fontCaches=this.fontCaches||[];for(var c=0;c<this.fontCaches.length;c++)if((o=this.fontCaches[c]).context===u)return o;return this.fontCaches.push(o={context:u}),o},rc.setupTextStyle=function(u,o){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=o.pstyle("font-style").strValue,f=o.pstyle("font-size").pfValue+"px",p=o.pstyle("font-family").strValue,g=o.pstyle("font-weight").strValue,y=c?o.effectiveOpacity()*o.pstyle("text-opacity").value:1,b=o.pstyle("text-outline-opacity").value*y,_=o.pstyle("color").value,w=o.pstyle("text-outline-color").value;u.font=d+" "+g+" "+f+" "+p,u.lineJoin="round",this.colorFillStyle(u,_[0],_[1],_[2],y),this.colorStrokeStyle(u,w[0],w[1],w[2],b)},rc.getTextAngle=function(u,o){var f=u._private.rscratch,g=u.pstyle((o?o+"-":"")+"text-rotation"),y=ai(f,"labelAngle",o);return"autorotate"===g.strValue?u.isEdge()?y:0:"none"===g.strValue?0:g.pfValue},rc.drawText=function(u,o,c){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=o._private,g=p.rscratch,y=f?o.effectiveOpacity():1;if(!f||0!==y&&0!==o.pstyle("text-opacity").value){"main"===c&&(c=null);var w,x,b=ai(g,"labelX",c),_=ai(g,"labelY",c),E=this.getLabelText(o,c);if(null!=E&&""!==E&&!isNaN(b)&&!isNaN(_)){this.setupTextStyle(u,o,f);var K,S=c?c+"-":"",M=ai(g,"labelWidth",c),A=ai(g,"labelHeight",c),I=o.pstyle(S+"text-margin-x").pfValue,R=o.pstyle(S+"text-margin-y").pfValue,F=o.isEdge(),L=o.pstyle("text-halign").value,z=o.pstyle("text-valign").value;switch(F&&(L="center",z="center"),b+=I,_+=R,0!==(K=d?this.getTextAngle(o,c):0)&&(u.translate(w=b,x=_),u.rotate(K),b=0,_=0),z){case"top":break;case"center":_+=A/2;break;case"bottom":_+=A}var Y=o.pstyle("text-background-opacity").value,H=o.pstyle("text-border-opacity").value,Z=o.pstyle("text-border-width").pfValue,U=o.pstyle("text-background-padding").pfValue;if(Y>0||Z>0&&H>0){var Q=b-U;switch(L){case"left":Q-=M;break;case"center":Q-=M/2}var J=_-A-U,W=M+2*U,oe=A+2*U;if(Y>0){var X=u.fillStyle,me=o.pstyle("text-background-color").value;u.fillStyle="rgba("+me[0]+","+me[1]+","+me[2]+","+Y*y+")";var ae=o.pstyle("text-background-shape").strValue;0===ae.indexOf("round")?FA(u,Q,J,W,oe,2):u.fillRect(Q,J,W,oe),u.fillStyle=X}if(Z>0&&H>0){var de=u.strokeStyle,be=u.lineWidth,Se=o.pstyle("text-border-color").value,Fe=o.pstyle("text-border-style").value;if(u.strokeStyle="rgba("+Se[0]+","+Se[1]+","+Se[2]+","+H*y+")",u.lineWidth=Z,u.setLineDash)switch(Fe){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"double":u.lineWidth=Z/4,u.setLineDash([]);break;case"solid":u.setLineDash([])}if(u.strokeRect(Q,J,W,oe),"double"===Fe){var Ee=Z/2;u.strokeRect(Q+Ee,J+Ee,W-2*Ee,oe-2*Ee)}u.setLineDash&&u.setLineDash([]),u.lineWidth=be,u.strokeStyle=de}}var Re=2*o.pstyle("text-outline-width").pfValue;if(Re>0&&(u.lineWidth=Re),"wrap"===o.pstyle("text-wrap").value){var Ye=ai(g,"labelWrapCachedLines",c),qe=ai(g,"labelLineHeight",c),We=M/2,He=this.getLabelJustification(o);switch("auto"===He||("left"===L?"left"===He?b+=-M:"center"===He&&(b+=-We):"center"===L?"left"===He?b+=-We:"right"===He&&(b+=We):"right"===L&&("center"===He?b+=We:"right"===He&&(b+=M))),z){case"top":case"center":case"bottom":_-=(Ye.length-1)*qe}for(var ye=0;ye<Ye.length;ye++)Re>0&&u.strokeText(Ye[ye],b,_),u.fillText(Ye[ye],b,_),_+=qe}else Re>0&&u.strokeText(E,b,_),u.fillText(E,b,_);0!==K&&(u.rotate(-K),u.translate(-w,-x))}}};var Ta={drawNode:function(u,o,c){var y,b,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],g=this,_=o._private,w=_.rscratch,x=o.position();if(Le(x.x)&&Le(x.y)&&(!p||o.visible())){var M,R,E=p?o.effectiveOpacity():1,S=g.usePaths(),A=!1,I=o.padding();y=o.width()+2*I,b=o.height()+2*I,c&&u.translate(-(R=c).x1,-R.y1);for(var F=o.pstyle("background-image"),L=F.value,z=new Array(L.length),K=new Array(L.length),Y=0,H=0;H<L.length;H++){var Z=L[H],U=z[H]=null!=Z&&"none"!==Z;if(U){var Q=o.cy().style().getIndexedStyle(o,"background-image-crossorigin","value",H);Y++,K[H]=g.getCachedImage(Z,Q,function(){_.backgroundTimestamp=Date.now(),o.emitAndNotify("background")})}}var J=o.pstyle("background-blacken").value,W=o.pstyle("border-width").pfValue,oe=o.pstyle("background-opacity").value*E,X=o.pstyle("border-color").value,me=o.pstyle("border-style").value,ae=o.pstyle("border-opacity").value*E;u.lineJoin="miter";var de=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe;g.eleFillStyle(u,o,Dt)},be=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae;g.colorStrokeStyle(u,X[0],X[1],X[2],Dt)},Se=o.pstyle("shape").strValue,Fe=o.pstyle("shape-polygon-points").pfValue;if(S){u.translate(x.x,x.y);var Ee=g.nodePathCache=g.nodePathCache||[],Re=ty("polygon"===Se?Se+","+Fe.join(","):Se,""+b,""+y),Ye=Ee[Re];null!=Ye?(A=!0,w.pathCache=M=Ye):(M=new Path2D,Ee[Re]=w.pathCache=M)}var qe=function(){if(!A){var Dt=x;S&&(Dt={x:0,y:0}),g.nodeShapes[g.getNodeShape(o)].draw(M||u,Dt.x,Dt.y,y,b)}S?u.fill(M):u.fill()},We=function(){for(var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],kn=_.backgrounding,yn=0,Qt=0;Qt<K.length;Qt++){var at=o.cy().style().getIndexedStyle(o,"background-image-containment","value",Qt);Ht&&"over"===at||!Ht&&"inside"===at?yn++:z[Qt]&&K[Qt].complete&&!K[Qt].error&&(yn++,g.drawInscribedImage(u,K[Qt],o,Qt,Dt))}_.backgrounding=yn!==Y,kn!==_.backgrounding&&o.updateStyle(!1)},He=function(){var Dt=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;g.hasPie(o)&&(g.drawPie(u,o,Ht),Dt&&(S||g.nodeShapes[g.getNodeShape(o)].draw(u,x.x,x.y,y,b)))},ye=function(){var Dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,Ht=(J>0?J:-J)*Dt,kn=J>0?0:255;0!==J&&(g.colorFillStyle(u,kn,kn,kn,Ht),S?u.fill(M):u.fill())},Me=function(){if(W>0){if(u.lineWidth=W,u.lineCap="butt",u.setLineDash)switch(me){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash([4,2]);break;case"solid":case"double":u.setLineDash([])}if(S?u.stroke(M):u.stroke(),"double"===me){u.lineWidth=W/3;var Dt=u.globalCompositeOperation;u.globalCompositeOperation="destination-out",S?u.stroke(M):u.stroke(),u.globalCompositeOperation=Dt}u.setLineDash&&u.setLineDash([])}},Je=function(){f&&g.drawNodeOverlay(u,o,x,y,b)},ft=function(){f&&g.drawNodeUnderlay(u,o,x,y,b)},mt=function(){g.drawElementText(u,o,null,d)},nn="yes"===o.pstyle("ghost").value;if(nn){var Cn=o.pstyle("ghost-offset-x").pfValue,wt=o.pstyle("ghost-offset-y").pfValue,gt=o.pstyle("ghost-opacity").value,Ut=gt*E;u.translate(Cn,wt),de(gt*oe),qe(),We(Ut,!0),be(gt*ae),Me(),He(0!==J||0!==W),We(Ut,!1),ye(Ut),u.translate(-Cn,-wt)}S&&u.translate(-x.x,-x.y),ft(),S&&u.translate(x.x,x.y),de(),qe(),We(E,!0),be(),Me(),He(0!==J||0!==W),We(E,!1),ye(),S&&u.translate(-x.x,-x.y),mt(),Je(),c&&u.translate(R.x1,R.y1)}}},c_=function(o){if(!["overlay","underlay"].includes(o))throw new Error("Invalid state");return function(c,d,f,p,g){if(d.visible()){var b=d.pstyle("".concat(o,"-padding")).pfValue,_=d.pstyle("".concat(o,"-opacity")).value,w=d.pstyle("".concat(o,"-color")).value,x=d.pstyle("".concat(o,"-shape")).value;if(_>0){if(f=f||d.position(),null==p||null==g){var E=d.padding();p=d.width()+2*E,g=d.height()+2*E}this.colorFillStyle(c,w[0],w[1],w[2],_),this.nodeShapes[x].draw(c,f.x,f.y,p+2*b,g+2*b),c.fill()}}}};Ta.drawNodeOverlay=c_("overlay"),Ta.drawNodeUnderlay=c_("underlay"),Ta.hasPie=function(u){return(u=u[0])._private.hasPie},Ta.drawPie=function(u,o,c,d){o=o[0],d=d||o.position();var f=o.cy().style(),p=o.pstyle("pie-size"),g=d.x,y=d.y,b=o.width(),_=o.height(),w=Math.min(b,_)/2,x=0;this.usePaths()&&(g=0,y=0),"%"===p.units?w*=p.pfValue:void 0!==p.pfValue&&(w=p.pfValue/2);for(var S=1;S<=f.pieBackgroundN;S++){var M=o.pstyle("pie-"+S+"-background-size").value,A=o.pstyle("pie-"+S+"-background-color").value,I=o.pstyle("pie-"+S+"-background-opacity").value*c,R=M/100;R+x>1&&(R=1-x);var F=1.5*Math.PI+2*Math.PI*x,z=F+2*Math.PI*R;0===M||x>=1||x+R>1||(u.beginPath(),u.moveTo(g,y),u.arc(g,y,w,F,z),u.closePath(),this.colorFillStyle(u,A[0],A[1],A[2],I),u.fill(),x+=R)}};for(var Os={getPixelRatio:function(){var u=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(u.backingStorePixelRatio||u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1)},paintCache:function(u){for(var d,o=this.paintCaches=this.paintCaches||[],c=!0,f=0;f<o.length;f++)if((d=o[f]).context===u){c=!1;break}return c&&o.push(d={context:u}),d},createGradientStyleFor:function(u,o,c,d,f){var p,g=this.usePaths(),y=c.pstyle(o+"-gradient-stop-colors").value,b=c.pstyle(o+"-gradient-stop-positions").pfValue;if("radial-gradient"===d)if(c.isEdge()){var _=c.sourceEndpoint(),w=c.targetEndpoint(),x=c.midpoint(),E=Kn(_,x),S=Kn(w,x);p=u.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(E,S))}else{var M=g?{x:0,y:0}:c.position(),A=c.paddedWidth(),I=c.paddedHeight();p=u.createRadialGradient(M.x,M.y,0,M.x,M.y,Math.max(A,I))}else if(c.isEdge()){var R=c.sourceEndpoint(),F=c.targetEndpoint();p=u.createLinearGradient(R.x,R.y,F.x,F.y)}else{var L=g?{x:0,y:0}:c.position(),Y=c.paddedWidth()/2,H=c.paddedHeight()/2;switch(c.pstyle("background-gradient-direction").value){case"to-bottom":p=u.createLinearGradient(L.x,L.y-H,L.x,L.y+H);break;case"to-top":p=u.createLinearGradient(L.x,L.y+H,L.x,L.y-H);break;case"to-left":p=u.createLinearGradient(L.x+Y,L.y,L.x-Y,L.y);break;case"to-right":p=u.createLinearGradient(L.x-Y,L.y,L.x+Y,L.y);break;case"to-bottom-right":case"to-right-bottom":p=u.createLinearGradient(L.x-Y,L.y-H,L.x+Y,L.y+H);break;case"to-top-right":case"to-right-top":p=u.createLinearGradient(L.x-Y,L.y+H,L.x+Y,L.y-H);break;case"to-bottom-left":case"to-left-bottom":p=u.createLinearGradient(L.x+Y,L.y-H,L.x-Y,L.y+H);break;case"to-top-left":case"to-left-top":p=u.createLinearGradient(L.x+Y,L.y+H,L.x-Y,L.y-H)}}if(!p)return null;for(var U=b.length===y.length,Q=y.length,J=0;J<Q;J++)p.addColorStop(U?b[J]:J/(Q-1),"rgba("+y[J][0]+","+y[J][1]+","+y[J][2]+","+f+")");return p},gradientFillStyle:function(u,o,c,d){var f=this.createGradientStyleFor(u,"background",o,c,d);if(!f)return null;u.fillStyle=f},colorFillStyle:function(u,o,c,d,f){u.fillStyle="rgba("+o+","+c+","+d+","+f+")"},eleFillStyle:function(u,o,c){var d=o.pstyle("background-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientFillStyle(u,o,d,c);else{var f=o.pstyle("background-color").value;this.colorFillStyle(u,f[0],f[1],f[2],c)}},gradientStrokeStyle:function(u,o,c,d){var f=this.createGradientStyleFor(u,"line",o,c,d);if(!f)return null;u.strokeStyle=f},colorStrokeStyle:function(u,o,c,d,f){u.strokeStyle="rgba("+o+","+c+","+d+","+f+")"},eleStrokeStyle:function(u,o,c){var d=o.pstyle("line-fill").value;if("linear-gradient"===d||"radial-gradient"===d)this.gradientStrokeStyle(u,o,d,c);else{var f=o.pstyle("line-color").value;this.colorStrokeStyle(u,f[0],f[1],f[2],c)}},matchCanvasSize:function(u){var o=this,c=o.data,d=o.findContainerClientCoords(),f=d[2],p=d[3],g=o.getPixelRatio();(u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE]||u===o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG])&&(g=o.motionBlurPxRatio);var w,b=f*g,_=p*g;if(b!==o.canvasWidth||_!==o.canvasHeight){o.fontCaches=null;var x=c.canvasContainer;x.style.width=f+"px",x.style.height=p+"px";for(var E=0;E<o.CANVAS_LAYERS;E++)(w=c.canvases[E]).width=b,w.height=_,w.style.width=f+"px",w.style.height=p+"px";for(E=0;E<o.BUFFER_COUNT;E++)(w=c.bufferCanvases[E]).width=b,w.height=_,w.style.width=f+"px",w.style.height=p+"px";o.textureMult=1,g<=1&&(w=c.bufferCanvases[o.TEXTURE_BUFFER],o.textureMult=2,w.width=b*o.textureMult,w.height=_*o.textureMult),o.canvasWidth=b,o.canvasHeight=_}},renderTo:function(u,o,c,d){this.render({forcedContext:u,forcedZoom:o,forcedPan:c,drawAllLayers:!0,forcedPxRatio:d})},render:function(u){var o=(u=u||sy()).forcedContext,c=u.drawAllLayers,d=u.drawOnlyNodeLayer,f=u.forcedZoom,p=u.forcedPan,g=this,y=void 0===u.forcedPxRatio?this.getPixelRatio():u.forcedPxRatio,b=g.cy,_=g.data,w=_.canvasNeedsRedraw,x=g.textureOnViewport&&!o&&(g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming),E=void 0!==u.motionBlur?u.motionBlur:g.motionBlur,S=g.motionBlurPxRatio,M=b.hasCompoundNodes(),A=g.hoverData.draggingEles,R=E=E&&!o&&g.motionBlurEnabled&&!(g.hoverData.selecting||g.touchData.selecting);o||(g.prevPxRatio!==y&&(g.invalidateContainerClientCoordsCache(),g.matchCanvasSize(g.container),g.redrawHint("eles",!0),g.redrawHint("drag",!0)),g.prevPxRatio=y),!o&&g.motionBlurTimeout&&clearTimeout(g.motionBlurTimeout),E&&(null==g.mbFrames&&(g.mbFrames=0),g.mbFrames++,g.mbFrames<3&&(R=!1),g.mbFrames>g.minMbLowQualFrames&&(g.motionBlurPxRatio=g.mbPxRBlurry)),g.clearingMotionBlur&&(g.motionBlurPxRatio=1),g.textureDrawLastFrame&&!x&&(w[g.NODE]=!0,w[g.SELECT_BOX]=!0);var F=b.style(),L=b.zoom(),z=void 0!==f?f:L,K=b.pan(),Y={x:K.x,y:K.y},H={zoom:L,pan:{x:K.x,y:K.y}},Z=g.prevViewport;!(void 0===Z||H.zoom!==Z.zoom||H.pan.x!==Z.pan.x||H.pan.y!==Z.pan.y)&&!(A&&!M)&&(g.motionBlurPxRatio=1),p&&(Y=p),z*=y,Y.x*=y,Y.y*=y;var Q=g.getCachedZSortedEles();function J(wt,gt,Ut,Lt,Dt){var Ht=wt.globalCompositeOperation;wt.globalCompositeOperation="destination-out",g.colorFillStyle(wt,255,255,255,g.motionBlurTransparency),wt.fillRect(gt,Ut,Lt,Dt),wt.globalCompositeOperation=Ht}function W(wt,gt){var Ut,Lt,Dt,Ht;g.clearingMotionBlur||wt!==_.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]&&wt!==_.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]?(Ut=Y,Lt=z,Dt=g.canvasWidth,Ht=g.canvasHeight):(Ut={x:K.x*S,y:K.y*S},Lt=L*S,Dt=g.canvasWidth*S,Ht=g.canvasHeight*S),wt.setTransform(1,0,0,1,0,0),"motionBlur"===gt?J(wt,0,0,Dt,Ht):!o&&(void 0===gt||gt)&&wt.clearRect(0,0,Dt,Ht),c||(wt.translate(Ut.x,Ut.y),wt.scale(Lt,Lt)),p&&wt.translate(p.x,p.y),f&&wt.scale(f,f)}if(x||(g.textureDrawLastFrame=!1),x){if(g.textureDrawLastFrame=!0,!g.textureCache){g.textureCache={},g.textureCache.bb=b.mutableElements().boundingBox(),g.textureCache.texture=g.data.bufferCanvases[g.TEXTURE_BUFFER];var oe=g.data.bufferContexts[g.TEXTURE_BUFFER];oe.setTransform(1,0,0,1,0,0),oe.clearRect(0,0,g.canvasWidth*g.textureMult,g.canvasHeight*g.textureMult),g.render({forcedContext:oe,drawOnlyNodeLayer:!0,forcedPxRatio:y*g.textureMult}),(H=g.textureCache.viewport={zoom:b.zoom(),pan:b.pan(),width:g.canvasWidth,height:g.canvasHeight}).mpan={x:(0-H.pan.x)/H.zoom,y:(0-H.pan.y)/H.zoom}}w[g.DRAG]=!1,w[g.NODE]=!1;var me=g.textureCache.texture;H=g.textureCache.viewport,(X=_.contexts[g.NODE]).setTransform(1,0,0,1,0,0),E?J(X,0,0,H.width,H.height):X.clearRect(0,0,H.width,H.height);var ae=F.core("outside-texture-bg-color").value,de=F.core("outside-texture-bg-opacity").value;g.colorFillStyle(X,ae[0],ae[1],ae[2],de),X.fillRect(0,0,H.width,H.height),L=b.zoom(),W(X,!1),X.clearRect(H.mpan.x,H.mpan.y,H.width/H.zoom/y,H.height/H.zoom/y),X.drawImage(me,H.mpan.x,H.mpan.y,H.width/H.zoom/y,H.height/H.zoom/y)}else g.textureOnViewport&&!o&&(g.textureCache=null);var be=b.extent(),Se=g.pinching||g.hoverData.dragging||g.swipePanning||g.data.wheelZooming||g.hoverData.draggingEles||g.cy.animated(),Fe=g.hideEdgesOnViewport&&Se,Ee=[];if(Ee[g.NODE]=!w[g.NODE]&&E&&!g.clearedForMotionBlur[g.NODE]||g.clearingMotionBlur,Ee[g.NODE]&&(g.clearedForMotionBlur[g.NODE]=!0),Ee[g.DRAG]=!w[g.DRAG]&&E&&!g.clearedForMotionBlur[g.DRAG]||g.clearingMotionBlur,Ee[g.DRAG]&&(g.clearedForMotionBlur[g.DRAG]=!0),w[g.NODE]||c||d||Ee[g.NODE]){var Re=E&&!Ee[g.NODE]&&1!==S;W(X=o||(Re?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_NODE]:_.contexts[g.NODE]),E&&!Re?"motionBlur":void 0),Fe?g.drawCachedNodes(X,Q.nondrag,y,be):g.drawLayeredElements(X,Q.nondrag,y,be),g.debug&&g.drawDebugPoints(X,Q.nondrag),!c&&!E&&(w[g.NODE]=!1)}if(!d&&(w[g.DRAG]||c||Ee[g.DRAG])&&(Re=E&&!Ee[g.DRAG]&&1!==S,W(X=o||(Re?g.data.bufferContexts[g.MOTIONBLUR_BUFFER_DRAG]:_.contexts[g.DRAG]),E&&!Re?"motionBlur":void 0),Fe?g.drawCachedNodes(X,Q.drag,y,be):g.drawCachedElements(X,Q.drag,y,be),g.debug&&g.drawDebugPoints(X,Q.drag),!c&&!E&&(w[g.DRAG]=!1)),g.showFps||!d&&w[g.SELECT_BOX]&&!c){var X;if(W(X=o||_.contexts[g.SELECT_BOX]),1==g.selection[4]&&(g.hoverData.selecting||g.touchData.selecting)){L=g.cy.zoom();var qe=F.core("selection-box-border-width").value/L;X.lineWidth=qe,X.fillStyle="rgba("+F.core("selection-box-color").value[0]+","+F.core("selection-box-color").value[1]+","+F.core("selection-box-color").value[2]+","+F.core("selection-box-opacity").value+")",X.fillRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]),qe>0&&(X.strokeStyle="rgba("+F.core("selection-box-border-color").value[0]+","+F.core("selection-box-border-color").value[1]+","+F.core("selection-box-border-color").value[2]+","+F.core("selection-box-opacity").value+")",X.strokeRect(g.selection[0],g.selection[1],g.selection[2]-g.selection[0],g.selection[3]-g.selection[1]))}if(_.bgActivePosistion&&!g.hoverData.selecting){L=g.cy.zoom();var We=_.bgActivePosistion;X.fillStyle="rgba("+F.core("active-bg-color").value[0]+","+F.core("active-bg-color").value[1]+","+F.core("active-bg-color").value[2]+","+F.core("active-bg-opacity").value+")",X.beginPath(),X.arc(We.x,We.y,F.core("active-bg-size").pfValue/L,0,2*Math.PI),X.fill()}var He=g.lastRedrawTime;if(g.showFps&&He){He=Math.round(He);var ye=Math.round(1e3/He);X.setTransform(1,0,0,1,0,0),X.fillStyle="rgba(255, 0, 0, 0.75)",X.strokeStyle="rgba(255, 0, 0, 0.75)",X.lineWidth=1,X.fillText("1 frame = "+He+" ms = "+ye+" fps",0,20),X.strokeRect(0,30,250,20),X.fillRect(0,30,250*Math.min(ye/60,1),20)}c||(w[g.SELECT_BOX]=!1)}if(E&&1!==S){var mt=_.contexts[g.DRAG],nn=g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_DRAG],Cn=function(gt,Ut,Lt){gt.setTransform(1,0,0,1,0,0),Lt||!R?gt.clearRect(0,0,g.canvasWidth,g.canvasHeight):J(gt,0,0,g.canvasWidth,g.canvasHeight),gt.drawImage(Ut,0,0,g.canvasWidth*S,g.canvasHeight*S,0,0,g.canvasWidth,g.canvasHeight)};(w[g.NODE]||Ee[g.NODE])&&(Cn(_.contexts[g.NODE],g.data.bufferCanvases[g.MOTIONBLUR_BUFFER_NODE],Ee[g.NODE]),w[g.NODE]=!1),(w[g.DRAG]||Ee[g.DRAG])&&(Cn(mt,nn,Ee[g.DRAG]),w[g.DRAG]=!1)}g.prevViewport=H,g.clearingMotionBlur&&(g.clearingMotionBlur=!1,g.motionBlurCleared=!0,g.motionBlur=!0),E&&(g.motionBlurTimeout=setTimeout(function(){g.motionBlurTimeout=null,g.clearedForMotionBlur[g.NODE]=!1,g.clearedForMotionBlur[g.DRAG]=!1,g.motionBlur=!1,g.clearingMotionBlur=!x,g.mbFrames=0,w[g.NODE]=!0,w[g.DRAG]=!0,g.redraw()},100)),o||b.emit("render")}},Aa={drawPolygonPath:function(u,o,c,d,f,p){var g=d/2,y=f/2;u.beginPath&&u.beginPath(),u.moveTo(o+g*p[0],c+y*p[1]);for(var b=1;b<p.length/2;b++)u.lineTo(o+g*p[2*b],c+y*p[2*b+1]);u.closePath()},drawRoundPolygonPath:function(u,o,c,d,f,p){var g=d/2,y=f/2,b=Hh(d,f);u.beginPath&&u.beginPath();for(var _=0;_<p.length/4;_++){var x,w;w=0===_?p.length-2:4*_-2,x=4*_+2;var E=o+g*p[4*_],S=c+y*p[4*_+1],A=b/Math.tan(Math.acos(-p[w]*p[x]-p[w+1]*p[x+1])/2),I=E-A*p[w],R=S-A*p[w+1],F=E+A*p[x],L=S+A*p[x+1];0===_?u.moveTo(I,R):u.lineTo(I,R),u.arcTo(E,S,F,L,b)}u.closePath()},drawRoundRectanglePath:function(u,o,c,d,f){var p=d/2,g=f/2,y=Xc(d,f);u.beginPath&&u.beginPath(),u.moveTo(o,c-g),u.arcTo(o+p,c-g,o+p,c,y),u.arcTo(o+p,c+g,o,c+g,y),u.arcTo(o-p,c+g,o-p,c,y),u.arcTo(o-p,c-g,o,c-g,y),u.lineTo(o,c-g),u.closePath()},drawBottomRoundRectanglePath:function(u,o,c,d,f){var p=d/2,g=f/2,y=Xc(d,f);u.beginPath&&u.beginPath(),u.moveTo(o,c-g),u.lineTo(o+p,c-g),u.lineTo(o+p,c),u.arcTo(o+p,c+g,o,c+g,y),u.arcTo(o-p,c+g,o-p,c,y),u.lineTo(o-p,c-g),u.lineTo(o,c-g),u.closePath()},drawCutRectanglePath:function(u,o,c,d,f){var p=d/2,g=f/2;u.beginPath&&u.beginPath(),u.moveTo(o-p+8,c-g),u.lineTo(o+p-8,c-g),u.lineTo(o+p,c-g+8),u.lineTo(o+p,c+g-8),u.lineTo(o+p-8,c+g),u.lineTo(o-p+8,c+g),u.lineTo(o-p,c+g-8),u.lineTo(o-p,c-g+8),u.closePath()},drawBarrelPath:function(u,o,c,d,f){var p=d/2,g=f/2,y=o-p,b=o+p,_=c-g,w=c+g,x=zh(d,f),E=x.widthOffset,S=x.heightOffset,M=x.ctrlPtOffsetPct*E;u.beginPath&&u.beginPath(),u.moveTo(y,_+S),u.lineTo(y,w-S),u.quadraticCurveTo(y+M,w,y+E,w),u.lineTo(b-E,w),u.quadraticCurveTo(b-M,w,b,w-S),u.lineTo(b,_+S),u.quadraticCurveTo(b-M,_,b-E,_),u.lineTo(y+E,_),u.quadraticCurveTo(y+M,_,y,_+S),u.closePath()}},Sf=Math.sin(0),Bg=Math.cos(0),Du={},Eu={},Vg=Math.PI/40,_l=0*Math.PI;_l<2*Math.PI;_l+=Vg)Du[_l]=Math.sin(_l),Eu[_l]=Math.cos(_l);Aa.drawEllipsePath=function(u,o,c,d,f){if(u.beginPath&&u.beginPath(),u.ellipse)u.ellipse(o,c,d/2,f/2,0,0,2*Math.PI);else for(var p,g,y=d/2,b=f/2,_=0*Math.PI;_<2*Math.PI;_+=Vg)p=o-y*Du[_]*Sf+y*Eu[_]*Bg,g=c+b*Eu[_]*Sf+b*Du[_]*Bg,0===_?u.moveTo(p,g):u.lineTo(p,g);u.closePath()};var sc={};function Su(u){var o=u.indexOf(",");return u.substr(o+1)}function d_(u,o,c){var d=function(){return o.toDataURL(c,u.quality)};switch(u.output){case"blob-promise":return new iu(function(f,p){try{o.toBlob(function(g){null!=g?f(g):p(new Error("`canvas.toBlob()` sent a null value in its callback"))},c,u.quality)}catch(g){p(g)}});case"blob":return function Hg(u,o){for(var c=atob(u),d=new ArrayBuffer(c.length),f=new Uint8Array(d),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);return new Blob([d],{type:o})}(Su(d()),c);case"base64":return Su(d());default:return d()}}sc.createBuffer=function(u,o){var c=document.createElement("canvas");return c.width=u,c.height=o,[c,c.getContext("2d")]},sc.bufferCanvasImage=function(u){var o=this.cy,d=o.mutableElements().boundingBox(),f=this.findContainerClientCoords(),p=u.full?Math.ceil(d.w):f[2],g=u.full?Math.ceil(d.h):f[3],y=Le(u.maxWidth)||Le(u.maxHeight),b=this.getPixelRatio(),_=1;if(void 0!==u.scale)p*=u.scale,g*=u.scale,_=u.scale;else if(y){var w=1/0,x=1/0;Le(u.maxWidth)&&(w=_*u.maxWidth/p),Le(u.maxHeight)&&(x=_*u.maxHeight/g),p*=_=Math.min(w,x),g*=_}y||(p*=b,g*=b,_*=b);var E=document.createElement("canvas");E.width=p,E.height=g,E.style.width=p+"px",E.style.height=g+"px";var S=E.getContext("2d");if(p>0&&g>0){S.clearRect(0,0,p,g),S.globalCompositeOperation="source-over";var M=this.getCachedZSortedEles();if(u.full)S.translate(-d.x1*_,-d.y1*_),S.scale(_,_),this.drawElements(S,M),S.scale(1/_,1/_),S.translate(d.x1*_,d.y1*_);else{var A=o.pan(),I={x:A.x*_,y:A.y*_};_*=o.zoom(),S.translate(I.x,I.y),S.scale(_,_),this.drawElements(S,M),S.scale(1/_,1/_),S.translate(-I.x,-I.y)}u.bg&&(S.globalCompositeOperation="destination-over",S.fillStyle=u.bg,S.rect(0,0,p,g),S.fill())}return E},sc.png=function(u){return d_(u,this.bufferCanvasImage(u),"image/png")},sc.jpg=function(u){return d_(u,this.bufferCanvasImage(u),"image/jpeg")};var xx=$g,oi=$g.prototype;function $g(u){var o=this;o.data={canvases:new Array(oi.CANVAS_LAYERS),contexts:new Array(oi.CANVAS_LAYERS),canvasNeedsRedraw:new Array(oi.CANVAS_LAYERS),bufferCanvases:new Array(oi.BUFFER_COUNT),bufferContexts:new Array(oi.CANVAS_LAYERS)};var c="-webkit-tap-highlight-color",d="rgba(0,0,0,0)";o.data.canvasContainer=document.createElement("div");var f=o.data.canvasContainer.style;o.data.canvasContainer.style[c]=d,f.position="relative",f.zIndex="0",f.overflow="hidden";var p=u.cy.container();p.appendChild(o.data.canvasContainer),p.style[c]=d;var g={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Ot&&Ot.userAgent.match(/msie|trident|edge/i)&&(g["-ms-touch-action"]="none",g["touch-action"]="none");for(var y=0;y<oi.CANVAS_LAYERS;y++){var b=o.data.canvases[y]=document.createElement("canvas");o.data.contexts[y]=b.getContext("2d"),Object.keys(g).forEach(function(He){b.style[He]=g[He]}),b.style.position="absolute",b.setAttribute("data-id","layer"+y),b.style.zIndex=String(oi.CANVAS_LAYERS-y),o.data.canvasContainer.appendChild(b),o.data.canvasNeedsRedraw[y]=!1}for(o.data.topCanvas=o.data.canvases[0],o.data.canvases[oi.NODE].setAttribute("data-id","layer"+oi.NODE+"-node"),o.data.canvases[oi.SELECT_BOX].setAttribute("data-id","layer"+oi.SELECT_BOX+"-selectbox"),o.data.canvases[oi.DRAG].setAttribute("data-id","layer"+oi.DRAG+"-drag"),y=0;y<oi.BUFFER_COUNT;y++)o.data.bufferCanvases[y]=document.createElement("canvas"),o.data.bufferContexts[y]=o.data.bufferCanvases[y].getContext("2d"),o.data.bufferCanvases[y].style.position="absolute",o.data.bufferCanvases[y].setAttribute("data-id","buffer"+y),o.data.bufferCanvases[y].style.zIndex=String(-y-1),o.data.bufferCanvases[y].style.visibility="hidden";o.pathsEnabled=!0;var _=qr(),x=function(ye){return{x:-ye.w/2,y:-ye.h/2}},K=function(ye){return ye.boundingBox(),ye[0]._private.bodyBounds},Y=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.main||_},H=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.source||_},Z=function(ye){return ye.boundingBox(),ye[0]._private.labelBounds.target||_},U=function(ye,Me){return Me},J=function(ye,Me,Je){var ft=ye?ye+"-":"";return{x:Me.x+Je.pstyle(ft+"text-margin-x").pfValue,y:Me.y+Je.pstyle(ft+"text-margin-y").pfValue}},W=function(ye,Me,Je){var ft=ye[0]._private.rscratch;return{x:ft[Me],y:ft[Je]}},Fe=o.data.eleTxrCache=new wu(o,{getKey:function(ye){return ye[0]._private.nodeKey},doesEleInvalidateKey:function(ye){var Me=ye[0]._private;return!(Me.oldBackgroundTimestamp===Me.backgroundTimestamp)},drawElement:function(ye,Me,Je,ft,mt){return o.drawElement(ye,Me,Je,!1,!1,mt)},getBoundingBox:K,getRotationPoint:function(ye){return function(ye){return{x:(ye.x1+ye.x2)/2,y:(ye.y1+ye.y2)/2}}(K(ye))},getRotationOffset:function(ye){return x(K(ye))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Ee=o.data.lblTxrCache=new wu(o,{getKey:function(ye){return ye[0]._private.labelStyleKey},drawElement:function(ye,Me,Je,ft,mt){return o.drawElementText(ye,Me,Je,ft,"main",mt)},getBoundingBox:Y,getRotationPoint:function(ye){return J("",W(ye,"labelX","labelY"),ye)},getRotationOffset:function(ye){var Me=Y(ye),Je=x(Y(ye));if(ye.isNode()){switch(ye.pstyle("text-halign").value){case"left":Je.x=-Me.w;break;case"right":Je.x=0}switch(ye.pstyle("text-valign").value){case"top":Je.y=-Me.h;break;case"bottom":Je.y=0}}return Je},isVisible:U}),Re=o.data.slbTxrCache=new wu(o,{getKey:function(ye){return ye[0]._private.sourceLabelStyleKey},drawElement:function(ye,Me,Je,ft,mt){return o.drawElementText(ye,Me,Je,ft,"source",mt)},getBoundingBox:H,getRotationPoint:function(ye){return J("source",W(ye,"sourceLabelX","sourceLabelY"),ye)},getRotationOffset:function(ye){return x(H(ye))},isVisible:U}),Ye=o.data.tlbTxrCache=new wu(o,{getKey:function(ye){return ye[0]._private.targetLabelStyleKey},drawElement:function(ye,Me,Je,ft,mt){return o.drawElementText(ye,Me,Je,ft,"target",mt)},getBoundingBox:Z,getRotationPoint:function(ye){return J("target",W(ye,"targetLabelX","targetLabelY"),ye)},getRotationOffset:function(ye){return x(Z(ye))},isVisible:U}),qe=o.data.lyrTxrCache=new xf(o);o.onUpdateEleCalcs(function(ye,Me){Fe.invalidateElements(Me),Ee.invalidateElements(Me),Re.invalidateElements(Me),Ye.invalidateElements(Me),qe.invalidateElements(Me);for(var Je=0;Je<Me.length;Je++){var ft=Me[Je]._private;ft.oldBackgroundTimestamp=ft.backgroundTimestamp}});var We=function(ye){for(var Me=0;Me<ye.length;Me++)qe.enqueueElementRefinement(ye[Me].ele)};Fe.onDequeue(We),Ee.onDequeue(We),Re.onDequeue(We),Ye.onDequeue(We)}oi.CANVAS_LAYERS=3,oi.SELECT_BOX=0,oi.DRAG=1,oi.NODE=2,oi.BUFFER_COUNT=3,oi.TEXTURE_BUFFER=0,oi.MOTIONBLUR_BUFFER_NODE=1,oi.MOTIONBLUR_BUFFER_DRAG=2,oi.redrawHint=function(u,o){var c=this;switch(u){case"eles":c.data.canvasNeedsRedraw[oi.NODE]=o;break;case"drag":c.data.canvasNeedsRedraw[oi.DRAG]=o;break;case"select":c.data.canvasNeedsRedraw[oi.SELECT_BOX]=o}};var jg=typeof Path2D<"u";oi.path2dEnabled=function(u){if(void 0===u)return this.pathsEnabled;this.pathsEnabled=!!u},oi.usePaths=function(){return jg&&this.pathsEnabled},oi.setImgSmoothing=function(u,o){null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled=o:(u.webkitImageSmoothingEnabled=o,u.mozImageSmoothingEnabled=o,u.msImageSmoothingEnabled=o)},oi.getImgSmoothing=function(u){return null!=u.imageSmoothingEnabled?u.imageSmoothingEnabled:u.webkitImageSmoothingEnabled||u.mozImageSmoothingEnabled||u.msImageSmoothingEnabled},oi.makeOffscreenCanvas=function(u,o){var c;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":st(OffscreenCanvas))?c=new OffscreenCanvas(u,o):((c=document.createElement("canvas")).width=u,c.height=o),c},[i_,mo,xs,Ef,rc,Ta,Os,Aa,sc,{nodeShapeImpl:function(u,o,c,d,f,p,g){switch(u){case"ellipse":return this.drawEllipsePath(o,c,d,f,p);case"polygon":return this.drawPolygonPath(o,c,d,f,p,g);case"round-polygon":return this.drawRoundPolygonPath(o,c,d,f,p,g);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(o,c,d,f,p);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(o,c,d,f,p);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(o,c,d,f,p);case"barrel":return this.drawBarrelPath(o,c,d,f,p)}}}].forEach(function(u){qt(oi,u)});var Ug=[{type:"layout",extensions:RA},{type:"renderer",extensions:[{name:"null",impl:jy},{name:"base",impl:ws},{name:"canvas",impl:xx}]}],bl={},h_={};function f_(u,o,c){var d=c,f=function(Z){ti("Can not register `"+o+"` for `"+u+"` since `"+Z+"` already exists in the prototype and can not be overridden")};if("core"===u){if(Ad.prototype[o])return f(o);Ad.prototype[o]=c}else if("collection"===u){if(Nr.prototype[o])return f(o);Nr.prototype[o]=c}else if("layout"===u){for(var p=function(Z){this.options=Z,c.call(this,Z),tt(this._private)||(this._private={}),this._private.cy=Z.cy,this._private.listeners=[],this.createEmitter()},g=p.prototype=Object.create(c.prototype),y=[],b=0;b<y.length;b++){var _=y[b];g[_]=g[_]||function(){return this}}g.start&&!g.run?g.run=function(){return this.start(),this}:!g.start&&g.run&&(g.start=function(){return this.run(),this});var w=c.prototype.stop;g.stop=function(){var H=this.options;if(H&&H.animate){var Z=this.animations;if(Z)for(var U=0;U<Z.length;U++)Z[U].stop()}return w?w.call(this):this.emit("layoutstop"),this},g.destroy||(g.destroy=function(){return this}),g.cy=function(){return this._private.cy};var x=function(Z){return Z._private.cy},E={addEventFields:function(Z,U){U.layout=Z,U.cy=x(Z),U.target=Z},bubble:function(){return!0},parent:function(Z){return x(Z)}};qt(g,{createEmitter:function(){return this._private.emitter=new Da(E,this),this},emitter:function(){return this._private.emitter},on:function(Z,U){return this.emitter().on(Z,U),this},one:function(Z,U){return this.emitter().one(Z,U),this},once:function(Z,U){return this.emitter().one(Z,U),this},removeListener:function(Z,U){return this.emitter().removeListener(Z,U),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(Z,U){return this.emitter().emit(Z,U),this}}),An.eventAliasesOn(g),d=p}else if("renderer"===u&&"null"!==o&&"base"!==o){var S=Dx("renderer","base"),M=S.prototype,A=c,I=c.prototype,R=function(){S.apply(this,arguments),A.apply(this,arguments)},F=R.prototype;for(var L in M){var z=M[L];if(null!=I[L])return f(L);F[L]=z}for(var Y in I)F[Y]=I[Y];M.clientFunctions.forEach(function(H){F[H]=F[H]||function(){Pi("Renderer does not implement `renderer."+H+"()` on its prototype")}}),d=R}else if("__proto__"===u||"constructor"===u||"prototype"===u)return Pi(u+" is an illegal type to be registered, possibly lead to prototype pollutions");return _a({map:bl,keys:[u,o],value:d})}function Dx(u,o){return Vc({map:bl,keys:[u,o]})}function Ex(u,o,c,d,f){return _a({map:h_,keys:[u,o,c,d],value:f})}function Gg(u,o,c,d){return Vc({map:h_,keys:[u,o,c,d]})}var Wg=function(){return 2===arguments.length?Dx.apply(null,arguments):3===arguments.length?f_.apply(null,arguments):4===arguments.length?Gg.apply(null,arguments):5===arguments.length?Ex.apply(null,arguments):void Pi("Invalid extension access syntax")};Ad.prototype.extension=Wg,Ug.forEach(function(u){u.extensions.forEach(function(o){f_(u.type,o.name,o.impl)})});var qg=function u(){if(!(this instanceof u))return new u;this.length=0},ia=qg.prototype;ia.instanceString=function(){return"stylesheet"},ia.selector=function(u){return this[this.length++]={selector:u,properties:[]},this},ia.css=function(u,o){var c=this.length-1;if(Ae(u))this[c].properties.push({name:u,value:o});else if(tt(u))for(var d=u,f=Object.keys(d),p=0;p<f.length;p++){var g=f[p],y=d[g];if(null!=y){var b=sr.properties[g]||sr.properties[ns(g)];null!=b&&this[c].properties.push({name:b.name,value:y})}}return this},ia.style=ia.css,ia.generateStyle=function(u){var o=new sr(u);return this.appendToStyle(o)},ia.appendToStyle=function(u){for(var o=0;o<this.length;o++){var c=this[o],f=c.properties;u.selector(c.selector);for(var p=0;p<f.length;p++){var g=f[p];u.css(g.name,g.value)}}return u};var wl=function(o){return void 0===o&&(o={}),tt(o)?new Ad(o):Ae(o)?Wg.apply(Wg,arguments):void 0};wl.use=function(u){var o=Array.prototype.slice.call(arguments,1);return o.unshift(wl),u.apply(null,o),this},wl.warnings=function(u){return Oh(u)},wl.version="3.23.0",wl.stylesheet=wl.Stylesheet=qg,fe.exports=wl},5203:(fe,ve,N)=>{fe.exports=N(8732)},8732:function(fe,ve){var N,j,ee;(function(){var se,ie,ne,re,ue,ge,Ce,Be,rt,st,et,Ve,we,Qe,xt;ne=Math.floor,st=Math.min,ie=function(xe,ot){return xe<ot?-1:xe>ot?1:0},rt=function(xe,ot,ct,yt,zt){var At;if(null==ct&&(ct=0),null==zt&&(zt=ie),ct<0)throw new Error("lo must be non-negative");for(null==yt&&(yt=xe.length);ct<yt;)zt(ot,xe[At=ne((ct+yt)/2)])<0?yt=At:ct=At+1;return[].splice.apply(xe,[ct,ct-ct].concat(ot)),ot},ge=function(xe,ot,ct){return null==ct&&(ct=ie),xe.push(ot),Qe(xe,0,xe.length-1,ct)},ue=function(xe,ot){var ct,yt;return null==ot&&(ot=ie),ct=xe.pop(),xe.length?(yt=xe[0],xe[0]=ct,xt(xe,0,ot)):yt=ct,yt},Be=function(xe,ot,ct){var yt;return null==ct&&(ct=ie),yt=xe[0],xe[0]=ot,xt(xe,0,ct),yt},Ce=function(xe,ot,ct){var yt;return null==ct&&(ct=ie),xe.length&&ct(xe[0],ot)<0&&(ot=(yt=[xe[0],ot])[0],xe[0]=yt[1],xt(xe,0,ct)),ot},re=function(xe,ot){var yt,At,ln,En,dt;for(null==ot&&(ot=ie),En=[],yt=0,At=(ln=function(){dt=[];for(var _t=0,$e=ne(xe.length/2);0<=$e?_t<$e:_t>$e;0<=$e?_t++:_t--)dt.push(_t);return dt}.apply(this).reverse()).length;yt<At;yt++)En.push(xt(xe,ln[yt],ot));return En},we=function(xe,ot,ct){var yt;if(null==ct&&(ct=ie),-1!==(yt=xe.indexOf(ot)))return Qe(xe,0,yt,ct),xt(xe,yt,ct)},et=function(xe,ot,ct){var zt,At,Ot,ln;if(null==ct&&(ct=ie),!(zt=xe.slice(0,ot)).length)return zt;for(re(zt,ct),At=0,Ot=(ln=xe.slice(ot)).length;At<Ot;At++)Ce(zt,ln[At],ct);return zt.sort(ct).reverse()},Ve=function(xe,ot,ct){var yt,At,Ot,ln,En,dt,_t,$e,Ae;if(null==ct&&(ct=ie),10*ot<=xe.length){if(!(Ot=xe.slice(0,ot).sort(ct)).length)return Ot;for(At=Ot[Ot.length-1],ln=0,dt=(_t=xe.slice(ot)).length;ln<dt;ln++)ct(yt=_t[ln],At)<0&&(rt(Ot,yt,0,null,ct),Ot.pop(),At=Ot[Ot.length-1]);return Ot}for(re(xe,ct),Ae=[],En=0,$e=st(ot,xe.length);0<=$e?En<$e:En>$e;0<=$e?++En:--En)Ae.push(ue(xe,ct));return Ae},Qe=function(xe,ot,ct,yt){var zt,At,Ot;for(null==yt&&(yt=ie),zt=xe[ct];ct>ot&&yt(zt,At=xe[Ot=ct-1>>1])<0;)xe[ct]=At,ct=Ot;return xe[ct]=zt},xt=function(xe,ot,ct){var yt,zt,At,Ot,ln;for(null==ct&&(ct=ie),zt=xe.length,ln=ot,At=xe[ot],yt=2*ot+1;yt<zt;)(Ot=yt+1)<zt&&!(ct(xe[yt],xe[Ot])<0)&&(yt=Ot),xe[ot]=xe[yt],yt=2*(ot=yt)+1;return xe[ot]=At,Qe(xe,ln,ot,ct)},se=function(){function xe(ot){this.cmp=ot??ie,this.nodes=[]}return xe.push=ge,xe.pop=ue,xe.replace=Be,xe.pushpop=Ce,xe.heapify=re,xe.updateItem=we,xe.nlargest=et,xe.nsmallest=Ve,xe.prototype.push=function(ot){return ge(this.nodes,ot,this.cmp)},xe.prototype.pop=function(){return ue(this.nodes,this.cmp)},xe.prototype.peek=function(){return this.nodes[0]},xe.prototype.contains=function(ot){return-1!==this.nodes.indexOf(ot)},xe.prototype.replace=function(ot){return Be(this.nodes,ot,this.cmp)},xe.prototype.pushpop=function(ot){return Ce(this.nodes,ot,this.cmp)},xe.prototype.heapify=function(){return re(this.nodes,this.cmp)},xe.prototype.updateItem=function(ot){return we(this.nodes,ot,this.cmp)},xe.prototype.clear=function(){return this.nodes=[]},xe.prototype.empty=function(){return 0===this.nodes.length},xe.prototype.size=function(){return this.nodes.length},xe.prototype.clone=function(){var ot;return(ot=new xe).nodes=this.nodes.slice(0),ot},xe.prototype.toArray=function(){return this.nodes.slice(0)},xe.prototype.insert=xe.prototype.push,xe.prototype.top=xe.prototype.peek,xe.prototype.front=xe.prototype.peek,xe.prototype.has=xe.prototype.contains,xe.prototype.copy=xe.prototype.clone,xe}(),j=[],void 0===(ee="function"==typeof(N=function(){return se})?N.apply(ve,j):N)||(fe.exports=ee)}).call(this)},4994:(fe,ve,N)=>{var j=N(4312),ee=N(6421),se=N(5764),ie=N(8685),ne=N(6676);function re(ue){var ge=-1,Ce=null==ue?0:ue.length;for(this.clear();++ge<Ce;){var Be=ue[ge];this.set(Be[0],Be[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,fe.exports=re},9215:(fe,ve,N)=>{var j=N(1840),ee=N(4378),se=N(4981),ie=N(7343),ne=N(8895);function re(ue){var ge=-1,Ce=null==ue?0:ue.length;for(this.clear();++ge<Ce;){var Be=ue[ge];this.set(Be[0],Be[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,fe.exports=re},1501:(fe,ve,N)=>{var se=N(3436)(N(2119),"Map");fe.exports=se},9850:(fe,ve,N)=>{var j=N(638),ee=N(1184),se=N(866),ie=N(3771),ne=N(1772);function re(ue){var ge=-1,Ce=null==ue?0:ue.length;for(this.clear();++ge<Ce;){var Be=ue[ge];this.set(Be[0],Be[1])}}re.prototype.clear=j,re.prototype.delete=ee,re.prototype.get=se,re.prototype.has=ie,re.prototype.set=ne,fe.exports=re},443:(fe,ve,N)=>{var j=N(2119);fe.exports=j.Symbol},4633:fe=>{fe.exports=function ve(N,j){for(var ee=-1,se=null==N?0:N.length,ie=Array(se);++ee<se;)ie[ee]=j(N[ee],ee,N);return ie}},9719:(fe,ve,N)=>{var j=N(5683),ee=N(217),ie=Object.prototype.hasOwnProperty;fe.exports=function ne(re,ue,ge){var Ce=re[ue];(!ie.call(re,ue)||!ee(Ce,ge)||void 0===ge&&!(ue in re))&&j(re,ue,ge)}},3503:(fe,ve,N)=>{var j=N(217);fe.exports=function ee(se,ie){for(var ne=se.length;ne--;)if(j(se[ne][0],ie))return ne;return-1}},5683:(fe,ve,N)=>{var j=N(6713);fe.exports=function ee(se,ie,ne){"__proto__"==ie&&j?j(se,ie,{configurable:!0,enumerable:!0,value:ne,writable:!0}):se[ie]=ne}},5456:(fe,ve,N)=>{var j=N(6884),ee=N(8533);fe.exports=function se(ie,ne){for(var re=0,ue=(ne=j(ne,ie)).length;null!=ie&&re<ue;)ie=ie[ee(ne[re++])];return re&&re==ue?ie:void 0}},3337:(fe,ve,N)=>{var j=N(443),ee=N(1318),se=N(2902),re=j?j.toStringTag:void 0;fe.exports=function ue(ge){return null==ge?void 0===ge?"[object Undefined]":"[object Null]":re&&re in Object(ge)?ee(ge):se(ge)}},7304:(fe,ve,N)=>{var j=N(5946),ee=N(1943),se=N(5940),ie=N(2827),re=/^\[object .+?Constructor\]$/,rt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");fe.exports=function st(et){return!(!se(et)||ee(et))&&(j(et)?rt:re).test(ie(et))}},5963:(fe,ve,N)=>{var j=N(9719),ee=N(6884),se=N(8442),ie=N(5940),ne=N(8533);fe.exports=function re(ue,ge,Ce,Be){if(!ie(ue))return ue;for(var rt=-1,st=(ge=ee(ge,ue)).length,et=st-1,Ve=ue;null!=Ve&&++rt<st;){var we=ne(ge[rt]),Qe=Ce;if("__proto__"===we||"constructor"===we||"prototype"===we)return ue;if(rt!=et){var xt=Ve[we];void 0===(Qe=Be?Be(xt,we,Ve):void 0)&&(Qe=ie(xt)?xt:se(ge[rt+1])?[]:{})}j(Ve,we,Qe),Ve=Ve[we]}return ue}},3935:(fe,ve,N)=>{var j=N(443),ee=N(4633),se=N(1503),ie=N(4129),re=j?j.prototype:void 0,ue=re?re.toString:void 0;fe.exports=function ge(Ce){if("string"==typeof Ce)return Ce;if(se(Ce))return ee(Ce,ge)+"";if(ie(Ce))return ue?ue.call(Ce):"";var Be=Ce+"";return"0"==Be&&1/Ce==-1/0?"-0":Be}},3348:(fe,ve,N)=>{var j=N(2760),ee=/^\s+/;fe.exports=function se(ie){return ie&&ie.slice(0,j(ie)+1).replace(ee,"")}},6884:(fe,ve,N)=>{var j=N(1503),ee=N(5352),se=N(2855),ie=N(3943);fe.exports=function ne(re,ue){return j(re)?re:ee(re,ue)?[re]:se(ie(re))}},9454:fe=>{fe.exports=function ve(N,j){var ee=-1,se=N.length;for(j||(j=Array(se));++ee<se;)j[ee]=N[ee];return j}},4610:(fe,ve,N)=>{var j=N(2119);fe.exports=j["__core-js_shared__"]},6713:(fe,ve,N)=>{var j=N(3436),ee=function(){try{var se=j(Object,"defineProperty");return se({},"",{}),se}catch{}}();fe.exports=ee},9122:fe=>{var ve="object"==typeof global&&global&&global.Object===Object&&global;fe.exports=ve},4537:(fe,ve,N)=>{var j=N(3819);fe.exports=function ee(se,ie){var ne=se.__data__;return j(ie)?ne["string"==typeof ie?"string":"hash"]:ne.map}},3436:(fe,ve,N)=>{var j=N(7304),ee=N(1990);fe.exports=function se(ie,ne){var re=ee(ie,ne);return j(re)?re:void 0}},1318:(fe,ve,N)=>{var j=N(443),ee=Object.prototype,se=ee.hasOwnProperty,ie=ee.toString,ne=j?j.toStringTag:void 0;fe.exports=function re(ue){var ge=se.call(ue,ne),Ce=ue[ne];try{ue[ne]=void 0;var Be=!0}catch{}var rt=ie.call(ue);return Be&&(ge?ue[ne]=Ce:delete ue[ne]),rt}},1990:fe=>{fe.exports=function ve(N,j){return N?.[j]}},4312:(fe,ve,N)=>{var j=N(862);fe.exports=function ee(){this.__data__=j?j(null):{},this.size=0}},6421:fe=>{fe.exports=function ve(N){var j=this.has(N)&&delete this.__data__[N];return this.size-=j?1:0,j}},5764:(fe,ve,N)=>{var j=N(862),ie=Object.prototype.hasOwnProperty;fe.exports=function ne(re){var ue=this.__data__;if(j){var ge=ue[re];return"__lodash_hash_undefined__"===ge?void 0:ge}return ie.call(ue,re)?ue[re]:void 0}},8685:(fe,ve,N)=>{var j=N(862),se=Object.prototype.hasOwnProperty;fe.exports=function ie(ne){var re=this.__data__;return j?void 0!==re[ne]:se.call(re,ne)}},6676:(fe,ve,N)=>{var j=N(862);fe.exports=function se(ie,ne){var re=this.__data__;return this.size+=this.has(ie)?0:1,re[ie]=j&&void 0===ne?"__lodash_hash_undefined__":ne,this}},8442:fe=>{var N=/^(?:0|[1-9]\d*)$/;fe.exports=function j(ee,se){var ie=typeof ee;return!!(se=se??9007199254740991)&&("number"==ie||"symbol"!=ie&&N.test(ee))&&ee>-1&&ee%1==0&&ee<se}},5352:(fe,ve,N)=>{var j=N(1503),ee=N(4129),se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/;fe.exports=function ne(re,ue){if(j(re))return!1;var ge=typeof re;return!("number"!=ge&&"symbol"!=ge&&"boolean"!=ge&&null!=re&&!ee(re))||ie.test(re)||!se.test(re)||null!=ue&&re in Object(ue)}},3819:fe=>{fe.exports=function ve(N){var j=typeof N;return"string"==j||"number"==j||"symbol"==j||"boolean"==j?"__proto__"!==N:null===N}},1943:(fe,ve,N)=>{var ie,j=N(4610),ee=(ie=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"";fe.exports=function se(ie){return!!ee&&ee in ie}},1840:fe=>{fe.exports=function ve(){this.__data__=[],this.size=0}},4378:(fe,ve,N)=>{var j=N(3503),se=Array.prototype.splice;fe.exports=function ie(ne){var re=this.__data__,ue=j(re,ne);return!(ue<0||(ue==re.length-1?re.pop():se.call(re,ue,1),--this.size,0))}},4981:(fe,ve,N)=>{var j=N(3503);fe.exports=function ee(se){var ie=this.__data__,ne=j(ie,se);return ne<0?void 0:ie[ne][1]}},7343:(fe,ve,N)=>{var j=N(3503);fe.exports=function ee(se){return j(this.__data__,se)>-1}},8895:(fe,ve,N)=>{var j=N(3503);fe.exports=function ee(se,ie){var ne=this.__data__,re=j(ne,se);return re<0?(++this.size,ne.push([se,ie])):ne[re][1]=ie,this}},638:(fe,ve,N)=>{var j=N(4994),ee=N(9215),se=N(1501);fe.exports=function ie(){this.size=0,this.__data__={hash:new j,map:new(se||ee),string:new j}}},1184:(fe,ve,N)=>{var j=N(4537);fe.exports=function ee(se){var ie=j(this,se).delete(se);return this.size-=ie?1:0,ie}},866:(fe,ve,N)=>{var j=N(4537);fe.exports=function ee(se){return j(this,se).get(se)}},3771:(fe,ve,N)=>{var j=N(4537);fe.exports=function ee(se){return j(this,se).has(se)}},1772:(fe,ve,N)=>{var j=N(4537);fe.exports=function ee(se,ie){var ne=j(this,se),re=ne.size;return ne.set(se,ie),this.size+=ne.size==re?0:1,this}},719:(fe,ve,N)=>{var j=N(535);fe.exports=function se(ie){var ne=j(ie,function(ue){return 500===re.size&&re.clear(),ue}),re=ne.cache;return ne}},862:(fe,ve,N)=>{var ee=N(3436)(Object,"create");fe.exports=ee},2902:fe=>{var N=Object.prototype.toString;fe.exports=function j(ee){return N.call(ee)}},2119:(fe,ve,N)=>{var j=N(9122),ee="object"==typeof self&&self&&self.Object===Object&&self,se=j||ee||Function("return this")();fe.exports=se},2855:(fe,ve,N)=>{var j=N(719),ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,se=/\\(\\)?/g,ie=j(function(ne){var re=[];return 46===ne.charCodeAt(0)&&re.push(""),ne.replace(ee,function(ue,ge,Ce,Be){re.push(Ce?Be.replace(se,"$1"):ge||ue)}),re});fe.exports=ie},8533:(fe,ve,N)=>{var j=N(4129);fe.exports=function se(ie){if("string"==typeof ie||j(ie))return ie;var ne=ie+"";return"0"==ne&&1/ie==-1/0?"-0":ne}},2827:fe=>{var N=Function.prototype.toString;fe.exports=function j(ee){if(null!=ee){try{return N.call(ee)}catch{}try{return ee+""}catch{}}return""}},2760:fe=>{var ve=/\s/;fe.exports=function N(j){for(var ee=j.length;ee--&&ve.test(j.charAt(ee)););return ee}},406:(fe,ve,N)=>{var j=N(5940),ee=N(1710),se=N(1467),ne=Math.max,re=Math.min;fe.exports=function ue(ge,Ce,Be){var rt,st,et,Ve,we,Qe,xt=0,xe=!1,ot=!1,ct=!0;if("function"!=typeof ge)throw new TypeError("Expected a function");function yt(Ae){var ht=rt,Mt=st;return rt=st=void 0,xt=Ae,Ve=ge.apply(Mt,ht)}function zt(Ae){return xt=Ae,we=setTimeout(ln,Ce),xe?yt(Ae):Ve}function Ot(Ae){var ht=Ae-Qe;return void 0===Qe||ht>=Ce||ht<0||ot&&Ae-xt>=et}function ln(){var Ae=ee();if(Ot(Ae))return En(Ae);we=setTimeout(ln,function At(Ae){var tt=Ce-(Ae-Qe);return ot?re(tt,et-(Ae-xt)):tt}(Ae))}function En(Ae){return we=void 0,ct&&rt?yt(Ae):(rt=st=void 0,Ve)}function $e(){var Ae=ee(),ht=Ot(Ae);if(rt=arguments,st=this,Qe=Ae,ht){if(void 0===we)return zt(Qe);if(ot)return clearTimeout(we),we=setTimeout(ln,Ce),yt(Qe)}return void 0===we&&(we=setTimeout(ln,Ce)),Ve}return Ce=se(Ce)||0,j(Be)&&(xe=!!Be.leading,et=(ot="maxWait"in Be)?ne(se(Be.maxWait)||0,Ce):et,ct="trailing"in Be?!!Be.trailing:ct),$e.cancel=function dt(){void 0!==we&&clearTimeout(we),xt=0,rt=Qe=st=we=void 0},$e.flush=function _t(){return void 0===we?Ve:En(ee())},$e}},217:fe=>{fe.exports=function ve(N,j){return N===j||N!=N&&j!=j}},8817:(fe,ve,N)=>{var j=N(5456);fe.exports=function ee(se,ie,ne){var re=null==se?void 0:j(se,ie);return void 0===re?ne:re}},1503:fe=>{fe.exports=Array.isArray},5946:(fe,ve,N)=>{var j=N(3337),ee=N(5940);fe.exports=function ue(ge){if(!ee(ge))return!1;var Ce=j(ge);return"[object Function]"==Ce||"[object GeneratorFunction]"==Ce||"[object AsyncFunction]"==Ce||"[object Proxy]"==Ce}},5940:fe=>{fe.exports=function ve(N){var j=typeof N;return null!=N&&("object"==j||"function"==j)}},2671:fe=>{fe.exports=function ve(N){return null!=N&&"object"==typeof N}},4129:(fe,ve,N)=>{var j=N(3337),ee=N(2671);fe.exports=function ie(ne){return"symbol"==typeof ne||ee(ne)&&"[object Symbol]"==j(ne)}},535:(fe,ve,N)=>{var j=N(9850);function se(ie,ne){if("function"!=typeof ie||null!=ne&&"function"!=typeof ne)throw new TypeError("Expected a function");var re=function(){var ue=arguments,ge=ne?ne.apply(this,ue):ue[0],Ce=re.cache;if(Ce.has(ge))return Ce.get(ge);var Be=ie.apply(this,ue);return re.cache=Ce.set(ge,Be)||Ce,Be};return re.cache=new(se.Cache||j),re}se.Cache=j,fe.exports=se},1710:(fe,ve,N)=>{var j=N(2119);fe.exports=function(){return j.Date.now()}},4793:(fe,ve,N)=>{var j=N(5963);fe.exports=function ee(se,ie,ne){return null==se?se:j(se,ie,ne)}},1467:(fe,ve,N)=>{var j=N(3348),ee=N(5940),se=N(4129),ne=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,ge=parseInt;fe.exports=function Ce(Be){if("number"==typeof Be)return Be;if(se(Be))return NaN;if(ee(Be)){var rt="function"==typeof Be.valueOf?Be.valueOf():Be;Be=ee(rt)?rt+"":rt}if("string"!=typeof Be)return 0===Be?Be:+Be;Be=j(Be);var st=re.test(Be);return st||ue.test(Be)?ge(Be.slice(2),st?2:8):ne.test(Be)?NaN:+Be}},4152:(fe,ve,N)=>{var j=N(4633),ee=N(9454),se=N(1503),ie=N(4129),ne=N(2855),re=N(8533),ue=N(3943);fe.exports=function ge(Ce){return se(Ce)?j(Ce,re):ie(Ce)?[Ce]:ee(ne(ue(Ce)))}},3943:(fe,ve,N)=>{var j=N(3935);fe.exports=function ee(se){return null==se?"":j(se)}}},fe=>{fe(fe.s=5985)}]);